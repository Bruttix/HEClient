{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _taggedTemplateLiteral from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";function _templateObject(){const data=_taggedTemplateLiteral([\"\\n    display: block;\\n    position: absolute;\\n    left: 25%;\\n    right: 25%;\\n  \"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useEffect,useState,useRef,useCallback,useMemo}from\"react\";import{Redirect,Link,useLocation}from\"react-router-dom\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faChevronLeft}from\"@fortawesome/free-solid-svg-icons\";import{useSelector,useDispatch}from\"react-redux\";import CalmSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/CalmSummaryCard\";import BacialSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/BacialSummaryCard\";import ClarifySummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/ClarifySummaryCard\";import DermaplaningSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/DermaplaningSummaryCard\";import GlowSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/GlowSummaryCard\";import QuenchSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/QuenchSummaryCard\";import QuickieSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/QuickieSummaryCard\";import ChemicalPeelSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/ChemicalPeelSummaryCard\";import CBDSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/CBDSummaryCard\";import MicroneedleSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/MicroneedleSummaryCard\";import RejuvenateSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/RejuvenateSummaryCard\";import ExtraExtractionsSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/ExtraExtractionsCard\";import HydroJellyMaskSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/HydroJellyMaskSummaryCard\";import LEDTherapySummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/LEDTherapySummaryCard\";import MicrocurrentSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/MicrocurrentSummaryCard\";import MicrodermabrasionSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/MicrodermabrasionSummaryCard\";import DermarollingSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/DermarollingSummaryCard\";import NanoNeedlingSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/NanoNeedlingSummaryCard\";import GuaShaSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/GuaShaSummaryCard\";import BeardSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/BeardSummaryCard\";import{css}from\"@emotion/css\";import{useMutation}from\"@apollo/react-hooks\";import deleteAppointmentMutation from\"../../../../../graphql/mutations/deleteAppointmentMutation\";import UnsureSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/UnsureSummaryCard\";import ClientRenderUpcomingAppointments from\"./ClientRenderUpcomingAppointments\";import SaltCaveSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/SaltCaveSummaryCard\";import ACTION_SPLASH_SCREEN_COMPLETE from\"../../../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";import ACTION_SPLASH_SCREEN_HALFWAY from\"../../../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";import ACTION_CANCEL_APPOINTMENT_CLICKED_RESET from\"../../../../../actions/CancelAppointmentClicked/ACTION_CANCEL_APPOINTMENT_CLICKED_RESET\";import\"../MyAppointments.css\";const UpcomingAppointments=props=>{const location=useLocation();const dispatch=useDispatch();const refetch=props.refetch,initialScreenSize=props.initialScreenSize,currentScreenSize=props.currentScreenSize,loadingAppointments=props.loadingAppointments,upcomingAppointmentsData=props.upcomingAppointmentsData,upcomingAppointmentsCalled=props.upcomingAppointmentsCalled,getOwnAppointments=props.getOwnAppointments;const individualAppointmentRef=useRef(null);const selectedAppointmentBackRef=useRef(null);const backToAppointmentsRef=useRef(null);const splashScreenComplete=useSelector(state=>state.splashScreenComplete.splashScreenComplete);const splashScreenHalfway=useSelector(state=>state.splashScreenHalfway.splashScreenHalfway);const userAuthenticated=useSelector(state=>state.userAuthenticated.user_authenticated);const logoutClicked=useSelector(state=>state.logoutClicked.log_out_clicked);const adminAuthenticated=useSelector(state=>state.adminAuthenticated.admin_authenticated);const cancelAppointmentClicked=useSelector(state=>state.cancelAppointmentClicked.cancelAppointmentClicked);const pdfLoading=useSelector(state=>state.pdfLoading.pdf_loading);const _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),appointmentToggled=_useState2[0],changeAppointmentToggled=_useState2[1];const _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loadingSpinnerActive=_useState4[0],changeLoadingSpinnerActive=_useState4[1];const _useMutation=useMutation(deleteAppointmentMutation),_useMutation2=_slicedToArray(_useMutation,2),deleteAppointment=_useMutation2[0],_useMutation2$=_useMutation2[1],loading=_useMutation2$.loading,deleteAppointmentData=_useMutation2$.data;const override=css(_templateObject());const handleCancelAppointment=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(item){return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return deleteAppointment({variables:{_id:item.id}}).then(()=>{setTimeout(()=>refetch(),1000);});case 2:case\"end\":return _context.stop();}},_callee);}));return function handleCancelAppointment(_x){return _ref.apply(this,arguments);};}();const resetStatesAfterLoading=useCallback(()=>{refetch();changeLoadingSpinnerActive(false);dispatch(ACTION_CANCEL_APPOINTMENT_CLICKED_RESET());changeAppointmentToggled(false);},[dispatch,refetch]);useEffect(()=>{if(deleteAppointmentData){const loadingFunction=setTimeout(()=>resetStatesAfterLoading(),2000);return()=>{clearTimeout(loadingFunction);};}},[deleteAppointmentData,resetStatesAfterLoading]);useEffect(()=>{if(loading){changeLoadingSpinnerActive(true);}},[loading,deleteAppointmentData]);useEffect(()=>{if(!splashScreenComplete){dispatch(ACTION_SPLASH_SCREEN_COMPLETE());}if(!splashScreenHalfway){dispatch(ACTION_SPLASH_SCREEN_HALFWAY());}},[dispatch,splashScreenComplete,splashScreenHalfway]);const redirectToLogInPage=()=>{if(!userAuthenticated&&!adminAuthenticated){return/*#__PURE__*/React.createElement(Redirect,{to:\"/account/login\"});}};useMemo(()=>{if(!upcomingAppointmentsCalled){getOwnAppointments();}},[getOwnAppointments,upcomingAppointmentsCalled]);useEffect(()=>{if(location.pathname){window.scrollTo(0,0);}},[location.pathname]);const treatmentsSummaryCardComponentsArr=[{name:\"Calm\",component:/*#__PURE__*/React.createElement(CalmSummaryCard,null)},{name:\"Bacial\",component:/*#__PURE__*/React.createElement(BacialSummaryCard,null)},{name:\"Clarify\",component:/*#__PURE__*/React.createElement(ClarifySummaryCard,null)},{name:\"Dermaplaning\",component:/*#__PURE__*/React.createElement(DermaplaningSummaryCard,null)},{name:\"Glow\",component:/*#__PURE__*/React.createElement(GlowSummaryCard,null)},{name:\"Quench\",component:/*#__PURE__*/React.createElement(QuenchSummaryCard,null)},{name:\"Quickie\",component:/*#__PURE__*/React.createElement(QuickieSummaryCard,null)},{name:\"ChemicalPeel\",component:/*#__PURE__*/React.createElement(ChemicalPeelSummaryCard,null)},{name:\"CBD\",component:/*#__PURE__*/React.createElement(CBDSummaryCard,null)},{name:\"Microneedling\",component:/*#__PURE__*/React.createElement(MicroneedleSummaryCard,null)},{name:\"Rejuvenate\",component:/*#__PURE__*/React.createElement(RejuvenateSummaryCard,null)},{name:\"Not Sure\",component:/*#__PURE__*/React.createElement(UnsureSummaryCard,null)},{name:\"Salt Cave\",component:/*#__PURE__*/React.createElement(SaltCaveSummaryCard,null)}];const addOnsSummaryCardComponentsArr=[{name:\"ExtraExtractions\",component:/*#__PURE__*/React.createElement(ExtraExtractionsSummaryCard,null)},{name:\"HydroJelly\",component:/*#__PURE__*/React.createElement(HydroJellyMaskSummaryCard,null)},{name:\"LED\",component:/*#__PURE__*/React.createElement(LEDTherapySummaryCard,null)},{name:\"Microcurrent\",component:/*#__PURE__*/React.createElement(MicrocurrentSummaryCard,null)},{name:\"Microdermabrasion\",component:/*#__PURE__*/React.createElement(MicrodermabrasionSummaryCard,null)},{name:\"Dermarolling\",component:/*#__PURE__*/React.createElement(DermarollingSummaryCard,null)},{name:\"NanoNeedling\",component:/*#__PURE__*/React.createElement(NanoNeedlingSummaryCard,null)},{name:\"GuaSha\",component:/*#__PURE__*/React.createElement(GuaShaSummaryCard,null)},{name:\"Beard\",component:/*#__PURE__*/React.createElement(BeardSummaryCard,null)}];const renderSummaryCardTreatments=dataIndex=>{let componentsArr=[];for(let i=0;i<treatmentsSummaryCardComponentsArr.length;i++){if(upcomingAppointmentsData){if(upcomingAppointmentsData.own_appointments){if(upcomingAppointmentsData.own_appointments[dataIndex].treatments){if(upcomingAppointmentsData.own_appointments[dataIndex].treatments[0].name){if(upcomingAppointmentsData.own_appointments[dataIndex].treatments[0].name===treatmentsSummaryCardComponentsArr[i].name){componentsArr.push(treatmentsSummaryCardComponentsArr[i].component);}}}}}}return componentsArr.map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{className:\"my_selected_appointment_treatment_container\",key:index},item));};const renderSummaryCardAddOns=dataIndex=>{let componentsArr=[];for(let i=0;i<addOnsSummaryCardComponentsArr.length;i++){for(let j=0;j<upcomingAppointmentsData.own_appointments[dataIndex].addOns.length;j++){if(upcomingAppointmentsData){if(upcomingAppointmentsData.own_appointments){if(upcomingAppointmentsData.own_appointments[dataIndex].addOns!==[]){if(upcomingAppointmentsData.own_appointments[dataIndex].addOns[j].name){if(upcomingAppointmentsData.own_appointments[dataIndex].addOns[j].name===addOnsSummaryCardComponentsArr[i].name){componentsArr.push(addOnsSummaryCardComponentsArr[i].component);}}}}}}}return componentsArr.map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{className:\"my_selected_appointment_treatment_container\",key:index},item));};// Allows click only if selected appointment modal is not active\nconst handleAppointmentToggled=(e,item)=>{if(e.currentTarget&&individualAppointmentRef){if(individualAppointmentRef.current){if(individualAppointmentRef.current.className===e.currentTarget.className){if(selectedAppointmentBackRef){if(!selectedAppointmentBackRef.current){if(item){if(item.id){changeAppointmentToggled(item.id);}}}}}}}};// Function for back arrow click to reset selected toggled appointment\nconst handleAppointmentUntoggled=e=>{if(e.currentTarget&&selectedAppointmentBackRef||e.currentTarget&&backToAppointmentsRef){if(selectedAppointmentBackRef.current||backToAppointmentsRef.current){if(selectedAppointmentBackRef.current.className===e.currentTarget.className||backToAppointmentsRef.current.className===e.currentTarget.className){changeAppointmentToggled(\"\");}}}};return/*#__PURE__*/React.createElement(\"div\",{className:\"my_appointments_container\",style:{height:upcomingAppointmentsData?upcomingAppointmentsData.own_appointments.length>4?\"100%\":\"100vh\":\"100vh\",zIndex:logoutClicked||pdfLoading?-1:\"auto\"}},redirectToLogInPage(),/*#__PURE__*/React.createElement(\"div\",{className:\"my_appointments_header\",style:{zIndex:cancelAppointmentClicked?0:3,filter:cancelAppointmentClicked?\"blur(5px)\":\"none\"}},adminAuthenticated?null:/*#__PURE__*/React.createElement(Link,{to:\"/account/clientprofile\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"my_appointments_header_back_arrow\",icon:faChevronLeft})),/*#__PURE__*/React.createElement(\"h1\",null,adminAuthenticated?\"CLIENT\":\"MY\",\" \",!currentScreenSize?initialScreenSize>=1200?\"UPCOMING \":null:currentScreenSize>=1200?\"UPCOMING \":null,\"APPOINTMENTS\")),/*#__PURE__*/React.createElement(\"div\",{className:\"my_appointments_sub_header\",style:{zIndex:logoutClicked?-1:2}},/*#__PURE__*/React.createElement(\"div\",{className:\"upcoming_appointments_upcoming_title_container\"},/*#__PURE__*/React.createElement(\"h2\",null,\"UPCOMING\")),/*#__PURE__*/React.createElement(Link,{to:\"/account/clientprofile/pastappointments\",className:\"sub_header_container_link\"},/*#__PURE__*/React.createElement(\"div\",{className:\"upcoming_appointments_past_title_container\"},/*#__PURE__*/React.createElement(\"h2\",null,\"PAST\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"my_appointments_content_container\"},/*#__PURE__*/React.createElement(ClientRenderUpcomingAppointments,{upcomingAppointmentsData:upcomingAppointmentsData,loadingAppointments:loadingAppointments,handleAppointmentToggled:handleAppointmentToggled,handleAppointmentUntoggled:handleAppointmentUntoggled,handleCancelAppointment:handleCancelAppointment,individualAppointmentRef:individualAppointmentRef,appointmentToggled:appointmentToggled,override:override,renderSummaryCardAddOns:renderSummaryCardAddOns,renderSummaryCardTreatments:renderSummaryCardTreatments,cancelAppointmentClicked:cancelAppointmentClicked,changeLoadingSpinnerActive:changeLoadingSpinnerActive,loadingSpinnerActive:loadingSpinnerActive,ref:{individualAppointmentRef:individualAppointmentRef,selectedAppointmentBackRef:selectedAppointmentBackRef,backToAppointmentsRef:backToAppointmentsRef},currentScreenSize:currentScreenSize,initialScreenSize:initialScreenSize})));};export default UpcomingAppointments;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/HighEnd/Client/src/components/account/clientprofile/MyAppointments/Upcoming/UpcomingAppointments.js"],"names":["React","useEffect","useState","useRef","useCallback","useMemo","Redirect","Link","useLocation","FontAwesomeIcon","faChevronLeft","useSelector","useDispatch","CalmSummaryCard","BacialSummaryCard","ClarifySummaryCard","DermaplaningSummaryCard","GlowSummaryCard","QuenchSummaryCard","QuickieSummaryCard","ChemicalPeelSummaryCard","CBDSummaryCard","MicroneedleSummaryCard","RejuvenateSummaryCard","ExtraExtractionsSummaryCard","HydroJellyMaskSummaryCard","LEDTherapySummaryCard","MicrocurrentSummaryCard","MicrodermabrasionSummaryCard","DermarollingSummaryCard","NanoNeedlingSummaryCard","GuaShaSummaryCard","BeardSummaryCard","css","useMutation","deleteAppointmentMutation","UnsureSummaryCard","ClientRenderUpcomingAppointments","SaltCaveSummaryCard","ACTION_SPLASH_SCREEN_COMPLETE","ACTION_SPLASH_SCREEN_HALFWAY","ACTION_CANCEL_APPOINTMENT_CLICKED_RESET","UpcomingAppointments","props","location","dispatch","refetch","initialScreenSize","currentScreenSize","loadingAppointments","upcomingAppointmentsData","upcomingAppointmentsCalled","getOwnAppointments","individualAppointmentRef","selectedAppointmentBackRef","backToAppointmentsRef","splashScreenComplete","state","splashScreenHalfway","userAuthenticated","user_authenticated","logoutClicked","log_out_clicked","adminAuthenticated","admin_authenticated","cancelAppointmentClicked","pdfLoading","pdf_loading","appointmentToggled","changeAppointmentToggled","loadingSpinnerActive","changeLoadingSpinnerActive","deleteAppointment","loading","deleteAppointmentData","data","override","handleCancelAppointment","item","variables","_id","id","then","setTimeout","resetStatesAfterLoading","loadingFunction","clearTimeout","redirectToLogInPage","pathname","window","scrollTo","treatmentsSummaryCardComponentsArr","name","component","addOnsSummaryCardComponentsArr","renderSummaryCardTreatments","dataIndex","componentsArr","i","length","own_appointments","treatments","push","map","index","renderSummaryCardAddOns","j","addOns","handleAppointmentToggled","e","currentTarget","current","className","handleAppointmentUntoggled","height","zIndex","filter"],"mappings":"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","sourcesContent":["import React, {\r\n  useEffect,\r\n  useState,\r\n  useRef,\r\n  useCallback,\r\n  useMemo,\r\n} from \"react\";\r\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faChevronLeft } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport CalmSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/CalmSummaryCard\";\r\nimport BacialSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/BacialSummaryCard\";\r\nimport ClarifySummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/ClarifySummaryCard\";\r\nimport DermaplaningSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/DermaplaningSummaryCard\";\r\nimport GlowSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/GlowSummaryCard\";\r\nimport QuenchSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/QuenchSummaryCard\";\r\nimport QuickieSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/QuickieSummaryCard\";\r\nimport ChemicalPeelSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/ChemicalPeelSummaryCard\";\r\nimport CBDSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/CBDSummaryCard\";\r\nimport MicroneedleSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/MicroneedleSummaryCard\";\r\nimport RejuvenateSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/RejuvenateSummaryCard\";\r\nimport ExtraExtractionsSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/ExtraExtractionsCard\";\r\nimport HydroJellyMaskSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/HydroJellyMaskSummaryCard\";\r\nimport LEDTherapySummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/LEDTherapySummaryCard\";\r\nimport MicrocurrentSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/MicrocurrentSummaryCard\";\r\nimport MicrodermabrasionSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/MicrodermabrasionSummaryCard\";\r\nimport DermarollingSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/DermarollingSummaryCard\";\r\nimport NanoNeedlingSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/NanoNeedlingSummaryCard\";\r\nimport GuaShaSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/GuaShaSummaryCard\";\r\nimport BeardSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/BeardSummaryCard\";\r\nimport { css } from \"@emotion/css\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport deleteAppointmentMutation from \"../../../../../graphql/mutations/deleteAppointmentMutation\";\r\nimport UnsureSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/UnsureSummaryCard\";\r\nimport ClientRenderUpcomingAppointments from \"./ClientRenderUpcomingAppointments\";\r\nimport SaltCaveSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/SaltCaveSummaryCard\";\r\nimport ACTION_SPLASH_SCREEN_COMPLETE from \"../../../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";\r\nimport ACTION_SPLASH_SCREEN_HALFWAY from \"../../../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";\r\nimport ACTION_CANCEL_APPOINTMENT_CLICKED_RESET from \"../../../../../actions/CancelAppointmentClicked/ACTION_CANCEL_APPOINTMENT_CLICKED_RESET\";\r\nimport \"../MyAppointments.css\";\r\n\r\nconst UpcomingAppointments = (props) => {\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const {\r\n    refetch,\r\n    initialScreenSize,\r\n    currentScreenSize,\r\n    loadingAppointments,\r\n    upcomingAppointmentsData,\r\n    upcomingAppointmentsCalled,\r\n    getOwnAppointments,\r\n  } = props;\r\n\r\n  const individualAppointmentRef = useRef(null);\r\n  const selectedAppointmentBackRef = useRef(null);\r\n  const backToAppointmentsRef = useRef(null);\r\n\r\n  const splashScreenComplete = useSelector(\r\n    (state) => state.splashScreenComplete.splashScreenComplete\r\n  );\r\n  const splashScreenHalfway = useSelector(\r\n    (state) => state.splashScreenHalfway.splashScreenHalfway\r\n  );\r\n  const userAuthenticated = useSelector(\r\n    (state) => state.userAuthenticated.user_authenticated\r\n  );\r\n  const logoutClicked = useSelector(\r\n    (state) => state.logoutClicked.log_out_clicked\r\n  );\r\n  const adminAuthenticated = useSelector(\r\n    (state) => state.adminAuthenticated.admin_authenticated\r\n  );\r\n  const cancelAppointmentClicked = useSelector(\r\n    (state) => state.cancelAppointmentClicked.cancelAppointmentClicked\r\n  );\r\n  const pdfLoading = useSelector((state) => state.pdfLoading.pdf_loading);\r\n  const [appointmentToggled, changeAppointmentToggled] = useState(\"\");\r\n  const [loadingSpinnerActive, changeLoadingSpinnerActive] = useState(false);\r\n  const [\r\n    deleteAppointment,\r\n    { loading, data: deleteAppointmentData },\r\n  ] = useMutation(deleteAppointmentMutation);\r\n\r\n  const override = css`\r\n    display: block;\r\n    position: absolute;\r\n    left: 25%;\r\n    right: 25%;\r\n  `;\r\n\r\n  const handleCancelAppointment = async (item) => {\r\n    await deleteAppointment({\r\n      variables: { _id: item.id },\r\n    }).then(() => {\r\n      setTimeout(() => refetch(), 1000);\r\n    });\r\n  };\r\n\r\n  const resetStatesAfterLoading = useCallback(() => {\r\n    refetch();\r\n    changeLoadingSpinnerActive(false);\r\n    dispatch(ACTION_CANCEL_APPOINTMENT_CLICKED_RESET());\r\n    changeAppointmentToggled(false);\r\n  }, [dispatch, refetch]);\r\n\r\n  useEffect(() => {\r\n    if (deleteAppointmentData) {\r\n      const loadingFunction = setTimeout(() => resetStatesAfterLoading(), 2000);\r\n      return () => {\r\n        clearTimeout(loadingFunction);\r\n      };\r\n    }\r\n  }, [deleteAppointmentData, resetStatesAfterLoading]);\r\n\r\n  useEffect(() => {\r\n    if (loading) {\r\n      changeLoadingSpinnerActive(true);\r\n    }\r\n  }, [loading, deleteAppointmentData]);\r\n\r\n  useEffect(() => {\r\n    if (!splashScreenComplete) {\r\n      dispatch(ACTION_SPLASH_SCREEN_COMPLETE());\r\n    }\r\n    if (!splashScreenHalfway) {\r\n      dispatch(ACTION_SPLASH_SCREEN_HALFWAY());\r\n    }\r\n  }, [dispatch, splashScreenComplete, splashScreenHalfway]);\r\n\r\n  const redirectToLogInPage = () => {\r\n    if (!userAuthenticated && !adminAuthenticated) {\r\n      return <Redirect to=\"/account/login\" />;\r\n    }\r\n  };\r\n\r\n  useMemo(() => {\r\n    if (!upcomingAppointmentsCalled) {\r\n      getOwnAppointments();\r\n    }\r\n  }, [getOwnAppointments, upcomingAppointmentsCalled]);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  const treatmentsSummaryCardComponentsArr = [\r\n    { name: \"Calm\", component: <CalmSummaryCard /> },\r\n    { name: \"Bacial\", component: <BacialSummaryCard /> },\r\n    { name: \"Clarify\", component: <ClarifySummaryCard /> },\r\n    { name: \"Dermaplaning\", component: <DermaplaningSummaryCard /> },\r\n    { name: \"Glow\", component: <GlowSummaryCard /> },\r\n    { name: \"Quench\", component: <QuenchSummaryCard /> },\r\n    { name: \"Quickie\", component: <QuickieSummaryCard /> },\r\n    { name: \"ChemicalPeel\", component: <ChemicalPeelSummaryCard /> },\r\n    { name: \"CBD\", component: <CBDSummaryCard /> },\r\n    { name: \"Microneedling\", component: <MicroneedleSummaryCard /> },\r\n    { name: \"Rejuvenate\", component: <RejuvenateSummaryCard /> },\r\n    { name: \"Not Sure\", component: <UnsureSummaryCard /> },\r\n    { name: \"Salt Cave\", component: <SaltCaveSummaryCard /> },\r\n  ];\r\n\r\n  const addOnsSummaryCardComponentsArr = [\r\n    { name: \"ExtraExtractions\", component: <ExtraExtractionsSummaryCard /> },\r\n    { name: \"HydroJelly\", component: <HydroJellyMaskSummaryCard /> },\r\n    { name: \"LED\", component: <LEDTherapySummaryCard /> },\r\n    { name: \"Microcurrent\", component: <MicrocurrentSummaryCard /> },\r\n    { name: \"Microdermabrasion\", component: <MicrodermabrasionSummaryCard /> },\r\n    { name: \"Dermarolling\", component: <DermarollingSummaryCard /> },\r\n    { name: \"NanoNeedling\", component: <NanoNeedlingSummaryCard /> },\r\n    { name: \"GuaSha\", component: <GuaShaSummaryCard /> },\r\n    { name: \"Beard\", component: <BeardSummaryCard /> },\r\n  ];\r\n\r\n  const renderSummaryCardTreatments = (dataIndex) => {\r\n    let componentsArr = [];\r\n\r\n    for (let i = 0; i < treatmentsSummaryCardComponentsArr.length; i++) {\r\n      if (upcomingAppointmentsData) {\r\n        if (upcomingAppointmentsData.own_appointments) {\r\n          if (upcomingAppointmentsData.own_appointments[dataIndex].treatments) {\r\n            if (\r\n              upcomingAppointmentsData.own_appointments[dataIndex].treatments[0]\r\n                .name\r\n            ) {\r\n              if (\r\n                upcomingAppointmentsData.own_appointments[dataIndex]\r\n                  .treatments[0].name ===\r\n                treatmentsSummaryCardComponentsArr[i].name\r\n              ) {\r\n                componentsArr.push(\r\n                  treatmentsSummaryCardComponentsArr[i].component\r\n                );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return componentsArr.map((item, index) => (\r\n      <div className=\"my_selected_appointment_treatment_container\" key={index}>\r\n        {item}\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  const renderSummaryCardAddOns = (dataIndex) => {\r\n    let componentsArr = [];\r\n\r\n    for (let i = 0; i < addOnsSummaryCardComponentsArr.length; i++) {\r\n      for (\r\n        let j = 0;\r\n        j < upcomingAppointmentsData.own_appointments[dataIndex].addOns.length;\r\n        j++\r\n      ) {\r\n        if (upcomingAppointmentsData) {\r\n          if (upcomingAppointmentsData.own_appointments) {\r\n            if (\r\n              upcomingAppointmentsData.own_appointments[dataIndex].addOns !== []\r\n            ) {\r\n              if (\r\n                upcomingAppointmentsData.own_appointments[dataIndex].addOns[j]\r\n                  .name\r\n              ) {\r\n                if (\r\n                  upcomingAppointmentsData.own_appointments[dataIndex].addOns[j]\r\n                    .name === addOnsSummaryCardComponentsArr[i].name\r\n                ) {\r\n                  componentsArr.push(\r\n                    addOnsSummaryCardComponentsArr[i].component\r\n                  );\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return componentsArr.map((item, index) => (\r\n      <div className=\"my_selected_appointment_treatment_container\" key={index}>\r\n        {item}\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  // Allows click only if selected appointment modal is not active\r\n\r\n  const handleAppointmentToggled = (e, item) => {\r\n    if (e.currentTarget && individualAppointmentRef) {\r\n      if (individualAppointmentRef.current) {\r\n        if (\r\n          individualAppointmentRef.current.className ===\r\n          e.currentTarget.className\r\n        ) {\r\n          if (selectedAppointmentBackRef) {\r\n            if (!selectedAppointmentBackRef.current) {\r\n              if (item) {\r\n                if (item.id) {\r\n                  changeAppointmentToggled(item.id);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Function for back arrow click to reset selected toggled appointment\r\n\r\n  const handleAppointmentUntoggled = (e) => {\r\n    if (\r\n      (e.currentTarget && selectedAppointmentBackRef) ||\r\n      (e.currentTarget && backToAppointmentsRef)\r\n    ) {\r\n      if (selectedAppointmentBackRef.current || backToAppointmentsRef.current) {\r\n        if (\r\n          selectedAppointmentBackRef.current.className ===\r\n            e.currentTarget.className ||\r\n          backToAppointmentsRef.current.className === e.currentTarget.className\r\n        ) {\r\n          changeAppointmentToggled(\"\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"my_appointments_container\"\r\n      style={{\r\n        height: upcomingAppointmentsData\r\n          ? upcomingAppointmentsData.own_appointments.length > 4\r\n            ? \"100%\"\r\n            : \"100vh\"\r\n          : \"100vh\",\r\n        zIndex: logoutClicked || pdfLoading ? -1 : \"auto\",\r\n      }}\r\n    >\r\n      {redirectToLogInPage()}\r\n      <div\r\n        className=\"my_appointments_header\"\r\n        style={{\r\n          zIndex: cancelAppointmentClicked ? 0 : 3,\r\n          filter: cancelAppointmentClicked ? \"blur(5px)\" : \"none\",\r\n        }}\r\n      >\r\n        {adminAuthenticated ? null : (\r\n          <Link to=\"/account/clientprofile\">\r\n            <FontAwesomeIcon\r\n              className=\"my_appointments_header_back_arrow\"\r\n              icon={faChevronLeft}\r\n            />\r\n          </Link>\r\n        )}\r\n        <h1>\r\n          {adminAuthenticated ? \"CLIENT\" : \"MY\"}{\" \"}\r\n          {!currentScreenSize\r\n            ? initialScreenSize >= 1200\r\n              ? \"UPCOMING \"\r\n              : null\r\n            : currentScreenSize >= 1200\r\n            ? \"UPCOMING \"\r\n            : null}\r\n          APPOINTMENTS\r\n        </h1>\r\n      </div>\r\n      {\r\n        <div\r\n          className=\"my_appointments_sub_header\"\r\n          style={{ zIndex: logoutClicked ? -1 : 2 }}\r\n        >\r\n          <div className=\"upcoming_appointments_upcoming_title_container\">\r\n            <h2>UPCOMING</h2>\r\n          </div>\r\n          <Link\r\n            to=\"/account/clientprofile/pastappointments\"\r\n            className=\"sub_header_container_link\"\r\n          >\r\n            <div className=\"upcoming_appointments_past_title_container\">\r\n              <h2>PAST</h2>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      }\r\n      <div className=\"my_appointments_content_container\">\r\n        <ClientRenderUpcomingAppointments\r\n          upcomingAppointmentsData={upcomingAppointmentsData}\r\n          loadingAppointments={loadingAppointments}\r\n          handleAppointmentToggled={handleAppointmentToggled}\r\n          handleAppointmentUntoggled={handleAppointmentUntoggled}\r\n          handleCancelAppointment={handleCancelAppointment}\r\n          individualAppointmentRef={individualAppointmentRef}\r\n          appointmentToggled={appointmentToggled}\r\n          override={override}\r\n          renderSummaryCardAddOns={renderSummaryCardAddOns}\r\n          renderSummaryCardTreatments={renderSummaryCardTreatments}\r\n          cancelAppointmentClicked={cancelAppointmentClicked}\r\n          changeLoadingSpinnerActive={changeLoadingSpinnerActive}\r\n          loadingSpinnerActive={loadingSpinnerActive}\r\n          ref={{\r\n            individualAppointmentRef: individualAppointmentRef,\r\n            selectedAppointmentBackRef: selectedAppointmentBackRef,\r\n            backToAppointmentsRef: backToAppointmentsRef,\r\n          }}\r\n          currentScreenSize={currentScreenSize}\r\n          initialScreenSize={initialScreenSize}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpcomingAppointments;\r\n"]},"metadata":{},"sourceType":"module"}