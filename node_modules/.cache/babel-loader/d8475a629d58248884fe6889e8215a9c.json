{"ast":null,"code":"import _slicedToArray from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from\"react\";import\"../MyAppointments.css\";import{Redirect,Link,useLocation}from\"react-router-dom\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faChevronLeft}from\"@fortawesome/free-solid-svg-icons\";import{useSelector,useDispatch}from\"react-redux\";import CalmSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/CalmSummaryCard\";import BacialSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/BacialSummaryCard\";import ClarifySummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/ClarifySummaryCard\";import DermaplaningSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/DermaplaningSummaryCard\";import GlowSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/GlowSummaryCard\";import QuenchSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/QuenchSummaryCard\";import QuickieSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/QuickieSummaryCard\";import ChemicalPeelSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/ChemicalPeelSummaryCard\";import CBDSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/CBDSummaryCard\";import MicroneedleSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/MicroneedleSummaryCard\";import RejuvenateSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/RejuvenateSummaryCard\";import ExtraExtractionsSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/ExtraExtractionsCard\";import HydroJellyMaskSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/HydroJellyMaskSummaryCard\";import LEDTherapySummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/LEDTherapySummaryCard\";import MicrocurrentSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/MicrocurrentSummaryCard\";import MicrodermabrasionSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/MicrodermabrasionSummaryCard\";import DermarollingSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/DermarollingSummaryCard\";import NanoNeedlingSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/NanoNeedlingSummaryCard\";import GuaShaSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/GuaShaSummaryCard\";import BeardSummaryCard from\"../../../../checkout/SummaryReviewCards/AddOns/BeardSummaryCard\";import UnsureSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/UnsureSummaryCard\";import ClientRenderPastAppointments from\"../Past/ClientRenderPastAppointments\";import SaltCaveSummaryCard from\"../../../../checkout/SummaryReviewCards/Treatments/SaltCaveSummaryCard\";import ACTION_SPLASH_SCREEN_COMPLETE from\"../../../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";import ACTION_SPLASH_SCREEN_HALFWAY from\"../../../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";const PastAppointments=props=>{const individualAppointmentRef=useRef(null);const selectedAppointmentBackRef=useRef(null);const backToAppointmentsRef=useRef(null);const location=useLocation();const dispatch=useDispatch();const splashScreenComplete=useSelector(state=>state.splashScreenComplete.splashScreenComplete);const splashScreenHalfway=useSelector(state=>state.splashScreenHalfway.splashScreenHalfway);const userAuthenticated=useSelector(state=>state.userAuthenticated.user_authenticated);const logoutClicked=useSelector(state=>state.logoutClicked.log_out_clicked);const pdfLoading=useSelector(state=>state.pdfLoading.pdf_loading);const _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),appointmentToggled=_useState2[0],changeAppointmentToggled=_useState2[1];useEffect(()=>{if(!splashScreenComplete){dispatch(ACTION_SPLASH_SCREEN_COMPLETE());}if(!splashScreenHalfway){dispatch(ACTION_SPLASH_SCREEN_HALFWAY());}},[dispatch,splashScreenComplete,splashScreenHalfway]);const redirectToLogInPage=()=>{if(!userAuthenticated){return/*#__PURE__*/React.createElement(Redirect,{to:\"/account/login\"});}};useEffect(()=>{if(location.pathname){window.scrollTo(0,0);}},[location.pathname]);const treatmentsSummaryCardComponentsArr=[{name:\"Calm\",component:/*#__PURE__*/React.createElement(CalmSummaryCard,null)},{name:\"Bacial\",component:/*#__PURE__*/React.createElement(BacialSummaryCard,null)},{name:\"Clarify\",component:/*#__PURE__*/React.createElement(ClarifySummaryCard,null)},{name:\"Dermaplaning\",component:/*#__PURE__*/React.createElement(DermaplaningSummaryCard,null)},{name:\"Glow\",component:/*#__PURE__*/React.createElement(GlowSummaryCard,null)},{name:\"Quench\",component:/*#__PURE__*/React.createElement(QuenchSummaryCard,null)},{name:\"Quickie\",component:/*#__PURE__*/React.createElement(QuickieSummaryCard,null)},{name:\"ChemicalPeel\",component:/*#__PURE__*/React.createElement(ChemicalPeelSummaryCard,null)},{name:\"CBD\",component:/*#__PURE__*/React.createElement(CBDSummaryCard,null)},{name:\"Microneedling\",component:/*#__PURE__*/React.createElement(MicroneedleSummaryCard,null)},{name:\"Rejuvenate\",component:/*#__PURE__*/React.createElement(RejuvenateSummaryCard,null)},{name:\"Not Sure\",component:/*#__PURE__*/React.createElement(UnsureSummaryCard,null)},{name:\"Salt Cave\",component:/*#__PURE__*/React.createElement(SaltCaveSummaryCard,null)}];const addOnsSummaryCardComponentsArr=[{name:\"ExtraExtractions\",component:/*#__PURE__*/React.createElement(ExtraExtractionsSummaryCard,null)},{name:\"HydroJelly\",component:/*#__PURE__*/React.createElement(HydroJellyMaskSummaryCard,null)},{name:\"LED\",component:/*#__PURE__*/React.createElement(LEDTherapySummaryCard,null)},{name:\"Microcurrent\",component:/*#__PURE__*/React.createElement(MicrocurrentSummaryCard,null)},{name:\"Microdermabrasion\",component:/*#__PURE__*/React.createElement(MicrodermabrasionSummaryCard,null)},{name:\"Dermarolling\",component:/*#__PURE__*/React.createElement(DermarollingSummaryCard,null)},{name:\"NanoNeedling\",component:/*#__PURE__*/React.createElement(NanoNeedlingSummaryCard,null)},{name:\"GuaSha\",component:/*#__PURE__*/React.createElement(GuaShaSummaryCard,null)},{name:\"Beard\",component:/*#__PURE__*/React.createElement(BeardSummaryCard,null)}];const renderSummaryCardTreatments=dataIndex=>{let componentsArr=[];for(let i=0;i<treatmentsSummaryCardComponentsArr.length;i++){if(props.data){if(props.data.own_past_appointments){if(props.data.own_past_appointments[dataIndex].treatments){if(props.data.own_past_appointments[dataIndex].treatments[0].name){if(props.data.own_past_appointments[dataIndex].treatments[0].name===treatmentsSummaryCardComponentsArr[i].name){componentsArr.push(treatmentsSummaryCardComponentsArr[i].component);}}}}}}return componentsArr.map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{className:\"my_selected_appointment_treatment_container\",key:index},item));};const renderSummaryCardAddOns=dataIndex=>{let componentsArr=[];for(let i=0;i<addOnsSummaryCardComponentsArr.length;i++){for(let j=0;j<props.data.own_past_appointments[dataIndex].addOns.length;j++){if(props.data){if(props.data.own_past_appointments){if(props.data.own_past_appointments[dataIndex].addOns!==[]){if(props.data.own_past_appointments[dataIndex].addOns[j].name){if(props.data.own_past_appointments[dataIndex].addOns[j].name===addOnsSummaryCardComponentsArr[i].name){componentsArr.push(addOnsSummaryCardComponentsArr[i].component);}}}}}}}return componentsArr.map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{className:\"my_selected_appointment_treatment_container\",key:index},item));};// Allows click only if selected appointment modal is not active\nconst handleAppointmentToggled=(e,item)=>{if(e.currentTarget&&individualAppointmentRef){if(individualAppointmentRef.current){if(individualAppointmentRef.current.className===e.currentTarget.className){if(selectedAppointmentBackRef){if(!selectedAppointmentBackRef.current){if(item){if(item.id){changeAppointmentToggled(item.id);}}}}}}}};// Function for back arrow click to reset selected toggled appointment\nconst handleAppointmentUntoggled=e=>{if(e.currentTarget&&selectedAppointmentBackRef||e.currentTarget&&backToAppointmentsRef){if(selectedAppointmentBackRef.current||backToAppointmentsRef.current){if(selectedAppointmentBackRef.current.className===e.currentTarget.className||backToAppointmentsRef.current.className===e.currentTarget.className){changeAppointmentToggled(\"\");}}}};return/*#__PURE__*/React.createElement(\"div\",{className:\"my_appointments_container\",style:{height:props.data?props.data.own_past_appointments.length>4?\"100%\":\"100vh\":\"100vh\",zIndex:logoutClicked||pdfLoading?-1:\"auto\"}},redirectToLogInPage(),/*#__PURE__*/React.createElement(\"div\",{className:\"my_appointments_header\",style:{zIndex:logoutClicked?0:3}},/*#__PURE__*/React.createElement(Link,{to:\"/account/clientprofile\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"my_appointments_header_back_arrow\",icon:faChevronLeft})),/*#__PURE__*/React.createElement(\"h1\",null,\"MY\",\" \",!props.currentScreenSize?props.initialScreenSize>=1200?\"PAST \":null:props.currentScreenSize>=1200?\"PAST \":null,\"APPOINTMENTS\")),/*#__PURE__*/React.createElement(\"div\",{className:\"my_appointments_sub_header\",style:{zIndex:logoutClicked?-1:2}},/*#__PURE__*/React.createElement(Link,{to:\"/account/clientprofile/upcomingappointments\",className:\"sub_header_container_link\"},/*#__PURE__*/React.createElement(\"div\",{className:\"past_appointments_upcoming_title_container\"},/*#__PURE__*/React.createElement(\"h2\",null,\"UPCOMING\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"past_appointments_past_title_container\"},/*#__PURE__*/React.createElement(\"h2\",null,\"PAST\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"my_appointments_content_container\"},/*#__PURE__*/React.createElement(ClientRenderPastAppointments,{data:props.data,loadingPastAppointments:props.loadingPastAppointments,handleAppointmentToggled:handleAppointmentToggled,handleAppointmentUntoggled:handleAppointmentUntoggled,individualAppointmentRef:individualAppointmentRef,appointmentToggled:appointmentToggled,renderSummaryCardAddOns:renderSummaryCardAddOns,renderSummaryCardTreatments:renderSummaryCardTreatments,ref:{individualAppointmentRef:individualAppointmentRef,selectedAppointmentBackRef:selectedAppointmentBackRef,backToAppointmentsRef:backToAppointmentsRef},currentScreenSize:props.currentScreenSize,initialScreenSize:props.initialScreenSize})));};export default PastAppointments;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/HighEnd/Client/src/components/account/clientprofile/MyAppointments/Past/PastAppointments.js"],"names":["React","useEffect","useState","useRef","Redirect","Link","useLocation","FontAwesomeIcon","faChevronLeft","useSelector","useDispatch","CalmSummaryCard","BacialSummaryCard","ClarifySummaryCard","DermaplaningSummaryCard","GlowSummaryCard","QuenchSummaryCard","QuickieSummaryCard","ChemicalPeelSummaryCard","CBDSummaryCard","MicroneedleSummaryCard","RejuvenateSummaryCard","ExtraExtractionsSummaryCard","HydroJellyMaskSummaryCard","LEDTherapySummaryCard","MicrocurrentSummaryCard","MicrodermabrasionSummaryCard","DermarollingSummaryCard","NanoNeedlingSummaryCard","GuaShaSummaryCard","BeardSummaryCard","UnsureSummaryCard","ClientRenderPastAppointments","SaltCaveSummaryCard","ACTION_SPLASH_SCREEN_COMPLETE","ACTION_SPLASH_SCREEN_HALFWAY","PastAppointments","props","individualAppointmentRef","selectedAppointmentBackRef","backToAppointmentsRef","location","dispatch","splashScreenComplete","state","splashScreenHalfway","userAuthenticated","user_authenticated","logoutClicked","log_out_clicked","pdfLoading","pdf_loading","appointmentToggled","changeAppointmentToggled","redirectToLogInPage","pathname","window","scrollTo","treatmentsSummaryCardComponentsArr","name","component","addOnsSummaryCardComponentsArr","renderSummaryCardTreatments","dataIndex","componentsArr","i","length","data","own_past_appointments","treatments","push","map","item","index","renderSummaryCardAddOns","j","addOns","handleAppointmentToggled","e","currentTarget","current","className","id","handleAppointmentUntoggled","height","zIndex","currentScreenSize","initialScreenSize","loadingPastAppointments"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,MAAO,uBAAP,CACA,OAASC,QAAT,CAAmBC,IAAnB,CAAyBC,WAAzB,KAA4C,kBAA5C,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,aAAT,KAA8B,mCAA9B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,eAAP,KAA4B,oEAA5B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,sEAA9B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,uEAA/B,CACA,MAAOC,CAAAA,uBAAP,KAAoC,4EAApC,CACA,MAAOC,CAAAA,eAAP,KAA4B,oEAA5B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,sEAA9B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,uEAA/B,CACA,MAAOC,CAAAA,uBAAP,KAAoC,4EAApC,CACA,MAAOC,CAAAA,cAAP,KAA2B,mEAA3B,CACA,MAAOC,CAAAA,sBAAP,KAAmC,2EAAnC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,0EAAlC,CACA,MAAOC,CAAAA,2BAAP,KAAwC,qEAAxC,CACA,MAAOC,CAAAA,yBAAP,KAAsC,0EAAtC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,sEAAlC,CACA,MAAOC,CAAAA,uBAAP,KAAoC,wEAApC,CACA,MAAOC,CAAAA,4BAAP,KAAyC,6EAAzC,CACA,MAAOC,CAAAA,uBAAP,KAAoC,wEAApC,CACA,MAAOC,CAAAA,uBAAP,KAAoC,wEAApC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,kEAA9B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iEAA7B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,sEAA9B,CACA,MAAOC,CAAAA,4BAAP,KAAyC,sCAAzC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,wEAAhC,CACA,MAAOC,CAAAA,6BAAP,KAA0C,2EAA1C,CACA,MAAOC,CAAAA,4BAAP,KAAyC,yEAAzC,CAEA,KAAMC,CAAAA,gBAAgB,CAAIC,KAAD,EAAW,CAClC,KAAMC,CAAAA,wBAAwB,CAAGnC,MAAM,CAAC,IAAD,CAAvC,CACA,KAAMoC,CAAAA,0BAA0B,CAAGpC,MAAM,CAAC,IAAD,CAAzC,CACA,KAAMqC,CAAAA,qBAAqB,CAAGrC,MAAM,CAAC,IAAD,CAApC,CAEA,KAAMsC,CAAAA,QAAQ,CAAGnC,WAAW,EAA5B,CACA,KAAMoC,CAAAA,QAAQ,CAAGhC,WAAW,EAA5B,CAEA,KAAMiC,CAAAA,oBAAoB,CAAGlC,WAAW,CACrCmC,KAAD,EAAWA,KAAK,CAACD,oBAAN,CAA2BA,oBADA,CAAxC,CAGA,KAAME,CAAAA,mBAAmB,CAAGpC,WAAW,CACpCmC,KAAD,EAAWA,KAAK,CAACC,mBAAN,CAA0BA,mBADA,CAAvC,CAGA,KAAMC,CAAAA,iBAAiB,CAAGrC,WAAW,CAClCmC,KAAD,EAAWA,KAAK,CAACE,iBAAN,CAAwBC,kBADA,CAArC,CAGA,KAAMC,CAAAA,aAAa,CAAGvC,WAAW,CAC9BmC,KAAD,EAAWA,KAAK,CAACI,aAAN,CAAoBC,eADA,CAAjC,CAGA,KAAMC,CAAAA,UAAU,CAAGzC,WAAW,CAAEmC,KAAD,EAAWA,KAAK,CAACM,UAAN,CAAiBC,WAA7B,CAA9B,CApBkC,gBAqBqBjD,QAAQ,CAAC,EAAD,CArB7B,wCAqB3BkD,kBArB2B,eAqBPC,wBArBO,eAuBlCpD,SAAS,CAAC,IAAM,CACd,GAAI,CAAC0C,oBAAL,CAA2B,CACzBD,QAAQ,CAACR,6BAA6B,EAA9B,CAAR,CACD,CACD,GAAI,CAACW,mBAAL,CAA0B,CACxBH,QAAQ,CAACP,4BAA4B,EAA7B,CAAR,CACD,CACF,CAPQ,CAON,CAACO,QAAD,CAAWC,oBAAX,CAAiCE,mBAAjC,CAPM,CAAT,CASA,KAAMS,CAAAA,mBAAmB,CAAG,IAAM,CAChC,GAAI,CAACR,iBAAL,CAAwB,CACtB,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,gBAAb,EAAP,CACD,CACF,CAJD,CAMA7C,SAAS,CAAC,IAAM,CACd,GAAIwC,QAAQ,CAACc,QAAb,CAAuB,CACrBC,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACD,CACF,CAJQ,CAIN,CAAChB,QAAQ,CAACc,QAAV,CAJM,CAAT,CAMA,KAAMG,CAAAA,kCAAkC,CAAG,CACzC,CAAEC,IAAI,CAAE,MAAR,CAAgBC,SAAS,cAAE,oBAAC,eAAD,MAA3B,CADyC,CAEzC,CAAED,IAAI,CAAE,QAAR,CAAkBC,SAAS,cAAE,oBAAC,iBAAD,MAA7B,CAFyC,CAGzC,CAAED,IAAI,CAAE,SAAR,CAAmBC,SAAS,cAAE,oBAAC,kBAAD,MAA9B,CAHyC,CAIzC,CAAED,IAAI,CAAE,cAAR,CAAwBC,SAAS,cAAE,oBAAC,uBAAD,MAAnC,CAJyC,CAKzC,CAAED,IAAI,CAAE,MAAR,CAAgBC,SAAS,cAAE,oBAAC,eAAD,MAA3B,CALyC,CAMzC,CAAED,IAAI,CAAE,QAAR,CAAkBC,SAAS,cAAE,oBAAC,iBAAD,MAA7B,CANyC,CAOzC,CAAED,IAAI,CAAE,SAAR,CAAmBC,SAAS,cAAE,oBAAC,kBAAD,MAA9B,CAPyC,CAQzC,CAAED,IAAI,CAAE,cAAR,CAAwBC,SAAS,cAAE,oBAAC,uBAAD,MAAnC,CARyC,CASzC,CAAED,IAAI,CAAE,KAAR,CAAeC,SAAS,cAAE,oBAAC,cAAD,MAA1B,CATyC,CAUzC,CAAED,IAAI,CAAE,eAAR,CAAyBC,SAAS,cAAE,oBAAC,sBAAD,MAApC,CAVyC,CAWzC,CAAED,IAAI,CAAE,YAAR,CAAsBC,SAAS,cAAE,oBAAC,qBAAD,MAAjC,CAXyC,CAYzC,CAAED,IAAI,CAAE,UAAR,CAAoBC,SAAS,cAAE,oBAAC,iBAAD,MAA/B,CAZyC,CAazC,CAAED,IAAI,CAAE,WAAR,CAAqBC,SAAS,cAAE,oBAAC,mBAAD,MAAhC,CAbyC,CAA3C,CAgBA,KAAMC,CAAAA,8BAA8B,CAAG,CACrC,CAAEF,IAAI,CAAE,kBAAR,CAA4BC,SAAS,cAAE,oBAAC,2BAAD,MAAvC,CADqC,CAErC,CAAED,IAAI,CAAE,YAAR,CAAsBC,SAAS,cAAE,oBAAC,yBAAD,MAAjC,CAFqC,CAGrC,CAAED,IAAI,CAAE,KAAR,CAAeC,SAAS,cAAE,oBAAC,qBAAD,MAA1B,CAHqC,CAIrC,CAAED,IAAI,CAAE,cAAR,CAAwBC,SAAS,cAAE,oBAAC,uBAAD,MAAnC,CAJqC,CAKrC,CAAED,IAAI,CAAE,mBAAR,CAA6BC,SAAS,cAAE,oBAAC,4BAAD,MAAxC,CALqC,CAMrC,CAAED,IAAI,CAAE,cAAR,CAAwBC,SAAS,cAAE,oBAAC,uBAAD,MAAnC,CANqC,CAOrC,CAAED,IAAI,CAAE,cAAR,CAAwBC,SAAS,cAAE,oBAAC,uBAAD,MAAnC,CAPqC,CAQrC,CAAED,IAAI,CAAE,QAAR,CAAkBC,SAAS,cAAE,oBAAC,iBAAD,MAA7B,CARqC,CASrC,CAAED,IAAI,CAAE,OAAR,CAAiBC,SAAS,cAAE,oBAAC,gBAAD,MAA5B,CATqC,CAAvC,CAYA,KAAME,CAAAA,2BAA2B,CAAIC,SAAD,EAAe,CACjD,GAAIC,CAAAA,aAAa,CAAG,EAApB,CAEA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGP,kCAAkC,CAACQ,MAAvD,CAA+DD,CAAC,EAAhE,CAAoE,CAClE,GAAI5B,KAAK,CAAC8B,IAAV,CAAgB,CACd,GAAI9B,KAAK,CAAC8B,IAAN,CAAWC,qBAAf,CAAsC,CACpC,GAAI/B,KAAK,CAAC8B,IAAN,CAAWC,qBAAX,CAAiCL,SAAjC,EAA4CM,UAAhD,CAA4D,CAC1D,GACEhC,KAAK,CAAC8B,IAAN,CAAWC,qBAAX,CAAiCL,SAAjC,EAA4CM,UAA5C,CAAuD,CAAvD,EAA0DV,IAD5D,CAEE,CACA,GACEtB,KAAK,CAAC8B,IAAN,CAAWC,qBAAX,CAAiCL,SAAjC,EAA4CM,UAA5C,CAAuD,CAAvD,EACGV,IADH,GACYD,kCAAkC,CAACO,CAAD,CAAlC,CAAsCN,IAFpD,CAGE,CACAK,aAAa,CAACM,IAAd,CACEZ,kCAAkC,CAACO,CAAD,CAAlC,CAAsCL,SADxC,EAGD,CACF,CACF,CACF,CACF,CACF,CACD,MAAOI,CAAAA,aAAa,CAACO,GAAd,CAAkB,CAACC,IAAD,CAAOC,KAAP,gBACvB,2BAAK,SAAS,CAAC,6CAAf,CAA6D,GAAG,CAAEA,KAAlE,EACGD,IADH,CADK,CAAP,CAKD,CA5BD,CA8BA,KAAME,CAAAA,uBAAuB,CAAIX,SAAD,EAAe,CAC7C,GAAIC,CAAAA,aAAa,CAAG,EAApB,CAEA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGJ,8BAA8B,CAACK,MAAnD,CAA2DD,CAAC,EAA5D,CAAgE,CAC9D,IACE,GAAIU,CAAAA,CAAC,CAAG,CADV,CAEEA,CAAC,CAAGtC,KAAK,CAAC8B,IAAN,CAAWC,qBAAX,CAAiCL,SAAjC,EAA4Ca,MAA5C,CAAmDV,MAFzD,CAGES,CAAC,EAHH,CAIE,CACA,GAAItC,KAAK,CAAC8B,IAAV,CAAgB,CACd,GAAI9B,KAAK,CAAC8B,IAAN,CAAWC,qBAAf,CAAsC,CACpC,GAAI/B,KAAK,CAAC8B,IAAN,CAAWC,qBAAX,CAAiCL,SAAjC,EAA4Ca,MAA5C,GAAuD,EAA3D,CAA+D,CAC7D,GAAIvC,KAAK,CAAC8B,IAAN,CAAWC,qBAAX,CAAiCL,SAAjC,EAA4Ca,MAA5C,CAAmDD,CAAnD,EAAsDhB,IAA1D,CAAgE,CAC9D,GACEtB,KAAK,CAAC8B,IAAN,CAAWC,qBAAX,CAAiCL,SAAjC,EAA4Ca,MAA5C,CAAmDD,CAAnD,EAAsDhB,IAAtD,GACAE,8BAA8B,CAACI,CAAD,CAA9B,CAAkCN,IAFpC,CAGE,CACAK,aAAa,CAACM,IAAd,CACET,8BAA8B,CAACI,CAAD,CAA9B,CAAkCL,SADpC,EAGD,CACF,CACF,CACF,CACF,CACF,CACF,CACD,MAAOI,CAAAA,aAAa,CAACO,GAAd,CAAkB,CAACC,IAAD,CAAOC,KAAP,gBACvB,2BAAK,SAAS,CAAC,6CAAf,CAA6D,GAAG,CAAEA,KAAlE,EACGD,IADH,CADK,CAAP,CAKD,CAhCD,CAkCA;AAEA,KAAMK,CAAAA,wBAAwB,CAAG,CAACC,CAAD,CAAIN,IAAJ,GAAa,CAC5C,GAAIM,CAAC,CAACC,aAAF,EAAmBzC,wBAAvB,CAAiD,CAC/C,GAAIA,wBAAwB,CAAC0C,OAA7B,CAAsC,CACpC,GACE1C,wBAAwB,CAAC0C,OAAzB,CAAiCC,SAAjC,GACAH,CAAC,CAACC,aAAF,CAAgBE,SAFlB,CAGE,CACA,GAAI1C,0BAAJ,CAAgC,CAC9B,GAAI,CAACA,0BAA0B,CAACyC,OAAhC,CAAyC,CACvC,GAAIR,IAAJ,CAAU,CACR,GAAIA,IAAI,CAACU,EAAT,CAAa,CACX7B,wBAAwB,CAACmB,IAAI,CAACU,EAAN,CAAxB,CACD,CACF,CACF,CACF,CACF,CACF,CACF,CACF,CAnBD,CAqBA;AAEA,KAAMC,CAAAA,0BAA0B,CAAIL,CAAD,EAAO,CACxC,GACGA,CAAC,CAACC,aAAF,EAAmBxC,0BAApB,EACCuC,CAAC,CAACC,aAAF,EAAmBvC,qBAFtB,CAGE,CACA,GAAID,0BAA0B,CAACyC,OAA3B,EAAsCxC,qBAAqB,CAACwC,OAAhE,CAAyE,CACvE,GACEzC,0BAA0B,CAACyC,OAA3B,CAAmCC,SAAnC,GACEH,CAAC,CAACC,aAAF,CAAgBE,SADlB,EAEAzC,qBAAqB,CAACwC,OAAtB,CAA8BC,SAA9B,GAA4CH,CAAC,CAACC,aAAF,CAAgBE,SAH9D,CAIE,CACA5B,wBAAwB,CAAC,EAAD,CAAxB,CACD,CACF,CACF,CACF,CAfD,CAiBA,mBACE,2BACE,SAAS,CAAC,2BADZ,CAEE,KAAK,CAAE,CACL+B,MAAM,CAAE/C,KAAK,CAAC8B,IAAN,CACJ9B,KAAK,CAAC8B,IAAN,CAAWC,qBAAX,CAAiCF,MAAjC,CAA0C,CAA1C,CACE,MADF,CAEE,OAHE,CAIJ,OALC,CAMLmB,MAAM,CAAErC,aAAa,EAAIE,UAAjB,CAA8B,CAAC,CAA/B,CAAmC,MANtC,CAFT,EAWGI,mBAAmB,EAXtB,cAYE,2BACE,SAAS,CAAC,wBADZ,CAEE,KAAK,CAAE,CAAE+B,MAAM,CAAErC,aAAa,CAAG,CAAH,CAAO,CAA9B,CAFT,eAIE,oBAAC,IAAD,EAAM,EAAE,CAAC,wBAAT,eACE,oBAAC,eAAD,EACE,SAAS,CAAC,mCADZ,CAEE,IAAI,CAAExC,aAFR,EADF,CAJF,cAUE,mCACK,GADL,CAEG,CAAC6B,KAAK,CAACiD,iBAAP,CACGjD,KAAK,CAACkD,iBAAN,EAA2B,IAA3B,CACE,OADF,CAEE,IAHL,CAIGlD,KAAK,CAACiD,iBAAN,EAA2B,IAA3B,CACA,OADA,CAEA,IARN,gBAVF,CAZF,cAkCE,2BACE,SAAS,CAAC,4BADZ,CAEE,KAAK,CAAE,CAAED,MAAM,CAAErC,aAAa,CAAG,CAAC,CAAJ,CAAQ,CAA/B,CAFT,eAIE,oBAAC,IAAD,EACE,EAAE,CAAC,6CADL,CAEE,SAAS,CAAC,2BAFZ,eAIE,2BAAK,SAAS,CAAC,4CAAf,eACE,yCADF,CAJF,CAJF,cAYE,2BAAK,SAAS,CAAC,wCAAf,eACE,qCADF,CAZF,CAlCF,cAkDE,2BAAK,SAAS,CAAC,mCAAf,eACE,oBAAC,4BAAD,EACE,IAAI,CAAEX,KAAK,CAAC8B,IADd,CAEE,uBAAuB,CAAE9B,KAAK,CAACmD,uBAFjC,CAGE,wBAAwB,CAAEX,wBAH5B,CAIE,0BAA0B,CAAEM,0BAJ9B,CAKE,wBAAwB,CAAE7C,wBAL5B,CAME,kBAAkB,CAAEc,kBANtB,CAOE,uBAAuB,CAAEsB,uBAP3B,CAQE,2BAA2B,CAAEZ,2BAR/B,CASE,GAAG,CAAE,CACHxB,wBAAwB,CAAEA,wBADvB,CAEHC,0BAA0B,CAAEA,0BAFzB,CAGHC,qBAAqB,CAAEA,qBAHpB,CATP,CAcE,iBAAiB,CAAEH,KAAK,CAACiD,iBAd3B,CAeE,iBAAiB,CAAEjD,KAAK,CAACkD,iBAf3B,EADF,CAlDF,CADF,CAwED,CA1PD,CA4PA,cAAenD,CAAAA,gBAAf","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport \"../MyAppointments.css\";\r\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faChevronLeft } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport CalmSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/CalmSummaryCard\";\r\nimport BacialSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/BacialSummaryCard\";\r\nimport ClarifySummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/ClarifySummaryCard\";\r\nimport DermaplaningSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/DermaplaningSummaryCard\";\r\nimport GlowSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/GlowSummaryCard\";\r\nimport QuenchSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/QuenchSummaryCard\";\r\nimport QuickieSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/QuickieSummaryCard\";\r\nimport ChemicalPeelSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/ChemicalPeelSummaryCard\";\r\nimport CBDSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/CBDSummaryCard\";\r\nimport MicroneedleSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/MicroneedleSummaryCard\";\r\nimport RejuvenateSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/RejuvenateSummaryCard\";\r\nimport ExtraExtractionsSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/ExtraExtractionsCard\";\r\nimport HydroJellyMaskSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/HydroJellyMaskSummaryCard\";\r\nimport LEDTherapySummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/LEDTherapySummaryCard\";\r\nimport MicrocurrentSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/MicrocurrentSummaryCard\";\r\nimport MicrodermabrasionSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/MicrodermabrasionSummaryCard\";\r\nimport DermarollingSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/DermarollingSummaryCard\";\r\nimport NanoNeedlingSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/NanoNeedlingSummaryCard\";\r\nimport GuaShaSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/GuaShaSummaryCard\";\r\nimport BeardSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/BeardSummaryCard\";\r\nimport UnsureSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/UnsureSummaryCard\";\r\nimport ClientRenderPastAppointments from \"../Past/ClientRenderPastAppointments\";\r\nimport SaltCaveSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/SaltCaveSummaryCard\";\r\nimport ACTION_SPLASH_SCREEN_COMPLETE from \"../../../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";\r\nimport ACTION_SPLASH_SCREEN_HALFWAY from \"../../../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";\r\n\r\nconst PastAppointments = (props) => {\r\n  const individualAppointmentRef = useRef(null);\r\n  const selectedAppointmentBackRef = useRef(null);\r\n  const backToAppointmentsRef = useRef(null);\r\n\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n\r\n  const splashScreenComplete = useSelector(\r\n    (state) => state.splashScreenComplete.splashScreenComplete\r\n  );\r\n  const splashScreenHalfway = useSelector(\r\n    (state) => state.splashScreenHalfway.splashScreenHalfway\r\n  );\r\n  const userAuthenticated = useSelector(\r\n    (state) => state.userAuthenticated.user_authenticated\r\n  );\r\n  const logoutClicked = useSelector(\r\n    (state) => state.logoutClicked.log_out_clicked\r\n  );\r\n  const pdfLoading = useSelector((state) => state.pdfLoading.pdf_loading);\r\n  const [appointmentToggled, changeAppointmentToggled] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (!splashScreenComplete) {\r\n      dispatch(ACTION_SPLASH_SCREEN_COMPLETE());\r\n    }\r\n    if (!splashScreenHalfway) {\r\n      dispatch(ACTION_SPLASH_SCREEN_HALFWAY());\r\n    }\r\n  }, [dispatch, splashScreenComplete, splashScreenHalfway]);\r\n\r\n  const redirectToLogInPage = () => {\r\n    if (!userAuthenticated) {\r\n      return <Redirect to=\"/account/login\" />;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  const treatmentsSummaryCardComponentsArr = [\r\n    { name: \"Calm\", component: <CalmSummaryCard /> },\r\n    { name: \"Bacial\", component: <BacialSummaryCard /> },\r\n    { name: \"Clarify\", component: <ClarifySummaryCard /> },\r\n    { name: \"Dermaplaning\", component: <DermaplaningSummaryCard /> },\r\n    { name: \"Glow\", component: <GlowSummaryCard /> },\r\n    { name: \"Quench\", component: <QuenchSummaryCard /> },\r\n    { name: \"Quickie\", component: <QuickieSummaryCard /> },\r\n    { name: \"ChemicalPeel\", component: <ChemicalPeelSummaryCard /> },\r\n    { name: \"CBD\", component: <CBDSummaryCard /> },\r\n    { name: \"Microneedling\", component: <MicroneedleSummaryCard /> },\r\n    { name: \"Rejuvenate\", component: <RejuvenateSummaryCard /> },\r\n    { name: \"Not Sure\", component: <UnsureSummaryCard /> },\r\n    { name: \"Salt Cave\", component: <SaltCaveSummaryCard /> },\r\n  ];\r\n\r\n  const addOnsSummaryCardComponentsArr = [\r\n    { name: \"ExtraExtractions\", component: <ExtraExtractionsSummaryCard /> },\r\n    { name: \"HydroJelly\", component: <HydroJellyMaskSummaryCard /> },\r\n    { name: \"LED\", component: <LEDTherapySummaryCard /> },\r\n    { name: \"Microcurrent\", component: <MicrocurrentSummaryCard /> },\r\n    { name: \"Microdermabrasion\", component: <MicrodermabrasionSummaryCard /> },\r\n    { name: \"Dermarolling\", component: <DermarollingSummaryCard /> },\r\n    { name: \"NanoNeedling\", component: <NanoNeedlingSummaryCard /> },\r\n    { name: \"GuaSha\", component: <GuaShaSummaryCard /> },\r\n    { name: \"Beard\", component: <BeardSummaryCard /> },\r\n  ];\r\n\r\n  const renderSummaryCardTreatments = (dataIndex) => {\r\n    let componentsArr = [];\r\n\r\n    for (let i = 0; i < treatmentsSummaryCardComponentsArr.length; i++) {\r\n      if (props.data) {\r\n        if (props.data.own_past_appointments) {\r\n          if (props.data.own_past_appointments[dataIndex].treatments) {\r\n            if (\r\n              props.data.own_past_appointments[dataIndex].treatments[0].name\r\n            ) {\r\n              if (\r\n                props.data.own_past_appointments[dataIndex].treatments[0]\r\n                  .name === treatmentsSummaryCardComponentsArr[i].name\r\n              ) {\r\n                componentsArr.push(\r\n                  treatmentsSummaryCardComponentsArr[i].component\r\n                );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return componentsArr.map((item, index) => (\r\n      <div className=\"my_selected_appointment_treatment_container\" key={index}>\r\n        {item}\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  const renderSummaryCardAddOns = (dataIndex) => {\r\n    let componentsArr = [];\r\n\r\n    for (let i = 0; i < addOnsSummaryCardComponentsArr.length; i++) {\r\n      for (\r\n        let j = 0;\r\n        j < props.data.own_past_appointments[dataIndex].addOns.length;\r\n        j++\r\n      ) {\r\n        if (props.data) {\r\n          if (props.data.own_past_appointments) {\r\n            if (props.data.own_past_appointments[dataIndex].addOns !== []) {\r\n              if (props.data.own_past_appointments[dataIndex].addOns[j].name) {\r\n                if (\r\n                  props.data.own_past_appointments[dataIndex].addOns[j].name ===\r\n                  addOnsSummaryCardComponentsArr[i].name\r\n                ) {\r\n                  componentsArr.push(\r\n                    addOnsSummaryCardComponentsArr[i].component\r\n                  );\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return componentsArr.map((item, index) => (\r\n      <div className=\"my_selected_appointment_treatment_container\" key={index}>\r\n        {item}\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  // Allows click only if selected appointment modal is not active\r\n\r\n  const handleAppointmentToggled = (e, item) => {\r\n    if (e.currentTarget && individualAppointmentRef) {\r\n      if (individualAppointmentRef.current) {\r\n        if (\r\n          individualAppointmentRef.current.className ===\r\n          e.currentTarget.className\r\n        ) {\r\n          if (selectedAppointmentBackRef) {\r\n            if (!selectedAppointmentBackRef.current) {\r\n              if (item) {\r\n                if (item.id) {\r\n                  changeAppointmentToggled(item.id);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Function for back arrow click to reset selected toggled appointment\r\n\r\n  const handleAppointmentUntoggled = (e) => {\r\n    if (\r\n      (e.currentTarget && selectedAppointmentBackRef) ||\r\n      (e.currentTarget && backToAppointmentsRef)\r\n    ) {\r\n      if (selectedAppointmentBackRef.current || backToAppointmentsRef.current) {\r\n        if (\r\n          selectedAppointmentBackRef.current.className ===\r\n            e.currentTarget.className ||\r\n          backToAppointmentsRef.current.className === e.currentTarget.className\r\n        ) {\r\n          changeAppointmentToggled(\"\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"my_appointments_container\"\r\n      style={{\r\n        height: props.data\r\n          ? props.data.own_past_appointments.length > 4\r\n            ? \"100%\"\r\n            : \"100vh\"\r\n          : \"100vh\",\r\n        zIndex: logoutClicked || pdfLoading ? -1 : \"auto\",\r\n      }}\r\n    >\r\n      {redirectToLogInPage()}\r\n      <div\r\n        className=\"my_appointments_header\"\r\n        style={{ zIndex: logoutClicked ? 0 : 3 }}\r\n      >\r\n        <Link to=\"/account/clientprofile\">\r\n          <FontAwesomeIcon\r\n            className=\"my_appointments_header_back_arrow\"\r\n            icon={faChevronLeft}\r\n          />\r\n        </Link>\r\n        <h1>\r\n          MY{\" \"}\r\n          {!props.currentScreenSize\r\n            ? props.initialScreenSize >= 1200\r\n              ? \"PAST \"\r\n              : null\r\n            : props.currentScreenSize >= 1200\r\n            ? \"PAST \"\r\n            : null}\r\n          APPOINTMENTS\r\n        </h1>\r\n      </div>\r\n      <div\r\n        className=\"my_appointments_sub_header\"\r\n        style={{ zIndex: logoutClicked ? -1 : 2 }}\r\n      >\r\n        <Link\r\n          to=\"/account/clientprofile/upcomingappointments\"\r\n          className=\"sub_header_container_link\"\r\n        >\r\n          <div className=\"past_appointments_upcoming_title_container\">\r\n            <h2>UPCOMING</h2>\r\n          </div>\r\n        </Link>\r\n        <div className=\"past_appointments_past_title_container\">\r\n          <h2>PAST</h2>\r\n        </div>\r\n      </div>\r\n      <div className=\"my_appointments_content_container\">\r\n        <ClientRenderPastAppointments\r\n          data={props.data}\r\n          loadingPastAppointments={props.loadingPastAppointments}\r\n          handleAppointmentToggled={handleAppointmentToggled}\r\n          handleAppointmentUntoggled={handleAppointmentUntoggled}\r\n          individualAppointmentRef={individualAppointmentRef}\r\n          appointmentToggled={appointmentToggled}\r\n          renderSummaryCardAddOns={renderSummaryCardAddOns}\r\n          renderSummaryCardTreatments={renderSummaryCardTreatments}\r\n          ref={{\r\n            individualAppointmentRef: individualAppointmentRef,\r\n            selectedAppointmentBackRef: selectedAppointmentBackRef,\r\n            backToAppointmentsRef: backToAppointmentsRef,\r\n          }}\r\n          currentScreenSize={props.currentScreenSize}\r\n          initialScreenSize={props.initialScreenSize}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PastAppointments;\r\n"]},"metadata":{},"sourceType":"module"}