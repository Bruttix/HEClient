{"ast":null,"code":"import _objectSpread from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _taggedTemplateLiteral from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";function _templateObject(){const data=_taggedTemplateLiteral([\"\\n    display: block;\\n    position: absolute;\\n    left: 25%;\\n    right: 25%;\\n  \"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect,useCallback}from\"react\";import{Transition}from\"react-spring/renderprops\";import{faLongArrowAltLeft,faTimes}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import DayPickerInput from\"react-day-picker/DayPickerInput\";import{formatDate,parseDate}from\"react-day-picker/moment\";import Dropdown from\"react-dropdown\";import{useSelector,useDispatch}from\"react-redux\";import ClientAutosuggest from\"./Autosuggest/ClientAutosuggest\";import TreatmentAutosuggest from\"./Autosuggest/TreatmentAutosuggest\";import SaltCaveAutosuggest from\"./Autosuggest/SaltCaveAutosuggest\";import AdminPaymentInfo from\"./AdminPaymentInfo/AdminPaymentInfo\";import{Collapse}from\"reactstrap\";import addAppointmentMutation from\"../../../../graphql/mutations/addAppointmentMutation\";import{useMutation}from\"@apollo/react-hooks\";import moment from\"moment\";import Modal from\"react-modal\";import{css}from\"@emotion/css\";import BounceLoader from\"react-spinners/BounceLoader\";import ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER from\"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentStaffMember/ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER\";import ACTION_ADMIN_CLIENT_EMAIL from\"../../../../actions/Admin/AdminCreateAppointment/AdminClientEmail/ACTION_ADMIN_CLIENT_EMIAL\";import ACTION_ADMIN_CLIENT_PHONE_NUMBER from\"../../../../actions/Admin/AdminCreateAppointment/AdminClientPhoneNumber/ACTION_ADMIN_CLIENT_PHONE_NUMBER\";import ACTION_ADMIN_CLIENT_LAST_NAME from\"../../../../actions/Admin/AdminCreateAppointment/AdminClientLastName/ACTION_ADMIN_CLIENT_LAST_NAME\";import ACTION_ADMIN_SELECTED_TREATMENTS from\"../../../../actions/Admin/AdminCreateAppointment/AdminSelectedTreatments/ACTION_ADMIN_SELECTED_TREATMENTS\";import ACTION_ADMIN_APPOINTMENT_NOTES from\"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentNotes/ACTION_ADMIN_APPOINTMENT_NOTES\";import ACTION_ADMIN_APPOINTMENT_DATE from\"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentDate/ACTION_ADMIN_APPOINTMENT_DATE\";import ACTION_ADMIN_APPOINTMENT_TIME from\"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentTime/ACTION_ADMIN_APPOINTMENT_TIME\";import ACTION_ADMIN_CLIENT_FIRST_NAME_RESET from\"../../../../actions/Admin/AdminCreateAppointment/AdminClientFirstName/ACTION_ADMIN_CLIENT_FIRST_NAME_RESET\";import ACTION_ADMIN_CLIENT_LAST_NAME_RESET from\"../../../../actions/Admin/AdminCreateAppointment/AdminClientLastName/ACTION_ADMIN_CLIENT_LAST_NAME_RESET\";import ACTION_ADMIN_CLIENT_PHONE_NUMBER_RESET from\"../../../../actions/Admin/AdminCreateAppointment/AdminClientPhoneNumber/ACTION_ADMIN_CLIENT_PHONE_NUMBER_RESET\";import ACTION_ADMIN_CLIENT_EMAIL_RESET from\"../../../../actions/Admin/AdminCreateAppointment/AdminClientEmail/ACTION_ADMIN_CLIENT_EMAIL_RESET\";import ACTION_ADMIN_SELECTED_TREATMENTS_RESET from\"../../../../actions/Admin/AdminCreateAppointment/AdminSelectedTreatments/ACTION_ADMIN_SELECTED_TREATMENTS_RESET\";import ACTION_ADMIN_APPOINTMENT_DATE_RESET from\"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentDate/ACTION_ADMIN_APPOINTMENT_DATE_RESET\";import ACTION_ADMIN_APPOINTMENT_NOTES_RESET from\"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentNotes/ACTION_ADMIN_APPOINTMENT_NOTES_RESET\";import ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER_RESET from\"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentStaffMember/ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER_RESET\";import ACTION_ADMIN_APPOINTMENT_TIME_RESET from\"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentTime/ACTION_ADMIN_APPOINTMENT_TIME_RESET\";import ACTION_ADMIN_APPOINTMENT_DURATION from\"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentDuration/ACTION_ADMIN_APPOINTMENT_DURATION\";import ACTION_LOADING_SPINNER_ACTIVE from\"../../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_ACTIVE\";import ACTION_LOADING_SPINNER_RESET from\"../../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_RESET\";import ACTION_TOTAL_PRICE_RESET from\"../../../../actions/TotalPrice/ACTION_TOTAL_PRICE_RESET\";import ACTION_TOTAL_PRICE from\"../../../../actions/TotalPrice/ACTION_TOTAL_PRICE\";import\"react-dropdown/style.css\";import\"react-day-picker/lib/style.css\";import\"./AdminCreateAppointment.css\";// Minified Bootstrap CSS file (for Collapse feature)\nimport\"../../../../bootstrap.min.css\";const AdminCreateAppointment=props=>{const dispatch=useDispatch();const stopTransition=props.stopTransition,createAppointmentClicked=props.createAppointmentClicked,getClientsData=props.getClientsData,getClientsRefetch=props.getClientsRefetch,changeStopTransition=props.changeStopTransition,randomColorArray=props.randomColorArray,changeCreateAppointmentClicked=props.changeCreateAppointmentClicked,changePersonalEventClicked=props.changePersonalEventClicked,getAllAppointmentsRefetch=props.getAllAppointmentsRefetch,allEmployeeOptions=props.allEmployeeOptions,getEmployeeData=props.getEmployeeData,renderLoggedInStaffName=props.renderLoggedInStaffName;const _useState=useState(true),_useState2=_slicedToArray(_useState,2),clickOutsideDayPicker=_useState2[0],changeClickOutsideDayPicker=_useState2[1];const _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),addCardCollapseOpen=_useState4[0],changeAddCardCollapseOpen=_useState4[1];const _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),bookWithoutCardCollapseOpen=_useState6[0],changeBookWithoutCardCollapseOpen=_useState6[1];const adminClientFirstName=useSelector(state=>state.adminClientFirstName.admin_client_first_name);const adminClientLastName=useSelector(state=>state.adminClientLastName.admin_client_last_name);const adminClientEmail=useSelector(state=>state.adminClientEmail.admin_client_email);const adminClientPhoneNumber=useSelector(state=>state.adminClientPhoneNumber.admin_client_phone_number);const adminAppointmentNotes=useSelector(state=>state.adminAppointmentNotes.admin_appointment_notes);const adminAppointmentStaffMember=useSelector(state=>state.adminAppointmentStaffMember.admin_appointment_staff_member);const adminSelectedTreatments=useSelector(state=>state.adminSelectedTreatments.admin_selected_treatments);const adminAppointmentDate=useSelector(state=>state.adminAppointmentDate.admin_appointment_date);const adminAppointmentTime=useSelector(state=>state.adminAppointmentTime.admin_appointment_time);const totalPrice=useSelector(state=>state.totalPrice.totalPrice);const logoutClicked=useSelector(state=>state.logoutClicked.log_out_clicked);const loadingSpinnerActive=useSelector(state=>state.loadingSpinnerActive.loading_spinner);const _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),selectedTreatments=_useState8[0],changeSelectedTreatments=_useState8[1];const _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),selectedAddOns=_useState10[0],changeSelectedAddOns=_useState10[1];const _useMutation=useMutation(addAppointmentMutation),_useMutation2=_slicedToArray(_useMutation,2),addAppointment=_useMutation2[0],_useMutation2$=_useMutation2[1],addAppointmentLoading=_useMutation2$.loading,addAppointmentData=_useMutation2$.data;const override=css(_templateObject());const phoneNumberKeyTyping=e=>{if(e.keyCode>=8&&e.keyCode<32||e.keyCode>=37&&e.keyCode<=40||e.keyCode>=96&&e.keyCode<=105||e.keyCode>=48&&e.keyCode<=57){return e.keyCode;}else{e.preventDefault();}};const phoneNumberTyping=e=>{let currentTyping=e.currentTarget.value;// Formatting for US Phone Numbers\nif(currentTyping.length===3){currentTyping=currentTyping.split(\"\");currentTyping.unshift(\"(\");currentTyping.push(\") \");currentTyping=currentTyping.join(\"\");}else{if(currentTyping.length===4){if(currentTyping.indexOf(\"(\")===0&&currentTyping.indexOf(\")\")<0){currentTyping=currentTyping.split(\"\");currentTyping.splice(currentTyping.indexOf(\"(\"),1);currentTyping=currentTyping.join(\"\");}else{if(currentTyping.indexOf(\"(\")<0&&currentTyping.indexOf(\")\")<0){currentTyping=currentTyping.split(\"\");currentTyping.unshift(\"(\");currentTyping.splice(4,0,\") \");currentTyping=currentTyping.join(\"\");}}}else{if(currentTyping.length===6){if(currentTyping.indexOf(\" \")<0){currentTyping=currentTyping.split(\"\");currentTyping.splice(5,0,\" \");currentTyping=currentTyping.join(\"\");}}else{if(currentTyping.length===10){if(currentTyping.lastIndexOf(\" \")===5){currentTyping=currentTyping.split(\"\");currentTyping.splice(9,0,\" - \");currentTyping=currentTyping.join(\"\");}else{if(currentTyping.indexOf(\"(\")<0){currentTyping=currentTyping.split(\"\");currentTyping.unshift(\"(\");currentTyping.splice(4,0,\") \");currentTyping.splice(8,0,\" - \");currentTyping=currentTyping.join(\"\");}}}else{if(currentTyping.length===11){if(currentTyping.lastIndexOf(\" \")===9&&currentTyping.indexOf(\"-\")<0){currentTyping=currentTyping.split(\"\");currentTyping.splice(9,0,\" -\");currentTyping=currentTyping.join(\"\");}}else{if(currentTyping.length===12){if(currentTyping.lastIndexOf(\" \")===9){currentTyping=currentTyping.split(\"\");currentTyping.splice(11,0,\" \");currentTyping=currentTyping.join(\"\");}}}}}}}e.currentTarget.value=currentTyping;dispatch(ACTION_ADMIN_CLIENT_PHONE_NUMBER(currentTyping));};useEffect(()=>{const dayPickerClickFunction=e=>{if(e.target){if(e.target.placeholder===\"Appointment Date\"){if(clickOutsideDayPicker){changeClickOutsideDayPicker(false);}}else if(e.target.getAttribute(\"class\")){if(typeof(e.target.className===\"string\")){if(!e.target.className.baseVal){if(e.target.className.split(\" \").includes(\"DayPicker-Day\")||e.target.className.split(\" \").includes(\"DayPicker-NavButton\")){if(clickOutsideDayPicker){changeClickOutsideDayPicker(false);}}else{if(!clickOutsideDayPicker){changeClickOutsideDayPicker(true);}}}else{if(!clickOutsideDayPicker){changeClickOutsideDayPicker(true);}}}else{if(!clickOutsideDayPicker){changeClickOutsideDayPicker(true);}}}else{if(!clickOutsideDayPicker){changeClickOutsideDayPicker(true);}}}};window.addEventListener(\"click\",dayPickerClickFunction);return()=>{window.removeEventListener(\"click\",dayPickerClickFunction);};},[clickOutsideDayPicker]);const renderSelectedTreatments=()=>{if(adminSelectedTreatments.length<1){return null;}else{return adminSelectedTreatments.map((item,i)=>{return/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_input_information_container\",key:i,style:{borderLeft:\"1px solid rgb(211, 211, 211)\"}},/*#__PURE__*/React.createElement(\"div\",{role:\"combobox\",\"aria-haspopup\":\"listbox\",\"aria-owns\":\"react-autowhatever-1\",\"aria-controls\":\"react-autowhatever-1\",\"aria-expanded\":\"false\",className:\"react-autosuggest__container\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",disabled:true,autoComplete:\"off\",\"aria-autocomplete\":\"list\",\"aria-controls\":\"react-autowhatever-1\",className:\"react-autosuggest__input\",value:adminSelectedTreatments.length<1?\"\":item.props?item.props.children?item.props.children[0]?item.props.children[0].props?item.props.children[0].props.children?item.props.children[0].props.children:\"\":\"\":\"\":\"\":\"\",onChange:e=>e.preventDefault(),style:{borderLeft:\"1px solid transparent\",borderRight:\"1px solid transparent\",color:\"rgb(74, 144, 226)\"}})),/*#__PURE__*/React.createElement(\"div\",{role:\"combobox\",\"aria-haspopup\":\"listbox\",\"aria-owns\":\"react-autowhatever-1\",\"aria-controls\":\"react-autowhatever-1\",\"aria-expanded\":\"false\",className:\"react-autosuggest__container\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",disabled:true,autoComplete:\"off\",\"aria-autocomplete\":\"list\",\"aria-controls\":\"react-autowhatever-1\",className:\"react-autosuggest__input\",value:adminSelectedTreatments.length<1?\"\":item.props?item.props.children.length===4?item.props.children[1]?item.props.children[1].props?item.props.children[1].props.children?item.props.children[1].props.children+\" minutes\":\"\":\"\":\"\":item.props.children[2]?item.props.children[2].props?item.props.children[2].props.children?item.props.children[2].props.children+\" minutes\":\"\":\"\":\"\":\"\",onChange:e=>e.preventDefault(),style:{borderLeft:\"1px solid transparent\",borderRight:\"1px solid transparent\",color:\"rgb(74, 144, 226)\"}})),/*#__PURE__*/React.createElement(\"div\",{role:\"combobox\",\"aria-haspopup\":\"listbox\",\"aria-owns\":\"react-autowhatever-1\",\"aria-controls\":\"react-autowhatever-1\",\"aria-expanded\":\"false\",className:\"react-autosuggest__container\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",disabled:true,autoComplete:\"off\",\"aria-autocomplete\":\"list\",\"aria-controls\":\"react-autowhatever-1\",className:\"react-autosuggest__input\",value:adminSelectedTreatments.length<1?\"\":item.props?item.props.children?item.props.children.length===4?item.props.children[2]?item.props.children[2].props?item.props.children[2].props.children?\"$\"+item.props.children[2].props.children+\".00\":\"\":\"\":\"\":item.props.children[3]?item.props.children[3].props?item.props.children[3].props.children?\"$\"+item.props.children[3].props.children+\".00\":\"\":\"\":\"\":\"\":\"\",onChange:e=>e.preventDefault(),style:{borderLeft:\"1px solid transparent\",color:\"rgb(74, 144, 226)\"}})),\" \",/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTimes,onClick:()=>{let filteredArr=[];const treatmentsArr=adminSelectedTreatments.slice().filter((x,i)=>{if(x.props.children[0].props.children!==item.props.children[0].props.children){return x.props.children[0].props.children;}else{if(!filteredArr.includes(x.props.children[0].props.children)){filteredArr.push(x.props.children[0].props.children);return null;}else{return x.props.children[0].props.children;}}});dispatch(ACTION_ADMIN_APPOINTMENT_DURATION(treatmentsArr.map(x=>x.props.children[3].props.children).reduce((a,b)=>a+b,0)));dispatch(ACTION_ADMIN_SELECTED_TREATMENTS(treatmentsArr));},className:\"admin_create_appointment_treatment_delete_button\"}));});}};// Disable hover and select on unavailable salt cave times\nuseEffect(()=>{const checkForHighlightedElement=setInterval(()=>{const highlightedTreatment=document.getElementsByClassName(\"react-autosuggest__suggestion--highlighted\");if(highlightedTreatment[0]){if(highlightedTreatment[0].textContent.includes(\"Pick a treatment\")){highlightedTreatment[0].setAttribute(\"style\",\"pointer-events: none; background: #fff;\");}else if(highlightedTreatment[0].textContent.includes(\"Pick a date/time first\")){highlightedTreatment[0].setAttribute(\"style\",\"pointer-events: none; background: #fff;\");}else if(highlightedTreatment[0].textContent.includes(\"Unavailable\")){highlightedTreatment[0].setAttribute(\"style\",\"pointer-events: none; background: #fff;\");}else if(highlightedTreatment[0].textContent.includes(\"already selected\")){highlightedTreatment[0].setAttribute(\"style\",\"pointer-events: none; background: #fff;\");}else{return null;}}},100);return()=>{clearInterval(checkForHighlightedElement);};},[]);useEffect(()=>{if(adminSelectedTreatments.length>0){const treatments=adminSelectedTreatments.filter(item=>!item.props.children[0].props.children.includes(\"Add On\"));const addOns=adminSelectedTreatments.filter(item=>item.props.children[0].props.children.includes(\"Add On\"));changeSelectedTreatments(treatments.map(item=>{if(item.props.children.length===4){return{name:item.props.children[0].props.children,duration:item.props.children[1].props.children,price:item.props.children[2].props.children};}else{return{name:item.props.children[1].props.children,duration:item.props.children[2].props.children,price:item.props.children[3].props.children};}}));changeSelectedAddOns(addOns.map(item=>{return{name:item.props.children[1].props.children,duration:item.props.children[2].props.children,price:item.props.children[3].props.children};}));}},[adminSelectedTreatments]);const variablesModel={firstName:adminClientFirstName,lastName:adminClientLastName,email:adminClientEmail,phoneNumber:adminClientPhoneNumber,bookedWithCardSquareID:\"\",notes:adminAppointmentNotes,squareCustomerId:\"\"};const handleBackToSchedule=useCallback(()=>{changeCreateAppointmentClicked(false);dispatch(ACTION_ADMIN_CLIENT_FIRST_NAME_RESET());dispatch(ACTION_ADMIN_CLIENT_LAST_NAME_RESET());dispatch(ACTION_ADMIN_CLIENT_PHONE_NUMBER_RESET());dispatch(ACTION_ADMIN_CLIENT_EMAIL_RESET());dispatch(ACTION_ADMIN_SELECTED_TREATMENTS_RESET());dispatch(ACTION_ADMIN_APPOINTMENT_DATE_RESET());dispatch(ACTION_ADMIN_APPOINTMENT_TIME_RESET());dispatch(ACTION_ADMIN_APPOINTMENT_NOTES_RESET());dispatch(ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER_RESET());changeAddCardCollapseOpen(false);changeClickOutsideDayPicker(false);},[dispatch,changeCreateAppointmentClicked]);const handleSubmitBooking=e=>{e.preventDefault();const appDate=moment(adminAppointmentDate,\"MM/DD/YYYY\").format(\"MMMM D, YYYY\");const beforeSalt=selectedTreatments.filter(x=>{if(x.name){if(typeof x.name===\"string\"){if(x.name.includes(\"Before\")){return true;}else{return false;}}else{return false;}}else{return false;}});const duringSalt=selectedTreatments.filter(x=>{if(x.name){if(typeof x.name===\"string\"){if(x.name.includes(\"Minutes)\")){return true;}else{return false;}}else{return false;}}else{return false;}});const afterSalt=selectedTreatments.filter(x=>{if(x.name){if(typeof x.name===\"string\"){if(x.name.includes(\"After)\")){return true;}else{return false;}}else{return false;}}else{return false;}});const regularTreatments=selectedTreatments.filter(x=>{if(x.name){if(typeof x.name===\"string\"){if(!x.name.includes(\"Salt Cave\")){return true;}else{return false;}}else{return false;}}else{return false;}});const twilioStaggerArr=[beforeSalt.length>0,regularTreatments.length>0,duringSalt.length>0,afterSalt.length>0];const twilioDelayArr=[];let highestDelay=0;for(let i=0;i<twilioStaggerArr.length;i++){if(twilioStaggerArr[i]){twilioDelayArr.push(highestDelay);highestDelay+=5000;}else{twilioDelayArr.push(0);}}if(beforeSalt.length>0){const beforeAppStartTime=moment(appDate+\" \"+adminAppointmentTime,\"MMMM D, YYYY h:mm A\").subtract(beforeSalt[0].duration,\"minutes\").format(\"h:mm A\");const beforeAppEndTime=moment(appDate+\" \"+beforeAppStartTime,\"MMMM D, YYYY h:mm A\").add(beforeSalt[0].duration,\"minutes\").format(\"h:mm\");setTimeout(()=>{addAppointment({variables:_objectSpread(_objectSpread({},variablesModel),{},{date:appDate,startTime:beforeAppStartTime.split(\" \")[0],morningOrEvening:beforeAppStartTime.split(\" \")[1],endTime:beforeAppEndTime,price:beforeSalt[0].price,duration:beforeSalt[0].duration,esthetician:\"Salt Cave\",treatments:beforeSalt,addOns:[]})});},twilioDelayArr[0]);}if(duringSalt.length>0){const duringEndTime=moment(appDate+\" \"+adminAppointmentTime,\"MMMM D, YYYY h:mm A\").add(duringSalt[0].duration,\"minutes\").format(\"h:mm\");setTimeout(()=>{addAppointment({variables:_objectSpread(_objectSpread({},variablesModel),{},{date:appDate,startTime:adminAppointmentTime.split(\" \")[0],morningOrEvening:adminAppointmentTime.split(\" \")[1],endTime:duringEndTime,price:duringSalt[0].price,duration:duringSalt[0].duration,esthetician:\"Salt Cave\",treatments:duringSalt,addOns:[]})});},twilioDelayArr[2]);}const regularDuration=regularTreatments.concat(selectedAddOns).map(x=>x.duration).reduce((a,b)=>a+b,0);const regularEndTime=moment(appDate+\" \"+adminAppointmentTime,\"MMMM D, YYYY h:mm A\").add(regularDuration,\"minutes\").format(\"h:mm A\");if(afterSalt.length>0){const afterSaltEndTime=moment(appDate+\" \"+regularEndTime,\"MMMM D, YYYY h:mm A\").add(afterSalt[0].duration,\"minutes\").format(\"h:mm\");setTimeout(()=>{addAppointment({variables:_objectSpread(_objectSpread({},variablesModel),{},{date:appDate,startTime:regularEndTime.split(\" \")[0],morningOrEvening:regularEndTime.split(\" \")[1],endTime:afterSaltEndTime,price:afterSalt[0].price,duration:afterSalt[0].duration,esthetician:\"Salt Cave\",treatments:afterSalt,addOns:[]})});},twilioDelayArr[3]);}if(regularTreatments.length>0){setTimeout(()=>{addAppointment({variables:_objectSpread(_objectSpread({},variablesModel),{},{date:appDate,startTime:adminAppointmentTime.split(\" \")[0],morningOrEvening:adminAppointmentTime.split(\" \")[1],endTime:regularEndTime.split(\" \")[0],price:regularTreatments.concat(selectedAddOns).map(x=>x.price).reduce((a,b)=>a+b,0),duration:regularDuration,esthetician:adminAppointmentStaffMember,treatments:regularTreatments,addOns:selectedAddOns})});},twilioDelayArr[1]);}if(highestDelay===0){if(addAppointmentData){getAllAppointmentsRefetch();dispatch(ACTION_LOADING_SPINNER_RESET());handleBackToSchedule();}}else{setTimeout(()=>{getAllAppointmentsRefetch();dispatch(ACTION_LOADING_SPINNER_RESET());handleBackToSchedule();},highestDelay);}};useEffect(()=>{if(adminSelectedTreatments.length<1){dispatch(ACTION_TOTAL_PRICE_RESET());}else{const totalTime=adminSelectedTreatments.map(x=>{if(x.props){if(x.props.children){if(x.props.children.length===4){if(x.props.children[2]){if(x.props.children[2].props){if(x.props.children[2].props.children){return x.props.children[2].props.children;}else{return null;}}else{return null;}}else{return null;}}else{if(x.props.children[3]){if(x.props.children[3].props){if(x.props.children[3].props.children){return x.props.children[3].props.children;}else{return null;}}else{return null;}}else{return null;}}}else{return null;}}else{return null;}}).reduce((a,b)=>a+b,0);dispatch(ACTION_TOTAL_PRICE(totalTime));}},[adminSelectedTreatments,dispatch]);useEffect(()=>{if(addAppointmentData&&!loadingSpinnerActive){handleBackToSchedule();}},[handleBackToSchedule,addAppointmentData,loadingSpinnerActive]);useEffect(()=>{if(addAppointmentLoading){dispatch(ACTION_LOADING_SPINNER_ACTIVE());}},[addAppointmentLoading,dispatch]);return/*#__PURE__*/React.createElement(Transition,{items:createAppointmentClicked,from:{transform:\"translateX(-100%)\"},enter:{transform:\"translateX(0%)\"},leave:{transform:\"translateX(-100%)\"},config:{duration:200},immediate:stopTransition},createAppointmentClicked=>createAppointmentClicked&&(styleprops=>/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_container\",style:_objectSpread(_objectSpread({},styleprops),{},{zIndex:logoutClicked||loadingSpinnerActive?0:5})},/*#__PURE__*/React.createElement(Modal,{isOpen:loadingSpinnerActive,style:{content:{position:\"fixed\",zIndex:\"10000\",height:\"100%\",backdropFilter:\"blur(5px)\",WebkitBackdropFilter:\"blur(5px)\",paddingBottom:\"10%\",borderRadius:\"none\",width:\"100vw\",top:\"0\",left:\"0\",right:\"0\",bottom:\"0\",border:\"none\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",background:\"rgba(0, 0, 0, 0.5)\"}}},/*#__PURE__*/React.createElement(BounceLoader,{size:100,css:override,color:\"rgb(44, 44, 52)\",loading:loadingSpinnerActive})),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_individual_selected_client_back_container\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLongArrowAltLeft,className:\"admin_individual_selected_client_back_arrow_icon\",onClick:handleBackToSchedule}),/*#__PURE__*/React.createElement(\"p\",{onClick:handleBackToSchedule},\"Back to schedule\"),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_individual_selected_client_top_page_options\"},/*#__PURE__*/React.createElement(\"p\",{onClick:()=>{changePersonalEventClicked(true);changeCreateAppointmentClicked(false);changeStopTransition(true);setTimeout(()=>{changeStopTransition(false);},1000);}},\"Create Personal Event\"),/*#__PURE__*/React.createElement(\"p\",null,\"/\"),/*#__PURE__*/React.createElement(\"p\",{className:\"admin_individual_selected_client_chosen_create_page\"},\"Create Appointment\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_section_header\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Client Information\")),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_input_information_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label admin_create_appointment_double_label\"},\"First Name\"),/*#__PURE__*/React.createElement(ClientAutosuggest,{getClientsData:getClientsData,randomColorArray:randomColorArray}),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label admin_create_appointment_double_label\"},\"Last Name\"),/*#__PURE__*/React.createElement(\"div\",{role:\"combobox\",\"aria-haspopup\":\"listbox\",\"aria-owns\":\"react-autowhatever-1\",\"aria-controls\":\"react-autowhatever-1\",\"aria-expanded\":\"false\",className:\"react-autosuggest__container\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",\"aria-autocomplete\":\"list\",\"aria-controls\":\"react-autowhatever-1\",className:\"react-autosuggest__input\",value:adminClientLastName,onChange:e=>dispatch(ACTION_ADMIN_CLIENT_LAST_NAME(e.target.value)),placeholder:\"Client last name\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_input_information_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label admin_create_appointment_double_label\"},\"Email\"),/*#__PURE__*/React.createElement(\"div\",{role:\"combobox\",\"aria-haspopup\":\"listbox\",\"aria-owns\":\"react-autowhatever-1\",\"aria-controls\":\"react-autowhatever-1\",\"aria-expanded\":\"false\",className:\"react-autosuggest__container\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",\"aria-autocomplete\":\"list\",\"aria-controls\":\"react-autowhatever-1\",className:\"react-autosuggest__input\",placeholder:\"Email address\",value:adminClientEmail,maxLength:100,onChange:e=>dispatch(ACTION_ADMIN_CLIENT_EMAIL(e.target.value))})),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label admin_create_appointment_double_label\"},\"Phone\"),/*#__PURE__*/React.createElement(\"div\",{role:\"combobox\",\"aria-haspopup\":\"listbox\",\"aria-owns\":\"react-autowhatever-1\",\"aria-controls\":\"react-autowhatever-1\",\"aria-expanded\":\"false\",className:\"react-autosuggest__container\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",\"aria-autocomplete\":\"list\",onKeyDown:phoneNumberKeyTyping,onChange:phoneNumberTyping,maxLength:16,value:adminClientPhoneNumber,\"aria-controls\":\"react-autowhatever-1\",className:\"react-autosuggest__input\",placeholder:\"Phone number\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_section_header\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Appointment Details\")),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_input_information_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label admin_create_appointment_double_label\"},\"Date\"),/*#__PURE__*/React.createElement(DayPickerInput,{classNames:{container:\"react-autosuggest__container\",overlay:\"\",overlayWrapper:clickOutsideDayPicker?\"react-autosuggest__input_hide\":\"\"},dayPickerProps:{disabledDays:{before:new Date()}},inputProps:{className:\"react-autosuggest__input\",style:{color:\"rgb(74, 144, 226)\"}},formatDate:formatDate,parseDate:parseDate,onDayChange:day=>dispatch(ACTION_ADMIN_APPOINTMENT_DATE(day)),format:\"L\",value:adminAppointmentDate,placeholder:\"Appointment Date\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label admin_create_appointment_double_label\"},\"Time\"),/*#__PURE__*/React.createElement(Dropdown,{options:props.timeOptions(),onChange:choice=>dispatch(ACTION_ADMIN_APPOINTMENT_TIME(choice.value)),value:adminAppointmentTime,controlClassName:\"react-autosuggest__input\",className:\"react-autosuggest__container\",placeholder:adminAppointmentTime?adminAppointmentTime:\"Appointment Time\",placeholderClassName:adminAppointmentTime?\"admin_create_appointent_dropdown_placeholder_time\":\"admin_create_appointent_dropdown_placeholder_no_time\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_input_information_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label\"},\"Staff\"),/*#__PURE__*/React.createElement(Dropdown,{options:getEmployeeData?getEmployeeData.employee?getEmployeeData.employee.employeeRole.includes(\"Admin\")?allEmployeeOptions():renderLoggedInStaffName():renderLoggedInStaffName():renderLoggedInStaffName(),onChange:choice=>dispatch(ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER(choice)),value:adminAppointmentStaffMember,controlClassName:\"react-autosuggest__input\",className:\"react-autosuggest__container\",placeholder:adminAppointmentStaffMember?adminAppointmentStaffMember:\"Selected Esthetician\",placeholderClassName:adminAppointmentStaffMember?\"admin_create_appointent_dropdown_placeholder_time\":\"admin_create_appointent_dropdown_placeholder_no_time\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_input_information_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label\"},\"Appointment Notes\"),/*#__PURE__*/React.createElement(\"div\",{role:\"combobox\",\"aria-haspopup\":\"listbox\",\"aria-owns\":\"react-autowhatever-1\",\"aria-controls\":\"react-autowhatever-1\",\"aria-expanded\":\"false\",className:\"react-autosuggest__container\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",autoComplete:\"off\",\"aria-autocomplete\":\"list\",\"aria-controls\":\"react-autowhatever-1\",className:\"react-autosuggest__input\",placeholder:\"Enter additional notes for use by staff only (optional)\",value:adminAppointmentNotes,maxLength:200,onChange:e=>dispatch(ACTION_ADMIN_APPOINTMENT_NOTES(e.target.value))}))),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_service_label_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label\"},\"Services\"),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label\"},\"Duration\"),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label\",style:{borderRight:\"1px solid rgb(211, 211, 211)\"}},\"Amount\")),renderSelectedTreatments(),/*#__PURE__*/React.createElement(TreatmentAutosuggest,null),/*#__PURE__*/React.createElement(SaltCaveAutosuggest,{getAllAppointmentsData:props.getAllAppointmentsData}),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_service_label_container\",style:{marginTop:\"0rem\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label admin_create_appointment_total_label\",style:{borderLeft:\"1px solid transparent\"}},\"Total\"),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_label admin_create_appointment_total_label\",style:{borderLeft:\"1px solid transparent\",borderRight:\"1px solid rgb(211, 211, 211)\"}},!totalPrice?\"$0.00\":\"$\"+totalPrice+\".00\")),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_create_appointment_section_header\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Payment Details\")),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_payment_info_buttons_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"admin_add_credit_card_button\",onClick:()=>{changeAddCardCollapseOpen(!addCardCollapseOpen);changeBookWithoutCardCollapseOpen(false);}},\"Book With Card\"),\"OR\",/*#__PURE__*/React.createElement(\"div\",{className:\"admin_book_without_card_button\",onClick:()=>{changeBookWithoutCardCollapseOpen(!bookWithoutCardCollapseOpen);changeAddCardCollapseOpen(false);}},\"Book Without Card\")),/*#__PURE__*/React.createElement(Collapse,{isOpen:addCardCollapseOpen},/*#__PURE__*/React.createElement(AdminPaymentInfo,{getClientsData:getClientsData,getClientsRefetch:getClientsRefetch,handleBackToSchedule:handleBackToSchedule,handleSubmitBooking:handleSubmitBooking})),/*#__PURE__*/React.createElement(Collapse,{isOpen:bookWithoutCardCollapseOpen},/*#__PURE__*/React.createElement(\"div\",{className:\"admin_square_payment_form_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sq-payment-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sq-creditcard\",onClick:handleSubmitBooking},\"Book Appointment\")))))));};export default AdminCreateAppointment;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/HighEnd/Client/src/components/admin/AdminSchedule/AdminCreateAppointment/AdminCreateAppointment.js"],"names":["React","useState","useEffect","useCallback","Transition","faLongArrowAltLeft","faTimes","FontAwesomeIcon","DayPickerInput","formatDate","parseDate","Dropdown","useSelector","useDispatch","ClientAutosuggest","TreatmentAutosuggest","SaltCaveAutosuggest","AdminPaymentInfo","Collapse","addAppointmentMutation","useMutation","moment","Modal","css","BounceLoader","ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER","ACTION_ADMIN_CLIENT_EMAIL","ACTION_ADMIN_CLIENT_PHONE_NUMBER","ACTION_ADMIN_CLIENT_LAST_NAME","ACTION_ADMIN_SELECTED_TREATMENTS","ACTION_ADMIN_APPOINTMENT_NOTES","ACTION_ADMIN_APPOINTMENT_DATE","ACTION_ADMIN_APPOINTMENT_TIME","ACTION_ADMIN_CLIENT_FIRST_NAME_RESET","ACTION_ADMIN_CLIENT_LAST_NAME_RESET","ACTION_ADMIN_CLIENT_PHONE_NUMBER_RESET","ACTION_ADMIN_CLIENT_EMAIL_RESET","ACTION_ADMIN_SELECTED_TREATMENTS_RESET","ACTION_ADMIN_APPOINTMENT_DATE_RESET","ACTION_ADMIN_APPOINTMENT_NOTES_RESET","ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER_RESET","ACTION_ADMIN_APPOINTMENT_TIME_RESET","ACTION_ADMIN_APPOINTMENT_DURATION","ACTION_LOADING_SPINNER_ACTIVE","ACTION_LOADING_SPINNER_RESET","ACTION_TOTAL_PRICE_RESET","ACTION_TOTAL_PRICE","AdminCreateAppointment","props","dispatch","stopTransition","createAppointmentClicked","getClientsData","getClientsRefetch","changeStopTransition","randomColorArray","changeCreateAppointmentClicked","changePersonalEventClicked","getAllAppointmentsRefetch","allEmployeeOptions","getEmployeeData","renderLoggedInStaffName","clickOutsideDayPicker","changeClickOutsideDayPicker","addCardCollapseOpen","changeAddCardCollapseOpen","bookWithoutCardCollapseOpen","changeBookWithoutCardCollapseOpen","adminClientFirstName","state","admin_client_first_name","adminClientLastName","admin_client_last_name","adminClientEmail","admin_client_email","adminClientPhoneNumber","admin_client_phone_number","adminAppointmentNotes","admin_appointment_notes","adminAppointmentStaffMember","admin_appointment_staff_member","adminSelectedTreatments","admin_selected_treatments","adminAppointmentDate","admin_appointment_date","adminAppointmentTime","admin_appointment_time","totalPrice","logoutClicked","log_out_clicked","loadingSpinnerActive","loading_spinner","selectedTreatments","changeSelectedTreatments","selectedAddOns","changeSelectedAddOns","addAppointment","addAppointmentLoading","loading","addAppointmentData","data","override","phoneNumberKeyTyping","e","keyCode","preventDefault","phoneNumberTyping","currentTyping","currentTarget","value","length","split","unshift","push","join","indexOf","splice","lastIndexOf","dayPickerClickFunction","target","placeholder","getAttribute","className","baseVal","includes","window","addEventListener","removeEventListener","renderSelectedTreatments","map","item","i","borderLeft","children","borderRight","color","filteredArr","treatmentsArr","slice","filter","x","reduce","a","b","checkForHighlightedElement","setInterval","highlightedTreatment","document","getElementsByClassName","textContent","setAttribute","clearInterval","treatments","addOns","name","duration","price","variablesModel","firstName","lastName","email","phoneNumber","bookedWithCardSquareID","notes","squareCustomerId","handleBackToSchedule","handleSubmitBooking","appDate","format","beforeSalt","duringSalt","afterSalt","regularTreatments","twilioStaggerArr","twilioDelayArr","highestDelay","beforeAppStartTime","subtract","beforeAppEndTime","add","setTimeout","variables","date","startTime","morningOrEvening","endTime","esthetician","duringEndTime","regularDuration","concat","regularEndTime","afterSaltEndTime","totalTime","transform","styleprops","zIndex","content","position","height","backdropFilter","WebkitBackdropFilter","paddingBottom","borderRadius","width","top","left","right","bottom","border","display","flexDirection","alignItems","justifyContent","background","container","overlay","overlayWrapper","disabledDays","before","Date","style","day","timeOptions","choice","employee","employeeRole","getAllAppointmentsData","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Transition } from \"react-spring/renderprops\";\r\nimport { faLongArrowAltLeft, faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\r\nimport { formatDate, parseDate } from \"react-day-picker/moment\";\r\nimport Dropdown from \"react-dropdown\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport ClientAutosuggest from \"./Autosuggest/ClientAutosuggest\";\r\nimport TreatmentAutosuggest from \"./Autosuggest/TreatmentAutosuggest\";\r\nimport SaltCaveAutosuggest from \"./Autosuggest/SaltCaveAutosuggest\";\r\nimport AdminPaymentInfo from \"./AdminPaymentInfo/AdminPaymentInfo\";\r\nimport { Collapse } from \"reactstrap\";\r\nimport addAppointmentMutation from \"../../../../graphql/mutations/addAppointmentMutation\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport moment from \"moment\";\r\nimport Modal from \"react-modal\";\r\nimport { css } from \"@emotion/css\";\r\nimport BounceLoader from \"react-spinners/BounceLoader\";\r\nimport ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER from \"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentStaffMember/ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER\";\r\nimport ACTION_ADMIN_CLIENT_EMAIL from \"../../../../actions/Admin/AdminCreateAppointment/AdminClientEmail/ACTION_ADMIN_CLIENT_EMIAL\";\r\nimport ACTION_ADMIN_CLIENT_PHONE_NUMBER from \"../../../../actions/Admin/AdminCreateAppointment/AdminClientPhoneNumber/ACTION_ADMIN_CLIENT_PHONE_NUMBER\";\r\nimport ACTION_ADMIN_CLIENT_LAST_NAME from \"../../../../actions/Admin/AdminCreateAppointment/AdminClientLastName/ACTION_ADMIN_CLIENT_LAST_NAME\";\r\nimport ACTION_ADMIN_SELECTED_TREATMENTS from \"../../../../actions/Admin/AdminCreateAppointment/AdminSelectedTreatments/ACTION_ADMIN_SELECTED_TREATMENTS\";\r\nimport ACTION_ADMIN_APPOINTMENT_NOTES from \"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentNotes/ACTION_ADMIN_APPOINTMENT_NOTES\";\r\nimport ACTION_ADMIN_APPOINTMENT_DATE from \"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentDate/ACTION_ADMIN_APPOINTMENT_DATE\";\r\nimport ACTION_ADMIN_APPOINTMENT_TIME from \"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentTime/ACTION_ADMIN_APPOINTMENT_TIME\";\r\nimport ACTION_ADMIN_CLIENT_FIRST_NAME_RESET from \"../../../../actions/Admin/AdminCreateAppointment/AdminClientFirstName/ACTION_ADMIN_CLIENT_FIRST_NAME_RESET\";\r\nimport ACTION_ADMIN_CLIENT_LAST_NAME_RESET from \"../../../../actions/Admin/AdminCreateAppointment/AdminClientLastName/ACTION_ADMIN_CLIENT_LAST_NAME_RESET\";\r\nimport ACTION_ADMIN_CLIENT_PHONE_NUMBER_RESET from \"../../../../actions/Admin/AdminCreateAppointment/AdminClientPhoneNumber/ACTION_ADMIN_CLIENT_PHONE_NUMBER_RESET\";\r\nimport ACTION_ADMIN_CLIENT_EMAIL_RESET from \"../../../../actions/Admin/AdminCreateAppointment/AdminClientEmail/ACTION_ADMIN_CLIENT_EMAIL_RESET\";\r\nimport ACTION_ADMIN_SELECTED_TREATMENTS_RESET from \"../../../../actions/Admin/AdminCreateAppointment/AdminSelectedTreatments/ACTION_ADMIN_SELECTED_TREATMENTS_RESET\";\r\nimport ACTION_ADMIN_APPOINTMENT_DATE_RESET from \"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentDate/ACTION_ADMIN_APPOINTMENT_DATE_RESET\";\r\nimport ACTION_ADMIN_APPOINTMENT_NOTES_RESET from \"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentNotes/ACTION_ADMIN_APPOINTMENT_NOTES_RESET\";\r\nimport ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER_RESET from \"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentStaffMember/ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER_RESET\";\r\nimport ACTION_ADMIN_APPOINTMENT_TIME_RESET from \"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentTime/ACTION_ADMIN_APPOINTMENT_TIME_RESET\";\r\nimport ACTION_ADMIN_APPOINTMENT_DURATION from \"../../../../actions/Admin/AdminCreateAppointment/AdminAppointmentDuration/ACTION_ADMIN_APPOINTMENT_DURATION\";\r\nimport ACTION_LOADING_SPINNER_ACTIVE from \"../../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_ACTIVE\";\r\nimport ACTION_LOADING_SPINNER_RESET from \"../../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_RESET\";\r\nimport ACTION_TOTAL_PRICE_RESET from \"../../../../actions/TotalPrice/ACTION_TOTAL_PRICE_RESET\";\r\nimport ACTION_TOTAL_PRICE from \"../../../../actions/TotalPrice/ACTION_TOTAL_PRICE\";\r\nimport \"react-dropdown/style.css\";\r\nimport \"react-day-picker/lib/style.css\";\r\nimport \"./AdminCreateAppointment.css\";\r\n// Minified Bootstrap CSS file (for Collapse feature)\r\nimport \"../../../../bootstrap.min.css\";\r\n\r\nconst AdminCreateAppointment = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const {\r\n    stopTransition,\r\n    createAppointmentClicked,\r\n    getClientsData,\r\n    getClientsRefetch,\r\n    changeStopTransition,\r\n    randomColorArray,\r\n    changeCreateAppointmentClicked,\r\n    changePersonalEventClicked,\r\n    getAllAppointmentsRefetch,\r\n    allEmployeeOptions,\r\n    getEmployeeData,\r\n    renderLoggedInStaffName,\r\n  } = props;\r\n\r\n  const [clickOutsideDayPicker, changeClickOutsideDayPicker] = useState(true);\r\n  const [addCardCollapseOpen, changeAddCardCollapseOpen] = useState(false);\r\n  const [\r\n    bookWithoutCardCollapseOpen,\r\n    changeBookWithoutCardCollapseOpen,\r\n  ] = useState(false);\r\n\r\n  const adminClientFirstName = useSelector(\r\n    (state) => state.adminClientFirstName.admin_client_first_name\r\n  );\r\n  const adminClientLastName = useSelector(\r\n    (state) => state.adminClientLastName.admin_client_last_name\r\n  );\r\n  const adminClientEmail = useSelector(\r\n    (state) => state.adminClientEmail.admin_client_email\r\n  );\r\n  const adminClientPhoneNumber = useSelector(\r\n    (state) => state.adminClientPhoneNumber.admin_client_phone_number\r\n  );\r\n  const adminAppointmentNotes = useSelector(\r\n    (state) => state.adminAppointmentNotes.admin_appointment_notes\r\n  );\r\n  const adminAppointmentStaffMember = useSelector(\r\n    (state) => state.adminAppointmentStaffMember.admin_appointment_staff_member\r\n  );\r\n  const adminSelectedTreatments = useSelector(\r\n    (state) => state.adminSelectedTreatments.admin_selected_treatments\r\n  );\r\n  const adminAppointmentDate = useSelector(\r\n    (state) => state.adminAppointmentDate.admin_appointment_date\r\n  );\r\n  const adminAppointmentTime = useSelector(\r\n    (state) => state.adminAppointmentTime.admin_appointment_time\r\n  );\r\n  const totalPrice = useSelector((state) => state.totalPrice.totalPrice);\r\n  const logoutClicked = useSelector(\r\n    (state) => state.logoutClicked.log_out_clicked\r\n  );\r\n  const loadingSpinnerActive = useSelector(\r\n    (state) => state.loadingSpinnerActive.loading_spinner\r\n  );\r\n\r\n  const [selectedTreatments, changeSelectedTreatments] = useState([]);\r\n  const [selectedAddOns, changeSelectedAddOns] = useState([]);\r\n\r\n  const [\r\n    addAppointment,\r\n    { loading: addAppointmentLoading, data: addAppointmentData },\r\n  ] = useMutation(addAppointmentMutation);\r\n\r\n  const override = css`\r\n    display: block;\r\n    position: absolute;\r\n    left: 25%;\r\n    right: 25%;\r\n  `;\r\n\r\n  const phoneNumberKeyTyping = (e) => {\r\n    if (\r\n      (e.keyCode >= 8 && e.keyCode < 32) ||\r\n      (e.keyCode >= 37 && e.keyCode <= 40) ||\r\n      (e.keyCode >= 96 && e.keyCode <= 105) ||\r\n      (e.keyCode >= 48 && e.keyCode <= 57)\r\n    ) {\r\n      return e.keyCode;\r\n    } else {\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  const phoneNumberTyping = (e) => {\r\n    let currentTyping = e.currentTarget.value;\r\n\r\n    // Formatting for US Phone Numbers\r\n    if (currentTyping.length === 3) {\r\n      currentTyping = currentTyping.split(\"\");\r\n      currentTyping.unshift(\"(\");\r\n      currentTyping.push(\") \");\r\n\r\n      currentTyping = currentTyping.join(\"\");\r\n    } else {\r\n      if (currentTyping.length === 4) {\r\n        if (\r\n          currentTyping.indexOf(\"(\") === 0 &&\r\n          currentTyping.indexOf(\")\") < 0\r\n        ) {\r\n          currentTyping = currentTyping.split(\"\");\r\n          currentTyping.splice(currentTyping.indexOf(\"(\"), 1);\r\n\r\n          currentTyping = currentTyping.join(\"\");\r\n        } else {\r\n          if (\r\n            currentTyping.indexOf(\"(\") < 0 &&\r\n            currentTyping.indexOf(\")\") < 0\r\n          ) {\r\n            currentTyping = currentTyping.split(\"\");\r\n            currentTyping.unshift(\"(\");\r\n            currentTyping.splice(4, 0, \") \");\r\n\r\n            currentTyping = currentTyping.join(\"\");\r\n          }\r\n        }\r\n      } else {\r\n        if (currentTyping.length === 6) {\r\n          if (currentTyping.indexOf(\" \") < 0) {\r\n            currentTyping = currentTyping.split(\"\");\r\n            currentTyping.splice(5, 0, \" \");\r\n\r\n            currentTyping = currentTyping.join(\"\");\r\n          }\r\n        } else {\r\n          if (currentTyping.length === 10) {\r\n            if (currentTyping.lastIndexOf(\" \") === 5) {\r\n              currentTyping = currentTyping.split(\"\");\r\n              currentTyping.splice(9, 0, \" - \");\r\n\r\n              currentTyping = currentTyping.join(\"\");\r\n            } else {\r\n              if (currentTyping.indexOf(\"(\") < 0) {\r\n                currentTyping = currentTyping.split(\"\");\r\n                currentTyping.unshift(\"(\");\r\n                currentTyping.splice(4, 0, \") \");\r\n                currentTyping.splice(8, 0, \" - \");\r\n                currentTyping = currentTyping.join(\"\");\r\n              }\r\n            }\r\n          } else {\r\n            if (currentTyping.length === 11) {\r\n              if (\r\n                currentTyping.lastIndexOf(\" \") === 9 &&\r\n                currentTyping.indexOf(\"-\") < 0\r\n              ) {\r\n                currentTyping = currentTyping.split(\"\");\r\n                currentTyping.splice(9, 0, \" -\");\r\n\r\n                currentTyping = currentTyping.join(\"\");\r\n              }\r\n            } else {\r\n              if (currentTyping.length === 12) {\r\n                if (currentTyping.lastIndexOf(\" \") === 9) {\r\n                  currentTyping = currentTyping.split(\"\");\r\n                  currentTyping.splice(11, 0, \" \");\r\n\r\n                  currentTyping = currentTyping.join(\"\");\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    e.currentTarget.value = currentTyping;\r\n    dispatch(ACTION_ADMIN_CLIENT_PHONE_NUMBER(currentTyping));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const dayPickerClickFunction = (e) => {\r\n      if (e.target) {\r\n        if (e.target.placeholder === \"Appointment Date\") {\r\n          if (clickOutsideDayPicker) {\r\n            changeClickOutsideDayPicker(false);\r\n          }\r\n        } else if (e.target.getAttribute(\"class\")) {\r\n          if (typeof (e.target.className === \"string\")) {\r\n            if (!e.target.className.baseVal) {\r\n              if (\r\n                e.target.className.split(\" \").includes(\"DayPicker-Day\") ||\r\n                e.target.className.split(\" \").includes(\"DayPicker-NavButton\")\r\n              ) {\r\n                if (clickOutsideDayPicker) {\r\n                  changeClickOutsideDayPicker(false);\r\n                }\r\n              } else {\r\n                if (!clickOutsideDayPicker) {\r\n                  changeClickOutsideDayPicker(true);\r\n                }\r\n              }\r\n            } else {\r\n              if (!clickOutsideDayPicker) {\r\n                changeClickOutsideDayPicker(true);\r\n              }\r\n            }\r\n          } else {\r\n            if (!clickOutsideDayPicker) {\r\n              changeClickOutsideDayPicker(true);\r\n            }\r\n          }\r\n        } else {\r\n          if (!clickOutsideDayPicker) {\r\n            changeClickOutsideDayPicker(true);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"click\", dayPickerClickFunction);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"click\", dayPickerClickFunction);\r\n    };\r\n  }, [clickOutsideDayPicker]);\r\n\r\n  const renderSelectedTreatments = () => {\r\n    if (adminSelectedTreatments.length < 1) {\r\n      return null;\r\n    } else {\r\n      return adminSelectedTreatments.map((item, i) => {\r\n        return (\r\n          <div\r\n            className=\"admin_create_appointment_input_information_container\"\r\n            key={i}\r\n            style={{\r\n              borderLeft: \"1px solid rgb(211, 211, 211)\",\r\n            }}\r\n          >\r\n            <div\r\n              role=\"combobox\"\r\n              aria-haspopup=\"listbox\"\r\n              aria-owns=\"react-autowhatever-1\"\r\n              aria-controls=\"react-autowhatever-1\"\r\n              aria-expanded=\"false\"\r\n              className=\"react-autosuggest__container\"\r\n            >\r\n              <input\r\n                type=\"text\"\r\n                disabled\r\n                autoComplete=\"off\"\r\n                aria-autocomplete=\"list\"\r\n                aria-controls=\"react-autowhatever-1\"\r\n                className=\"react-autosuggest__input\"\r\n                value={\r\n                  adminSelectedTreatments.length < 1\r\n                    ? \"\"\r\n                    : item.props\r\n                    ? item.props.children\r\n                      ? item.props.children[0]\r\n                        ? item.props.children[0].props\r\n                          ? item.props.children[0].props.children\r\n                            ? item.props.children[0].props.children\r\n                            : \"\"\r\n                          : \"\"\r\n                        : \"\"\r\n                      : \"\"\r\n                    : \"\"\r\n                }\r\n                onChange={(e) => e.preventDefault()}\r\n                style={{\r\n                  borderLeft: \"1px solid transparent\",\r\n                  borderRight: \"1px solid transparent\",\r\n                  color: \"rgb(74, 144, 226)\",\r\n                }}\r\n              />\r\n            </div>\r\n            <div\r\n              role=\"combobox\"\r\n              aria-haspopup=\"listbox\"\r\n              aria-owns=\"react-autowhatever-1\"\r\n              aria-controls=\"react-autowhatever-1\"\r\n              aria-expanded=\"false\"\r\n              className=\"react-autosuggest__container\"\r\n            >\r\n              <input\r\n                type=\"text\"\r\n                disabled\r\n                autoComplete=\"off\"\r\n                aria-autocomplete=\"list\"\r\n                aria-controls=\"react-autowhatever-1\"\r\n                className=\"react-autosuggest__input\"\r\n                value={\r\n                  adminSelectedTreatments.length < 1\r\n                    ? \"\"\r\n                    : item.props\r\n                    ? item.props.children.length === 4\r\n                      ? item.props.children[1]\r\n                        ? item.props.children[1].props\r\n                          ? item.props.children[1].props.children\r\n                            ? item.props.children[1].props.children + \" minutes\"\r\n                            : \"\"\r\n                          : \"\"\r\n                        : \"\"\r\n                      : item.props.children[2]\r\n                      ? item.props.children[2].props\r\n                        ? item.props.children[2].props.children\r\n                          ? item.props.children[2].props.children + \" minutes\"\r\n                          : \"\"\r\n                        : \"\"\r\n                      : \"\"\r\n                    : \"\"\r\n                }\r\n                onChange={(e) => e.preventDefault()}\r\n                style={{\r\n                  borderLeft: \"1px solid transparent\",\r\n                  borderRight: \"1px solid transparent\",\r\n                  color: \"rgb(74, 144, 226)\",\r\n                }}\r\n              />\r\n            </div>\r\n            <div\r\n              role=\"combobox\"\r\n              aria-haspopup=\"listbox\"\r\n              aria-owns=\"react-autowhatever-1\"\r\n              aria-controls=\"react-autowhatever-1\"\r\n              aria-expanded=\"false\"\r\n              className=\"react-autosuggest__container\"\r\n            >\r\n              <input\r\n                type=\"text\"\r\n                disabled\r\n                autoComplete=\"off\"\r\n                aria-autocomplete=\"list\"\r\n                aria-controls=\"react-autowhatever-1\"\r\n                className=\"react-autosuggest__input\"\r\n                value={\r\n                  adminSelectedTreatments.length < 1\r\n                    ? \"\"\r\n                    : item.props\r\n                    ? item.props.children\r\n                      ? item.props.children.length === 4\r\n                        ? item.props.children[2]\r\n                          ? item.props.children[2].props\r\n                            ? item.props.children[2].props.children\r\n                              ? \"$\" +\r\n                                item.props.children[2].props.children +\r\n                                \".00\"\r\n                              : \"\"\r\n                            : \"\"\r\n                          : \"\"\r\n                        : item.props.children[3]\r\n                        ? item.props.children[3].props\r\n                          ? item.props.children[3].props.children\r\n                            ? \"$\" +\r\n                              item.props.children[3].props.children +\r\n                              \".00\"\r\n                            : \"\"\r\n                          : \"\"\r\n                        : \"\"\r\n                      : \"\"\r\n                    : \"\"\r\n                }\r\n                onChange={(e) => e.preventDefault()}\r\n                style={{\r\n                  borderLeft: \"1px solid transparent\",\r\n                  color: \"rgb(74, 144, 226)\",\r\n                }}\r\n              />\r\n            </div>{\" \"}\r\n            <FontAwesomeIcon\r\n              icon={faTimes}\r\n              onClick={() => {\r\n                let filteredArr = [];\r\n\r\n                const treatmentsArr = adminSelectedTreatments\r\n                  .slice()\r\n                  .filter((x, i) => {\r\n                    if (\r\n                      x.props.children[0].props.children !==\r\n                      item.props.children[0].props.children\r\n                    ) {\r\n                      return x.props.children[0].props.children;\r\n                    } else {\r\n                      if (\r\n                        !filteredArr.includes(\r\n                          x.props.children[0].props.children\r\n                        )\r\n                      ) {\r\n                        filteredArr.push(x.props.children[0].props.children);\r\n                        return null;\r\n                      } else {\r\n                        return x.props.children[0].props.children;\r\n                      }\r\n                    }\r\n                  });\r\n\r\n                dispatch(\r\n                  ACTION_ADMIN_APPOINTMENT_DURATION(\r\n                    treatmentsArr\r\n                      .map((x) => x.props.children[3].props.children)\r\n                      .reduce((a, b) => a + b, 0)\r\n                  )\r\n                );\r\n                dispatch(ACTION_ADMIN_SELECTED_TREATMENTS(treatmentsArr));\r\n              }}\r\n              className=\"admin_create_appointment_treatment_delete_button\"\r\n            />\r\n          </div>\r\n        );\r\n      });\r\n    }\r\n  };\r\n\r\n  // Disable hover and select on unavailable salt cave times\r\n  useEffect(() => {\r\n    const checkForHighlightedElement = setInterval(() => {\r\n      const highlightedTreatment = document.getElementsByClassName(\r\n        \"react-autosuggest__suggestion--highlighted\"\r\n      );\r\n\r\n      if (highlightedTreatment[0]) {\r\n        if (highlightedTreatment[0].textContent.includes(\"Pick a treatment\")) {\r\n          highlightedTreatment[0].setAttribute(\r\n            \"style\",\r\n            \"pointer-events: none; background: #fff;\"\r\n          );\r\n        } else if (\r\n          highlightedTreatment[0].textContent.includes(\"Pick a date/time first\")\r\n        ) {\r\n          highlightedTreatment[0].setAttribute(\r\n            \"style\",\r\n            \"pointer-events: none; background: #fff;\"\r\n          );\r\n        } else if (\r\n          highlightedTreatment[0].textContent.includes(\"Unavailable\")\r\n        ) {\r\n          highlightedTreatment[0].setAttribute(\r\n            \"style\",\r\n            \"pointer-events: none; background: #fff;\"\r\n          );\r\n        } else if (\r\n          highlightedTreatment[0].textContent.includes(\"already selected\")\r\n        ) {\r\n          highlightedTreatment[0].setAttribute(\r\n            \"style\",\r\n            \"pointer-events: none; background: #fff;\"\r\n          );\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    }, 100);\r\n\r\n    return () => {\r\n      clearInterval(checkForHighlightedElement);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (adminSelectedTreatments.length > 0) {\r\n      const treatments = adminSelectedTreatments.filter(\r\n        (item) => !item.props.children[0].props.children.includes(\"Add On\")\r\n      );\r\n      const addOns = adminSelectedTreatments.filter((item) =>\r\n        item.props.children[0].props.children.includes(\"Add On\")\r\n      );\r\n\r\n      changeSelectedTreatments(\r\n        treatments.map((item) => {\r\n          if (item.props.children.length === 4) {\r\n            return {\r\n              name: item.props.children[0].props.children,\r\n              duration: item.props.children[1].props.children,\r\n              price: item.props.children[2].props.children,\r\n            };\r\n          } else {\r\n            return {\r\n              name: item.props.children[1].props.children,\r\n              duration: item.props.children[2].props.children,\r\n              price: item.props.children[3].props.children,\r\n            };\r\n          }\r\n        })\r\n      );\r\n\r\n      changeSelectedAddOns(\r\n        addOns.map((item) => {\r\n          return {\r\n            name: item.props.children[1].props.children,\r\n            duration: item.props.children[2].props.children,\r\n            price: item.props.children[3].props.children,\r\n          };\r\n        })\r\n      );\r\n    }\r\n  }, [adminSelectedTreatments]);\r\n\r\n  const variablesModel = {\r\n    firstName: adminClientFirstName,\r\n    lastName: adminClientLastName,\r\n    email: adminClientEmail,\r\n    phoneNumber: adminClientPhoneNumber,\r\n    bookedWithCardSquareID: \"\",\r\n    notes: adminAppointmentNotes,\r\n    squareCustomerId: \"\",\r\n  };\r\n\r\n  const handleBackToSchedule = useCallback(() => {\r\n    changeCreateAppointmentClicked(false);\r\n\r\n    dispatch(ACTION_ADMIN_CLIENT_FIRST_NAME_RESET());\r\n    dispatch(ACTION_ADMIN_CLIENT_LAST_NAME_RESET());\r\n    dispatch(ACTION_ADMIN_CLIENT_PHONE_NUMBER_RESET());\r\n    dispatch(ACTION_ADMIN_CLIENT_EMAIL_RESET());\r\n    dispatch(ACTION_ADMIN_SELECTED_TREATMENTS_RESET());\r\n    dispatch(ACTION_ADMIN_APPOINTMENT_DATE_RESET());\r\n    dispatch(ACTION_ADMIN_APPOINTMENT_TIME_RESET());\r\n    dispatch(ACTION_ADMIN_APPOINTMENT_NOTES_RESET());\r\n    dispatch(ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER_RESET());\r\n\r\n    changeAddCardCollapseOpen(false);\r\n    changeClickOutsideDayPicker(false);\r\n  }, [dispatch, changeCreateAppointmentClicked]);\r\n\r\n  const handleSubmitBooking = (e) => {\r\n    e.preventDefault();\r\n\r\n    const appDate = moment(adminAppointmentDate, \"MM/DD/YYYY\").format(\r\n      \"MMMM D, YYYY\"\r\n    );\r\n\r\n    const beforeSalt = selectedTreatments.filter((x) => {\r\n      if (x.name) {\r\n        if (typeof x.name === \"string\") {\r\n          if (x.name.includes(\"Before\")) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n    const duringSalt = selectedTreatments.filter((x) => {\r\n      if (x.name) {\r\n        if (typeof x.name === \"string\") {\r\n          if (x.name.includes(\"Minutes)\")) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n    const afterSalt = selectedTreatments.filter((x) => {\r\n      if (x.name) {\r\n        if (typeof x.name === \"string\") {\r\n          if (x.name.includes(\"After)\")) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n    const regularTreatments = selectedTreatments.filter((x) => {\r\n      if (x.name) {\r\n        if (typeof x.name === \"string\") {\r\n          if (!x.name.includes(\"Salt Cave\")) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n    const twilioStaggerArr = [\r\n      beforeSalt.length > 0,\r\n      regularTreatments.length > 0,\r\n      duringSalt.length > 0,\r\n      afterSalt.length > 0,\r\n    ];\r\n\r\n    const twilioDelayArr = [];\r\n\r\n    let highestDelay = 0;\r\n\r\n    for (let i = 0; i < twilioStaggerArr.length; i++) {\r\n      if (twilioStaggerArr[i]) {\r\n        twilioDelayArr.push(highestDelay);\r\n        highestDelay += 5000;\r\n      } else {\r\n        twilioDelayArr.push(0);\r\n      }\r\n    }\r\n\r\n    if (beforeSalt.length > 0) {\r\n      const beforeAppStartTime = moment(\r\n        appDate + \" \" + adminAppointmentTime,\r\n        \"MMMM D, YYYY h:mm A\"\r\n      )\r\n        .subtract(beforeSalt[0].duration, \"minutes\")\r\n        .format(\"h:mm A\");\r\n      const beforeAppEndTime = moment(\r\n        appDate + \" \" + beforeAppStartTime,\r\n        \"MMMM D, YYYY h:mm A\"\r\n      )\r\n        .add(beforeSalt[0].duration, \"minutes\")\r\n        .format(\"h:mm\");\r\n\r\n      setTimeout(() => {\r\n        addAppointment({\r\n          variables: {\r\n            ...variablesModel,\r\n            date: appDate,\r\n            startTime: beforeAppStartTime.split(\" \")[0],\r\n            morningOrEvening: beforeAppStartTime.split(\" \")[1],\r\n            endTime: beforeAppEndTime,\r\n            price: beforeSalt[0].price,\r\n            duration: beforeSalt[0].duration,\r\n            esthetician: \"Salt Cave\",\r\n            treatments: beforeSalt,\r\n            addOns: [],\r\n          },\r\n        });\r\n      }, twilioDelayArr[0]);\r\n    }\r\n\r\n    if (duringSalt.length > 0) {\r\n      const duringEndTime = moment(\r\n        appDate + \" \" + adminAppointmentTime,\r\n        \"MMMM D, YYYY h:mm A\"\r\n      )\r\n        .add(duringSalt[0].duration, \"minutes\")\r\n        .format(\"h:mm\");\r\n\r\n      setTimeout(() => {\r\n        addAppointment({\r\n          variables: {\r\n            ...variablesModel,\r\n            date: appDate,\r\n            startTime: adminAppointmentTime.split(\" \")[0],\r\n            morningOrEvening: adminAppointmentTime.split(\" \")[1],\r\n            endTime: duringEndTime,\r\n            price: duringSalt[0].price,\r\n            duration: duringSalt[0].duration,\r\n            esthetician: \"Salt Cave\",\r\n            treatments: duringSalt,\r\n            addOns: [],\r\n          },\r\n        });\r\n      }, twilioDelayArr[2]);\r\n    }\r\n\r\n    const regularDuration = regularTreatments\r\n      .concat(selectedAddOns)\r\n      .map((x) => x.duration)\r\n      .reduce((a, b) => a + b, 0);\r\n\r\n    const regularEndTime = moment(\r\n      appDate + \" \" + adminAppointmentTime,\r\n      \"MMMM D, YYYY h:mm A\"\r\n    )\r\n      .add(regularDuration, \"minutes\")\r\n      .format(\"h:mm A\");\r\n\r\n    if (afterSalt.length > 0) {\r\n      const afterSaltEndTime = moment(\r\n        appDate + \" \" + regularEndTime,\r\n        \"MMMM D, YYYY h:mm A\"\r\n      )\r\n        .add(afterSalt[0].duration, \"minutes\")\r\n        .format(\"h:mm\");\r\n\r\n      setTimeout(() => {\r\n        addAppointment({\r\n          variables: {\r\n            ...variablesModel,\r\n            date: appDate,\r\n            startTime: regularEndTime.split(\" \")[0],\r\n            morningOrEvening: regularEndTime.split(\" \")[1],\r\n            endTime: afterSaltEndTime,\r\n            price: afterSalt[0].price,\r\n            duration: afterSalt[0].duration,\r\n            esthetician: \"Salt Cave\",\r\n            treatments: afterSalt,\r\n            addOns: [],\r\n          },\r\n        });\r\n      }, twilioDelayArr[3]);\r\n    }\r\n\r\n    if (regularTreatments.length > 0) {\r\n      setTimeout(() => {\r\n        addAppointment({\r\n          variables: {\r\n            ...variablesModel,\r\n            date: appDate,\r\n            startTime: adminAppointmentTime.split(\" \")[0],\r\n            morningOrEvening: adminAppointmentTime.split(\" \")[1],\r\n            endTime: regularEndTime.split(\" \")[0],\r\n            price: regularTreatments\r\n              .concat(selectedAddOns)\r\n              .map((x) => x.price)\r\n              .reduce((a, b) => a + b, 0),\r\n            duration: regularDuration,\r\n            esthetician: adminAppointmentStaffMember,\r\n            treatments: regularTreatments,\r\n            addOns: selectedAddOns,\r\n          },\r\n        });\r\n      }, twilioDelayArr[1]);\r\n    }\r\n\r\n    if (highestDelay === 0) {\r\n      if (addAppointmentData) {\r\n        getAllAppointmentsRefetch();\r\n        dispatch(ACTION_LOADING_SPINNER_RESET());\r\n        handleBackToSchedule();\r\n      }\r\n    } else {\r\n      setTimeout(() => {\r\n        getAllAppointmentsRefetch();\r\n        dispatch(ACTION_LOADING_SPINNER_RESET());\r\n        handleBackToSchedule();\r\n      }, highestDelay);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (adminSelectedTreatments.length < 1) {\r\n      dispatch(ACTION_TOTAL_PRICE_RESET());\r\n    } else {\r\n      const totalTime = adminSelectedTreatments\r\n        .map((x) => {\r\n          if (x.props) {\r\n            if (x.props.children) {\r\n              if (x.props.children.length === 4) {\r\n                if (x.props.children[2]) {\r\n                  if (x.props.children[2].props) {\r\n                    if (x.props.children[2].props.children) {\r\n                      return x.props.children[2].props.children;\r\n                    } else {\r\n                      return null;\r\n                    }\r\n                  } else {\r\n                    return null;\r\n                  }\r\n                } else {\r\n                  return null;\r\n                }\r\n              } else {\r\n                if (x.props.children[3]) {\r\n                  if (x.props.children[3].props) {\r\n                    if (x.props.children[3].props.children) {\r\n                      return x.props.children[3].props.children;\r\n                    } else {\r\n                      return null;\r\n                    }\r\n                  } else {\r\n                    return null;\r\n                  }\r\n                } else {\r\n                  return null;\r\n                }\r\n              }\r\n            } else {\r\n              return null;\r\n            }\r\n          } else {\r\n            return null;\r\n          }\r\n        })\r\n        .reduce((a, b) => a + b, 0);\r\n\r\n      dispatch(ACTION_TOTAL_PRICE(totalTime));\r\n    }\r\n  }, [adminSelectedTreatments, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (addAppointmentData && !loadingSpinnerActive) {\r\n      handleBackToSchedule();\r\n    }\r\n  }, [handleBackToSchedule, addAppointmentData, loadingSpinnerActive]);\r\n\r\n  useEffect(() => {\r\n    if (addAppointmentLoading) {\r\n      dispatch(ACTION_LOADING_SPINNER_ACTIVE());\r\n    }\r\n  }, [addAppointmentLoading, dispatch]);\r\n\r\n  return (\r\n    <Transition\r\n      items={createAppointmentClicked}\r\n      from={{ transform: \"translateX(-100%)\" }}\r\n      enter={{ transform: \"translateX(0%)\" }}\r\n      leave={{ transform: \"translateX(-100%)\" }}\r\n      config={{ duration: 200 }}\r\n      immediate={stopTransition}\r\n    >\r\n      {(createAppointmentClicked) =>\r\n        createAppointmentClicked &&\r\n        ((styleprops) => (\r\n          <div\r\n            className=\"admin_create_appointment_container\"\r\n            style={{\r\n              ...styleprops,\r\n              zIndex: logoutClicked || loadingSpinnerActive ? 0 : 5,\r\n            }}\r\n          >\r\n            <Modal\r\n              isOpen={loadingSpinnerActive}\r\n              style={{\r\n                content: {\r\n                  position: \"fixed\",\r\n                  zIndex: \"10000\",\r\n                  height: \"100%\",\r\n                  backdropFilter: \"blur(5px)\",\r\n                  WebkitBackdropFilter: \"blur(5px)\",\r\n                  paddingBottom: \"10%\",\r\n                  borderRadius: \"none\",\r\n                  width: \"100vw\",\r\n                  top: \"0\",\r\n                  left: \"0\",\r\n                  right: \"0\",\r\n                  bottom: \"0\",\r\n                  border: \"none\",\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  background: \"rgba(0, 0, 0, 0.5)\",\r\n                },\r\n              }}\r\n            >\r\n              <BounceLoader\r\n                size={100}\r\n                css={override}\r\n                color={\"rgb(44, 44, 52)\"}\r\n                loading={loadingSpinnerActive}\r\n              />\r\n            </Modal>\r\n            <div className=\"admin_individual_selected_client_back_container\">\r\n              <FontAwesomeIcon\r\n                icon={faLongArrowAltLeft}\r\n                className=\"admin_individual_selected_client_back_arrow_icon\"\r\n                onClick={handleBackToSchedule}\r\n              />\r\n              <p onClick={handleBackToSchedule}>Back to schedule</p>\r\n              <div className=\"admin_individual_selected_client_top_page_options\">\r\n                <p\r\n                  onClick={() => {\r\n                    changePersonalEventClicked(true);\r\n                    changeCreateAppointmentClicked(false);\r\n                    changeStopTransition(true);\r\n                    setTimeout(() => {\r\n                      changeStopTransition(false);\r\n                    }, 1000);\r\n                  }}\r\n                >\r\n                  Create Personal Event\r\n                </p>\r\n                <p>/</p>\r\n                <p className=\"admin_individual_selected_client_chosen_create_page\">\r\n                  Create Appointment\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"admin_create_appointment_section_header\">\r\n              <h2>Client Information</h2>\r\n            </div>\r\n            <div className=\"admin_create_appointment_input_information_container\">\r\n              <div className=\"admin_create_appointment_label admin_create_appointment_double_label\">\r\n                First Name\r\n              </div>\r\n              <ClientAutosuggest\r\n                getClientsData={getClientsData}\r\n                randomColorArray={randomColorArray}\r\n              />\r\n              <div className=\"admin_create_appointment_label admin_create_appointment_double_label\">\r\n                Last Name\r\n              </div>\r\n              <div\r\n                role=\"combobox\"\r\n                aria-haspopup=\"listbox\"\r\n                aria-owns=\"react-autowhatever-1\"\r\n                aria-controls=\"react-autowhatever-1\"\r\n                aria-expanded=\"false\"\r\n                className=\"react-autosuggest__container\"\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  autoComplete=\"off\"\r\n                  aria-autocomplete=\"list\"\r\n                  aria-controls=\"react-autowhatever-1\"\r\n                  className=\"react-autosuggest__input\"\r\n                  value={adminClientLastName}\r\n                  onChange={(e) =>\r\n                    dispatch(ACTION_ADMIN_CLIENT_LAST_NAME(e.target.value))\r\n                  }\r\n                  placeholder=\"Client last name\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"admin_create_appointment_input_information_container\">\r\n              <div className=\"admin_create_appointment_label admin_create_appointment_double_label\">\r\n                Email\r\n              </div>\r\n              <div\r\n                role=\"combobox\"\r\n                aria-haspopup=\"listbox\"\r\n                aria-owns=\"react-autowhatever-1\"\r\n                aria-controls=\"react-autowhatever-1\"\r\n                aria-expanded=\"false\"\r\n                className=\"react-autosuggest__container\"\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  autoComplete=\"off\"\r\n                  aria-autocomplete=\"list\"\r\n                  aria-controls=\"react-autowhatever-1\"\r\n                  className=\"react-autosuggest__input\"\r\n                  placeholder=\"Email address\"\r\n                  value={adminClientEmail}\r\n                  maxLength={100}\r\n                  onChange={(e) =>\r\n                    dispatch(ACTION_ADMIN_CLIENT_EMAIL(e.target.value))\r\n                  }\r\n                />\r\n              </div>\r\n              <div className=\"admin_create_appointment_label admin_create_appointment_double_label\">\r\n                Phone\r\n              </div>\r\n              <div\r\n                role=\"combobox\"\r\n                aria-haspopup=\"listbox\"\r\n                aria-owns=\"react-autowhatever-1\"\r\n                aria-controls=\"react-autowhatever-1\"\r\n                aria-expanded=\"false\"\r\n                className=\"react-autosuggest__container\"\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  autoComplete=\"off\"\r\n                  aria-autocomplete=\"list\"\r\n                  onKeyDown={phoneNumberKeyTyping}\r\n                  onChange={phoneNumberTyping}\r\n                  maxLength={16}\r\n                  value={adminClientPhoneNumber}\r\n                  aria-controls=\"react-autowhatever-1\"\r\n                  className=\"react-autosuggest__input\"\r\n                  placeholder=\"Phone number\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"admin_create_appointment_section_header\">\r\n              <h2>Appointment Details</h2>\r\n            </div>\r\n            <div className=\"admin_create_appointment_input_information_container\">\r\n              <div className=\"admin_create_appointment_label admin_create_appointment_double_label\">\r\n                Date\r\n              </div>\r\n              <DayPickerInput\r\n                classNames={{\r\n                  container: \"react-autosuggest__container\",\r\n                  overlay: \"\",\r\n                  overlayWrapper: clickOutsideDayPicker\r\n                    ? \"react-autosuggest__input_hide\"\r\n                    : \"\",\r\n                }}\r\n                dayPickerProps={{ disabledDays: { before: new Date() } }}\r\n                inputProps={{\r\n                  className: \"react-autosuggest__input\",\r\n                  style: {\r\n                    color: \"rgb(74, 144, 226)\",\r\n                  },\r\n                }}\r\n                formatDate={formatDate}\r\n                parseDate={parseDate}\r\n                onDayChange={(day) =>\r\n                  dispatch(ACTION_ADMIN_APPOINTMENT_DATE(day))\r\n                }\r\n                format=\"L\"\r\n                value={adminAppointmentDate}\r\n                placeholder=\"Appointment Date\"\r\n              />\r\n              <div className=\"admin_create_appointment_label admin_create_appointment_double_label\">\r\n                Time\r\n              </div>\r\n              <Dropdown\r\n                options={props.timeOptions()}\r\n                onChange={(choice) =>\r\n                  dispatch(ACTION_ADMIN_APPOINTMENT_TIME(choice.value))\r\n                }\r\n                value={adminAppointmentTime}\r\n                controlClassName=\"react-autosuggest__input\"\r\n                className=\"react-autosuggest__container\"\r\n                placeholder={\r\n                  adminAppointmentTime\r\n                    ? adminAppointmentTime\r\n                    : \"Appointment Time\"\r\n                }\r\n                placeholderClassName={\r\n                  adminAppointmentTime\r\n                    ? \"admin_create_appointent_dropdown_placeholder_time\"\r\n                    : \"admin_create_appointent_dropdown_placeholder_no_time\"\r\n                }\r\n              />\r\n            </div>\r\n\r\n            <div className=\"admin_create_appointment_input_information_container\">\r\n              <div className=\"admin_create_appointment_label\">Staff</div>\r\n              <Dropdown\r\n                options={\r\n                  getEmployeeData\r\n                    ? getEmployeeData.employee\r\n                      ? getEmployeeData.employee.employeeRole.includes(\"Admin\")\r\n                        ? allEmployeeOptions()\r\n                        : renderLoggedInStaffName()\r\n                      : renderLoggedInStaffName()\r\n                    : renderLoggedInStaffName()\r\n                }\r\n                onChange={(choice) =>\r\n                  dispatch(ACTION_ADMIN_APPOINTMENT_STAFF_MEMBER(choice))\r\n                }\r\n                value={adminAppointmentStaffMember}\r\n                controlClassName=\"react-autosuggest__input\"\r\n                className=\"react-autosuggest__container\"\r\n                placeholder={\r\n                  adminAppointmentStaffMember\r\n                    ? adminAppointmentStaffMember\r\n                    : \"Selected Esthetician\"\r\n                }\r\n                placeholderClassName={\r\n                  adminAppointmentStaffMember\r\n                    ? \"admin_create_appointent_dropdown_placeholder_time\"\r\n                    : \"admin_create_appointent_dropdown_placeholder_no_time\"\r\n                }\r\n              />\r\n            </div>\r\n\r\n            <div className=\"admin_create_appointment_input_information_container\">\r\n              <div className=\"admin_create_appointment_label\">\r\n                Appointment Notes\r\n              </div>\r\n              <div\r\n                role=\"combobox\"\r\n                aria-haspopup=\"listbox\"\r\n                aria-owns=\"react-autowhatever-1\"\r\n                aria-controls=\"react-autowhatever-1\"\r\n                aria-expanded=\"false\"\r\n                className=\"react-autosuggest__container\"\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  autoComplete=\"off\"\r\n                  aria-autocomplete=\"list\"\r\n                  aria-controls=\"react-autowhatever-1\"\r\n                  className=\"react-autosuggest__input\"\r\n                  placeholder={\r\n                    \"Enter additional notes for use by staff only (optional)\"\r\n                  }\r\n                  value={adminAppointmentNotes}\r\n                  maxLength={200}\r\n                  onChange={(e) =>\r\n                    dispatch(ACTION_ADMIN_APPOINTMENT_NOTES(e.target.value))\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"admin_create_appointment_service_label_container\">\r\n              <div className=\"admin_create_appointment_label\">Services</div>\r\n              <div className=\"admin_create_appointment_label\">Duration</div>\r\n              <div\r\n                className=\"admin_create_appointment_label\"\r\n                style={{\r\n                  borderRight: \"1px solid rgb(211, 211, 211)\",\r\n                }}\r\n              >\r\n                Amount\r\n              </div>\r\n            </div>\r\n            {renderSelectedTreatments()}\r\n            <TreatmentAutosuggest />\r\n            <SaltCaveAutosuggest\r\n              getAllAppointmentsData={props.getAllAppointmentsData}\r\n            />\r\n\r\n            <div\r\n              className=\"admin_create_appointment_service_label_container\"\r\n              style={{ marginTop: \"0rem\" }}\r\n            >\r\n              <div className=\"admin_create_appointment_label\"></div>\r\n              <div\r\n                className=\"admin_create_appointment_label admin_create_appointment_total_label\"\r\n                style={{\r\n                  borderLeft: \"1px solid transparent\",\r\n                }}\r\n              >\r\n                Total\r\n              </div>\r\n              <div\r\n                className=\"admin_create_appointment_label admin_create_appointment_total_label\"\r\n                style={{\r\n                  borderLeft: \"1px solid transparent\",\r\n                  borderRight: \"1px solid rgb(211, 211, 211)\",\r\n                }}\r\n              >\r\n                {!totalPrice ? \"$0.00\" : \"$\" + totalPrice + \".00\"}\r\n              </div>\r\n            </div>\r\n            <div className=\"admin_create_appointment_section_header\">\r\n              <h2>Payment Details</h2>\r\n            </div>\r\n            <div className=\"admin_payment_info_buttons_container\">\r\n              <div\r\n                className=\"admin_add_credit_card_button\"\r\n                onClick={() => {\r\n                  changeAddCardCollapseOpen(!addCardCollapseOpen);\r\n                  changeBookWithoutCardCollapseOpen(false);\r\n                }}\r\n              >\r\n                Book With Card\r\n              </div>\r\n              OR\r\n              <div\r\n                className=\"admin_book_without_card_button\"\r\n                onClick={() => {\r\n                  changeBookWithoutCardCollapseOpen(\r\n                    !bookWithoutCardCollapseOpen\r\n                  );\r\n                  changeAddCardCollapseOpen(false);\r\n                }}\r\n              >\r\n                Book Without Card\r\n              </div>\r\n            </div>\r\n            <Collapse isOpen={addCardCollapseOpen}>\r\n              <AdminPaymentInfo\r\n                getClientsData={getClientsData}\r\n                getClientsRefetch={getClientsRefetch}\r\n                handleBackToSchedule={handleBackToSchedule}\r\n                handleSubmitBooking={handleSubmitBooking}\r\n              />\r\n            </Collapse>\r\n            <Collapse isOpen={bookWithoutCardCollapseOpen}>\r\n              <div className=\"admin_square_payment_form_container\">\r\n                <div className=\"sq-payment-form\">\r\n                  <div className=\"sq-creditcard\" onClick={handleSubmitBooking}>\r\n                    Book Appointment\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Collapse>\r\n          </div>\r\n        ))\r\n      }\r\n    </Transition>\r\n  );\r\n};\r\n\r\nexport default AdminCreateAppointment;\r\n"]},"metadata":{},"sourceType":"module"}