{"ast":null,"code":"var _jsxFileName = \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\backup-July4\\\\Client\\\\src\\\\components\\\\admin\\\\AdminMenu\\\\AdminMenu.js\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\nimport { faHome, faBriefcase, faUsers, faCalendarWeek, faBell, faCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport ACTION_SPLASH_SCREEN_COMPLETE from \"../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";\nimport ACTION_SPLASH_SCREEN_HALFWAY from \"../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";\nimport ACTION_LOGIN_IS_NOT_ACTIVE from \"../../../actions/Login/ACTION_LOGIN_IS_NOT_ACTIVE\";\nimport ACTION_BODY_SCROLL_ALLOW from \"../../../actions/Body_Scroll/ACTION_BODY_SCROLL_ALLOW\";\nimport \"./AdminMenu.css\";\n\nconst AdminMenu = props => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const splashScreenHalfway = useSelector(state => state.splashScreenHalfway.splashScreenHalfway);\n  const splashScreenComplete = useSelector(state => state.splashScreenComplete.splashScreenComplete);\n  const loginIsActive = useSelector(state => state.loginIsActive.login_is_active);\n  const adminAuthenticated = useSelector(state => state.adminAuthenticated.admin_authenticated);\n  const adminNotifications = useSelector(state => state.adminNotifications.notifications);\n  useEffect(() => {\n    if (!splashScreenComplete) {\n      dispatch(ACTION_SPLASH_SCREEN_COMPLETE());\n    }\n\n    if (!splashScreenHalfway) {\n      dispatch(ACTION_SPLASH_SCREEN_HALFWAY());\n    }\n  }, [dispatch, splashScreenComplete, splashScreenHalfway]); // When account screen unmounts, allow navbar\n\n  useEffect(() => {\n    if (loginIsActive) {\n      dispatch(ACTION_LOGIN_IS_NOT_ACTIVE());\n    }\n  }, [dispatch, loginIsActive]);\n\n  const redirectToAdminLogInPage = () => {\n    if (!adminAuthenticated) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/admin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 14\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (location.state) {\n      if (location.state.changedAdminPassword) {\n        window.location.reload();\n      }\n    }\n  }, [location.state]);\n\n  const handleAdminResetNotifications = () => {\n    dispatch(ACTION_BODY_SCROLL_ALLOW());\n\n    if (adminNotifications) {\n      if (adminNotifications.length > 0) {\n        if (adminNotifications.filter(notification => notification.new === true).length > 0) {\n          props.resetNotifications();\n        }\n      }\n    }\n  };\n\n  const redirectToActivityPage = () => {\n    if (!props.currentScreenSize) {\n      if (props.initialScreenSize >= 1200) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/admin/activity\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 16\n          }\n        });\n      }\n    } else if (props.currentScreenSize >= 1200) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/admin/activity\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 14\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_menu_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, redirectToAdminLogInPage(), redirectToActivityPage(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_menu_page_header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"ADMIN MENU\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_menu_content_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_menu_box_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"admin_menu_box_container_link\",\n    to: \"/\",\n    onClick: () => dispatch(ACTION_BODY_SCROLL_ALLOW()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faHome,\n    className: \"admin_menu_box_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"HOME\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_menu_box_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"admin_menu_box_container_link\",\n    to: \"/admin/activity\",\n    onClick: () => dispatch(ACTION_BODY_SCROLL_ALLOW()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faBell,\n    className: \"admin_menu_box_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \"ACTIVITY\"), adminNotifications ? adminNotifications.length > 0 ? adminNotifications.filter(notification => notification.new === true).length > 0 ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa-layers fa-fw\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"small_menu_notifications_circle_counter\",\n    icon: faCircle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, adminNotifications.filter(notification => notification.new === true).length < 10 ? adminNotifications.filter(notification => notification.new === true).length : \"9+\")) : null : null : null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_menu_box_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"admin_menu_box_container_link\",\n    to: \"/admin/clients\",\n    onClick: handleAdminResetNotifications,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faUsers,\n    className: \"admin_menu_box_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, \"CLIENTS\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_men_box_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"admin_menu_box_container_link\",\n    to: \"/admin/staff\",\n    onClick: handleAdminResetNotifications,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faBriefcase,\n    className: \"admin_menu_box_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, \"STAFF\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_menu_box_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"admin_menu_box_container_link\",\n    to: \"/admin/schedule\",\n    onClick: handleAdminResetNotifications,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCalendarWeek,\n    className: \"admin_menu_box_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, \"SCHEDULE\")))));\n};\n\nexport default AdminMenu;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/MERN-barberShops/backup-July4/Client/src/components/admin/AdminMenu/AdminMenu.js"],"names":["React","useEffect","useDispatch","useSelector","Redirect","Link","useLocation","faHome","faBriefcase","faUsers","faCalendarWeek","faBell","faCircle","FontAwesomeIcon","ACTION_SPLASH_SCREEN_COMPLETE","ACTION_SPLASH_SCREEN_HALFWAY","ACTION_LOGIN_IS_NOT_ACTIVE","ACTION_BODY_SCROLL_ALLOW","AdminMenu","props","dispatch","location","splashScreenHalfway","state","splashScreenComplete","loginIsActive","login_is_active","adminAuthenticated","admin_authenticated","adminNotifications","notifications","redirectToAdminLogInPage","changedAdminPassword","window","reload","handleAdminResetNotifications","length","filter","notification","new","resetNotifications","redirectToActivityPage","currentScreenSize","initialScreenSize"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\r\nimport {\r\n  faHome,\r\n  faBriefcase,\r\n  faUsers,\r\n  faCalendarWeek,\r\n  faBell,\r\n  faCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport ACTION_SPLASH_SCREEN_COMPLETE from \"../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";\r\nimport ACTION_SPLASH_SCREEN_HALFWAY from \"../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";\r\nimport ACTION_LOGIN_IS_NOT_ACTIVE from \"../../../actions/Login/ACTION_LOGIN_IS_NOT_ACTIVE\";\r\nimport ACTION_BODY_SCROLL_ALLOW from \"../../../actions/Body_Scroll/ACTION_BODY_SCROLL_ALLOW\";\r\nimport \"./AdminMenu.css\";\r\n\r\nconst AdminMenu = (props) => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const splashScreenHalfway = useSelector(\r\n    (state) => state.splashScreenHalfway.splashScreenHalfway\r\n  );\r\n  const splashScreenComplete = useSelector(\r\n    (state) => state.splashScreenComplete.splashScreenComplete\r\n  );\r\n  const loginIsActive = useSelector(\r\n    (state) => state.loginIsActive.login_is_active\r\n  );\r\n  const adminAuthenticated = useSelector(\r\n    (state) => state.adminAuthenticated.admin_authenticated\r\n  );\r\n  const adminNotifications = useSelector(\r\n    (state) => state.adminNotifications.notifications\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!splashScreenComplete) {\r\n      dispatch(ACTION_SPLASH_SCREEN_COMPLETE());\r\n    }\r\n    if (!splashScreenHalfway) {\r\n      dispatch(ACTION_SPLASH_SCREEN_HALFWAY());\r\n    }\r\n  }, [dispatch, splashScreenComplete, splashScreenHalfway]);\r\n\r\n  // When account screen unmounts, allow navbar\r\n  useEffect(() => {\r\n    if (loginIsActive) {\r\n      dispatch(ACTION_LOGIN_IS_NOT_ACTIVE());\r\n    }\r\n  }, [dispatch, loginIsActive]);\r\n\r\n  const redirectToAdminLogInPage = () => {\r\n    if (!adminAuthenticated) {\r\n      return <Redirect to=\"/admin\" />;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (location.state) {\r\n      if (location.state.changedAdminPassword) {\r\n        window.location.reload();\r\n      }\r\n    }\r\n  }, [location.state]);\r\n\r\n  const handleAdminResetNotifications = () => {\r\n    dispatch(ACTION_BODY_SCROLL_ALLOW());\r\n\r\n    if (adminNotifications) {\r\n      if (adminNotifications.length > 0) {\r\n        if (\r\n          adminNotifications.filter((notification) => notification.new === true)\r\n            .length > 0\r\n        ) {\r\n          props.resetNotifications();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const redirectToActivityPage = () => {\r\n    if (!props.currentScreenSize) {\r\n      if (props.initialScreenSize >= 1200) {\r\n        return <Redirect to=\"/admin/activity\" />;\r\n      }\r\n    } else if (props.currentScreenSize >= 1200) {\r\n      return <Redirect to=\"/admin/activity\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin_menu_container\">\r\n      {redirectToAdminLogInPage()}\r\n      {redirectToActivityPage()}\r\n      <div className=\"admin_menu_page_header\">\r\n        <h1>ADMIN MENU</h1>\r\n      </div>\r\n      <div className=\"admin_menu_content_container\">\r\n        <div className=\"admin_menu_box_container\">\r\n          <Link\r\n            className=\"admin_menu_box_container_link\"\r\n            to=\"/\"\r\n            onClick={() => dispatch(ACTION_BODY_SCROLL_ALLOW())}\r\n          >\r\n            <FontAwesomeIcon icon={faHome} className=\"admin_menu_box_icon\" />\r\n            <h2>HOME</h2>\r\n          </Link>\r\n        </div>\r\n        <div className=\"admin_menu_box_container\">\r\n          <Link\r\n            className=\"admin_menu_box_container_link\"\r\n            to=\"/admin/activity\"\r\n            onClick={() => dispatch(ACTION_BODY_SCROLL_ALLOW())}\r\n          >\r\n            <FontAwesomeIcon icon={faBell} className=\"admin_menu_box_icon\" />\r\n            <h2>ACTIVITY</h2>\r\n            {adminNotifications ? (\r\n              adminNotifications.length > 0 ? (\r\n                adminNotifications.filter(\r\n                  (notification) => notification.new === true\r\n                ).length > 0 ? (\r\n                  <span className=\"fa-layers fa-fw\">\r\n                    <FontAwesomeIcon\r\n                      className=\"small_menu_notifications_circle_counter\"\r\n                      icon={faCircle}\r\n                    />\r\n                    <p>\r\n                      {adminNotifications.filter(\r\n                        (notification) => notification.new === true\r\n                      ).length < 10\r\n                        ? adminNotifications.filter(\r\n                            (notification) => notification.new === true\r\n                          ).length\r\n                        : \"9+\"}\r\n                    </p>\r\n                  </span>\r\n                ) : null\r\n              ) : null\r\n            ) : null}\r\n          </Link>\r\n        </div>\r\n        <div className=\"admin_menu_box_container\">\r\n          <Link\r\n            className=\"admin_menu_box_container_link\"\r\n            to=\"/admin/clients\"\r\n            onClick={handleAdminResetNotifications}\r\n          >\r\n            <FontAwesomeIcon icon={faUsers} className=\"admin_menu_box_icon\" />\r\n            <h2>CLIENTS</h2>\r\n          </Link>\r\n        </div>\r\n        <div className=\"admin_men_box_container\">\r\n          <Link\r\n            className=\"admin_menu_box_container_link\"\r\n            to=\"/admin/staff\"\r\n            onClick={handleAdminResetNotifications}\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faBriefcase}\r\n              className=\"admin_menu_box_icon\"\r\n            />\r\n            <h2>STAFF</h2>\r\n          </Link>\r\n        </div>\r\n        <div className=\"admin_menu_box_container\">\r\n          <Link\r\n            className=\"admin_menu_box_container_link\"\r\n            to=\"/admin/schedule\"\r\n            onClick={handleAdminResetNotifications}\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faCalendarWeek}\r\n              className=\"admin_menu_box_icon\"\r\n            />\r\n            <h2>SCHEDULE</h2>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminMenu;\r\n"]},"metadata":{},"sourceType":"module"}