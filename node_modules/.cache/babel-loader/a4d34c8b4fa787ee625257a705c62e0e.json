{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Redirect,Link,useLocation}from\"react-router-dom\";import{faHome,faBriefcase,faUsers,faCalendarWeek,faBell,faCircle}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import ACTION_SPLASH_SCREEN_COMPLETE from\"../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";import ACTION_SPLASH_SCREEN_HALFWAY from\"../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";import ACTION_LOGIN_IS_NOT_ACTIVE from\"../../../actions/Login/ACTION_LOGIN_IS_NOT_ACTIVE\";import ACTION_BODY_SCROLL_ALLOW from\"../../../actions/Body_Scroll/ACTION_BODY_SCROLL_ALLOW\";import\"./AdminMenu.css\";const AdminMenu=props=>{const dispatch=useDispatch();const location=useLocation();const splashScreenHalfway=useSelector(state=>state.splashScreenHalfway.splashScreenHalfway);const splashScreenComplete=useSelector(state=>state.splashScreenComplete.splashScreenComplete);const loginIsActive=useSelector(state=>state.loginIsActive.login_is_active);const adminAuthenticated=useSelector(state=>state.adminAuthenticated.admin_authenticated);const adminNotifications=useSelector(state=>state.adminNotifications.notifications);useEffect(()=>{if(!splashScreenComplete){dispatch(ACTION_SPLASH_SCREEN_COMPLETE());}if(!splashScreenHalfway){dispatch(ACTION_SPLASH_SCREEN_HALFWAY());}},[dispatch,splashScreenComplete,splashScreenHalfway]);// When account screen unmounts, allow navbar\nuseEffect(()=>{if(loginIsActive){dispatch(ACTION_LOGIN_IS_NOT_ACTIVE());}},[dispatch,loginIsActive]);const redirectToAdminLogInPage=()=>{if(!adminAuthenticated){return/*#__PURE__*/React.createElement(Redirect,{to:\"/admin\"});}};useEffect(()=>{if(location.state){if(location.state.changedAdminPassword){window.location.reload();}}},[location.state]);const handleAdminResetNotifications=()=>{dispatch(ACTION_BODY_SCROLL_ALLOW());if(adminNotifications){if(adminNotifications.length>0){if(adminNotifications.filter(notification=>notification.new===true).length>0){props.resetNotifications();}}}};const redirectToActivityPage=()=>{if(!props.currentScreenSize){if(props.initialScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/admin/activity\"});}}else if(props.currentScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/admin/activity\"});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"admin_menu_container\"},redirectToAdminLogInPage(),redirectToActivityPage(),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_menu_page_header\"},/*#__PURE__*/React.createElement(\"h1\",null,\"ADMIN MENU\")),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_menu_content_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"admin_menu_box_container\"},/*#__PURE__*/React.createElement(Link,{className:\"admin_menu_box_container_link\",to:\"/\",onClick:()=>dispatch(ACTION_BODY_SCROLL_ALLOW())},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faHome,className:\"admin_menu_box_icon\"}),/*#__PURE__*/React.createElement(\"h2\",null,\"HOME\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_menu_box_container\"},/*#__PURE__*/React.createElement(Link,{className:\"admin_menu_box_container_link\",to:\"/admin/activity\",onClick:()=>dispatch(ACTION_BODY_SCROLL_ALLOW())},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBell,className:\"admin_menu_box_icon\"}),/*#__PURE__*/React.createElement(\"h2\",null,\"ACTIVITY\"),adminNotifications?adminNotifications.length>0?adminNotifications.filter(notification=>notification.new===true).length>0?/*#__PURE__*/React.createElement(\"span\",{className:\"fa-layers fa-fw\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"small_menu_notifications_circle_counter\",icon:faCircle}),/*#__PURE__*/React.createElement(\"p\",null,adminNotifications.filter(notification=>notification.new===true).length<10?adminNotifications.filter(notification=>notification.new===true).length:\"9+\")):null:null:null)),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_menu_box_container\"},/*#__PURE__*/React.createElement(Link,{className:\"admin_menu_box_container_link\",to:\"/admin/clients\",onClick:handleAdminResetNotifications},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUsers,className:\"admin_menu_box_icon\"}),/*#__PURE__*/React.createElement(\"h2\",null,\"CLIENTS\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_men_box_container\"},/*#__PURE__*/React.createElement(Link,{className:\"admin_menu_box_container_link\",to:\"/admin/staff\",onClick:handleAdminResetNotifications},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBriefcase,className:\"admin_menu_box_icon\"}),/*#__PURE__*/React.createElement(\"h2\",null,\"STAFF\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_menu_box_container\"},/*#__PURE__*/React.createElement(Link,{className:\"admin_menu_box_container_link\",to:\"/admin/schedule\",onClick:handleAdminResetNotifications},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCalendarWeek,className:\"admin_menu_box_icon\"}),/*#__PURE__*/React.createElement(\"h2\",null,\"SCHEDULE\")))));};export default AdminMenu;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/HighEnd/Client/src/components/admin/AdminMenu/AdminMenu.js"],"names":["React","useEffect","useDispatch","useSelector","Redirect","Link","useLocation","faHome","faBriefcase","faUsers","faCalendarWeek","faBell","faCircle","FontAwesomeIcon","ACTION_SPLASH_SCREEN_COMPLETE","ACTION_SPLASH_SCREEN_HALFWAY","ACTION_LOGIN_IS_NOT_ACTIVE","ACTION_BODY_SCROLL_ALLOW","AdminMenu","props","dispatch","location","splashScreenHalfway","state","splashScreenComplete","loginIsActive","login_is_active","adminAuthenticated","admin_authenticated","adminNotifications","notifications","redirectToAdminLogInPage","changedAdminPassword","window","reload","handleAdminResetNotifications","length","filter","notification","new","resetNotifications","redirectToActivityPage","currentScreenSize","initialScreenSize"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,QAAT,CAAmBC,IAAnB,CAAyBC,WAAzB,KAA4C,kBAA5C,CACA,OACEC,MADF,CAEEC,WAFF,CAGEC,OAHF,CAIEC,cAJF,CAKEC,MALF,CAMEC,QANF,KAOO,mCAPP,CAQA,OAASC,eAAT,KAAgC,gCAAhC,CACA,MAAOC,CAAAA,6BAAP,KAA0C,qEAA1C,CACA,MAAOC,CAAAA,4BAAP,KAAyC,mEAAzC,CACA,MAAOC,CAAAA,0BAAP,KAAuC,mDAAvC,CACA,MAAOC,CAAAA,wBAAP,KAAqC,uDAArC,CACA,MAAO,iBAAP,CAEA,KAAMC,CAAAA,SAAS,CAAIC,KAAD,EAAW,CAC3B,KAAMC,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CACA,KAAMmB,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CACA,KAAMgB,CAAAA,mBAAmB,CAAGnB,WAAW,CACpCoB,KAAD,EAAWA,KAAK,CAACD,mBAAN,CAA0BA,mBADA,CAAvC,CAGA,KAAME,CAAAA,oBAAoB,CAAGrB,WAAW,CACrCoB,KAAD,EAAWA,KAAK,CAACC,oBAAN,CAA2BA,oBADA,CAAxC,CAGA,KAAMC,CAAAA,aAAa,CAAGtB,WAAW,CAC9BoB,KAAD,EAAWA,KAAK,CAACE,aAAN,CAAoBC,eADA,CAAjC,CAGA,KAAMC,CAAAA,kBAAkB,CAAGxB,WAAW,CACnCoB,KAAD,EAAWA,KAAK,CAACI,kBAAN,CAAyBC,mBADA,CAAtC,CAGA,KAAMC,CAAAA,kBAAkB,CAAG1B,WAAW,CACnCoB,KAAD,EAAWA,KAAK,CAACM,kBAAN,CAAyBC,aADA,CAAtC,CAIA7B,SAAS,CAAC,IAAM,CACd,GAAI,CAACuB,oBAAL,CAA2B,CACzBJ,QAAQ,CAACN,6BAA6B,EAA9B,CAAR,CACD,CACD,GAAI,CAACQ,mBAAL,CAA0B,CACxBF,QAAQ,CAACL,4BAA4B,EAA7B,CAAR,CACD,CACF,CAPQ,CAON,CAACK,QAAD,CAAWI,oBAAX,CAAiCF,mBAAjC,CAPM,CAAT,CASA;AACArB,SAAS,CAAC,IAAM,CACd,GAAIwB,aAAJ,CAAmB,CACjBL,QAAQ,CAACJ,0BAA0B,EAA3B,CAAR,CACD,CACF,CAJQ,CAIN,CAACI,QAAD,CAAWK,aAAX,CAJM,CAAT,CAMA,KAAMM,CAAAA,wBAAwB,CAAG,IAAM,CACrC,GAAI,CAACJ,kBAAL,CAAyB,CACvB,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAP,CACD,CACF,CAJD,CAMA1B,SAAS,CAAC,IAAM,CACd,GAAIoB,QAAQ,CAACE,KAAb,CAAoB,CAClB,GAAIF,QAAQ,CAACE,KAAT,CAAeS,oBAAnB,CAAyC,CACvCC,MAAM,CAACZ,QAAP,CAAgBa,MAAhB,GACD,CACF,CACF,CANQ,CAMN,CAACb,QAAQ,CAACE,KAAV,CANM,CAAT,CAQA,KAAMY,CAAAA,6BAA6B,CAAG,IAAM,CAC1Cf,QAAQ,CAACH,wBAAwB,EAAzB,CAAR,CAEA,GAAIY,kBAAJ,CAAwB,CACtB,GAAIA,kBAAkB,CAACO,MAAnB,CAA4B,CAAhC,CAAmC,CACjC,GACEP,kBAAkB,CAACQ,MAAnB,CAA2BC,YAAD,EAAkBA,YAAY,CAACC,GAAb,GAAqB,IAAjE,EACGH,MADH,CACY,CAFd,CAGE,CACAjB,KAAK,CAACqB,kBAAN,GACD,CACF,CACF,CACF,CAbD,CAeA,KAAMC,CAAAA,sBAAsB,CAAG,IAAM,CACnC,GAAI,CAACtB,KAAK,CAACuB,iBAAX,CAA8B,CAC5B,GAAIvB,KAAK,CAACwB,iBAAN,EAA2B,IAA/B,CAAqC,CACnC,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,iBAAb,EAAP,CACD,CACF,CAJD,IAIO,IAAIxB,KAAK,CAACuB,iBAAN,EAA2B,IAA/B,CAAqC,CAC1C,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,iBAAb,EAAP,CACD,CACF,CARD,CAUA,mBACE,2BAAK,SAAS,CAAC,sBAAf,EACGX,wBAAwB,EAD3B,CAEGU,sBAAsB,EAFzB,cAGE,2BAAK,SAAS,CAAC,wBAAf,eACE,2CADF,CAHF,cAME,2BAAK,SAAS,CAAC,8BAAf,eACE,2BAAK,SAAS,CAAC,0BAAf,eACE,oBAAC,IAAD,EACE,SAAS,CAAC,+BADZ,CAEE,EAAE,CAAC,GAFL,CAGE,OAAO,CAAE,IAAMrB,QAAQ,CAACH,wBAAwB,EAAzB,CAHzB,eAKE,oBAAC,eAAD,EAAiB,IAAI,CAAEV,MAAvB,CAA+B,SAAS,CAAC,qBAAzC,EALF,cAME,qCANF,CADF,CADF,cAWE,2BAAK,SAAS,CAAC,0BAAf,eACE,oBAAC,IAAD,EACE,SAAS,CAAC,+BADZ,CAEE,EAAE,CAAC,iBAFL,CAGE,OAAO,CAAE,IAAMa,QAAQ,CAACH,wBAAwB,EAAzB,CAHzB,eAKE,oBAAC,eAAD,EAAiB,IAAI,CAAEN,MAAvB,CAA+B,SAAS,CAAC,qBAAzC,EALF,cAME,yCANF,CAOGkB,kBAAkB,CACjBA,kBAAkB,CAACO,MAAnB,CAA4B,CAA5B,CACEP,kBAAkB,CAACQ,MAAnB,CACGC,YAAD,EAAkBA,YAAY,CAACC,GAAb,GAAqB,IADzC,EAEEH,MAFF,CAEW,CAFX,cAGE,4BAAM,SAAS,CAAC,iBAAhB,eACE,oBAAC,eAAD,EACE,SAAS,CAAC,yCADZ,CAEE,IAAI,CAAExB,QAFR,EADF,cAKE,6BACGiB,kBAAkB,CAACQ,MAAnB,CACEC,YAAD,EAAkBA,YAAY,CAACC,GAAb,GAAqB,IADxC,EAECH,MAFD,CAEU,EAFV,CAGGP,kBAAkB,CAACQ,MAAnB,CACGC,YAAD,EAAkBA,YAAY,CAACC,GAAb,GAAqB,IADzC,EAEEH,MALL,CAMG,IAPN,CALF,CAHF,CAkBI,IAnBN,CAoBI,IArBa,CAsBf,IA7BN,CADF,CAXF,cA4CE,2BAAK,SAAS,CAAC,0BAAf,eACE,oBAAC,IAAD,EACE,SAAS,CAAC,+BADZ,CAEE,EAAE,CAAC,gBAFL,CAGE,OAAO,CAAED,6BAHX,eAKE,oBAAC,eAAD,EAAiB,IAAI,CAAE1B,OAAvB,CAAgC,SAAS,CAAC,qBAA1C,EALF,cAME,wCANF,CADF,CA5CF,cAsDE,2BAAK,SAAS,CAAC,yBAAf,eACE,oBAAC,IAAD,EACE,SAAS,CAAC,+BADZ,CAEE,EAAE,CAAC,cAFL,CAGE,OAAO,CAAE0B,6BAHX,eAKE,oBAAC,eAAD,EACE,IAAI,CAAE3B,WADR,CAEE,SAAS,CAAC,qBAFZ,EALF,cASE,sCATF,CADF,CAtDF,cAmEE,2BAAK,SAAS,CAAC,0BAAf,eACE,oBAAC,IAAD,EACE,SAAS,CAAC,+BADZ,CAEE,EAAE,CAAC,iBAFL,CAGE,OAAO,CAAE2B,6BAHX,eAKE,oBAAC,eAAD,EACE,IAAI,CAAEzB,cADR,CAEE,SAAS,CAAC,qBAFZ,EALF,cASE,yCATF,CADF,CAnEF,CANF,CADF,CA0FD,CApKD,CAsKA,cAAeQ,CAAAA,SAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\r\nimport {\r\n  faHome,\r\n  faBriefcase,\r\n  faUsers,\r\n  faCalendarWeek,\r\n  faBell,\r\n  faCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport ACTION_SPLASH_SCREEN_COMPLETE from \"../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";\r\nimport ACTION_SPLASH_SCREEN_HALFWAY from \"../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";\r\nimport ACTION_LOGIN_IS_NOT_ACTIVE from \"../../../actions/Login/ACTION_LOGIN_IS_NOT_ACTIVE\";\r\nimport ACTION_BODY_SCROLL_ALLOW from \"../../../actions/Body_Scroll/ACTION_BODY_SCROLL_ALLOW\";\r\nimport \"./AdminMenu.css\";\r\n\r\nconst AdminMenu = (props) => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const splashScreenHalfway = useSelector(\r\n    (state) => state.splashScreenHalfway.splashScreenHalfway\r\n  );\r\n  const splashScreenComplete = useSelector(\r\n    (state) => state.splashScreenComplete.splashScreenComplete\r\n  );\r\n  const loginIsActive = useSelector(\r\n    (state) => state.loginIsActive.login_is_active\r\n  );\r\n  const adminAuthenticated = useSelector(\r\n    (state) => state.adminAuthenticated.admin_authenticated\r\n  );\r\n  const adminNotifications = useSelector(\r\n    (state) => state.adminNotifications.notifications\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!splashScreenComplete) {\r\n      dispatch(ACTION_SPLASH_SCREEN_COMPLETE());\r\n    }\r\n    if (!splashScreenHalfway) {\r\n      dispatch(ACTION_SPLASH_SCREEN_HALFWAY());\r\n    }\r\n  }, [dispatch, splashScreenComplete, splashScreenHalfway]);\r\n\r\n  // When account screen unmounts, allow navbar\r\n  useEffect(() => {\r\n    if (loginIsActive) {\r\n      dispatch(ACTION_LOGIN_IS_NOT_ACTIVE());\r\n    }\r\n  }, [dispatch, loginIsActive]);\r\n\r\n  const redirectToAdminLogInPage = () => {\r\n    if (!adminAuthenticated) {\r\n      return <Redirect to=\"/admin\" />;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (location.state) {\r\n      if (location.state.changedAdminPassword) {\r\n        window.location.reload();\r\n      }\r\n    }\r\n  }, [location.state]);\r\n\r\n  const handleAdminResetNotifications = () => {\r\n    dispatch(ACTION_BODY_SCROLL_ALLOW());\r\n\r\n    if (adminNotifications) {\r\n      if (adminNotifications.length > 0) {\r\n        if (\r\n          adminNotifications.filter((notification) => notification.new === true)\r\n            .length > 0\r\n        ) {\r\n          props.resetNotifications();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const redirectToActivityPage = () => {\r\n    if (!props.currentScreenSize) {\r\n      if (props.initialScreenSize >= 1200) {\r\n        return <Redirect to=\"/admin/activity\" />;\r\n      }\r\n    } else if (props.currentScreenSize >= 1200) {\r\n      return <Redirect to=\"/admin/activity\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin_menu_container\">\r\n      {redirectToAdminLogInPage()}\r\n      {redirectToActivityPage()}\r\n      <div className=\"admin_menu_page_header\">\r\n        <h1>ADMIN MENU</h1>\r\n      </div>\r\n      <div className=\"admin_menu_content_container\">\r\n        <div className=\"admin_menu_box_container\">\r\n          <Link\r\n            className=\"admin_menu_box_container_link\"\r\n            to=\"/\"\r\n            onClick={() => dispatch(ACTION_BODY_SCROLL_ALLOW())}\r\n          >\r\n            <FontAwesomeIcon icon={faHome} className=\"admin_menu_box_icon\" />\r\n            <h2>HOME</h2>\r\n          </Link>\r\n        </div>\r\n        <div className=\"admin_menu_box_container\">\r\n          <Link\r\n            className=\"admin_menu_box_container_link\"\r\n            to=\"/admin/activity\"\r\n            onClick={() => dispatch(ACTION_BODY_SCROLL_ALLOW())}\r\n          >\r\n            <FontAwesomeIcon icon={faBell} className=\"admin_menu_box_icon\" />\r\n            <h2>ACTIVITY</h2>\r\n            {adminNotifications ? (\r\n              adminNotifications.length > 0 ? (\r\n                adminNotifications.filter(\r\n                  (notification) => notification.new === true\r\n                ).length > 0 ? (\r\n                  <span className=\"fa-layers fa-fw\">\r\n                    <FontAwesomeIcon\r\n                      className=\"small_menu_notifications_circle_counter\"\r\n                      icon={faCircle}\r\n                    />\r\n                    <p>\r\n                      {adminNotifications.filter(\r\n                        (notification) => notification.new === true\r\n                      ).length < 10\r\n                        ? adminNotifications.filter(\r\n                            (notification) => notification.new === true\r\n                          ).length\r\n                        : \"9+\"}\r\n                    </p>\r\n                  </span>\r\n                ) : null\r\n              ) : null\r\n            ) : null}\r\n          </Link>\r\n        </div>\r\n        <div className=\"admin_menu_box_container\">\r\n          <Link\r\n            className=\"admin_menu_box_container_link\"\r\n            to=\"/admin/clients\"\r\n            onClick={handleAdminResetNotifications}\r\n          >\r\n            <FontAwesomeIcon icon={faUsers} className=\"admin_menu_box_icon\" />\r\n            <h2>CLIENTS</h2>\r\n          </Link>\r\n        </div>\r\n        <div className=\"admin_men_box_container\">\r\n          <Link\r\n            className=\"admin_menu_box_container_link\"\r\n            to=\"/admin/staff\"\r\n            onClick={handleAdminResetNotifications}\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faBriefcase}\r\n              className=\"admin_menu_box_icon\"\r\n            />\r\n            <h2>STAFF</h2>\r\n          </Link>\r\n        </div>\r\n        <div className=\"admin_menu_box_container\">\r\n          <Link\r\n            className=\"admin_menu_box_container_link\"\r\n            to=\"/admin/schedule\"\r\n            onClick={handleAdminResetNotifications}\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faCalendarWeek}\r\n              className=\"admin_menu_box_icon\"\r\n            />\r\n            <h2>SCHEDULE</h2>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminMenu;\r\n"]},"metadata":{},"sourceType":"module"}