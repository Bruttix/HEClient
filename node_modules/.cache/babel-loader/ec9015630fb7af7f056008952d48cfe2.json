{"ast":null,"code":"import _taggedTemplateLiteral from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";function _templateObject(){const data=_taggedTemplateLiteral([\"\\n    display: block;\\n    position: absolute;\\n    left: 25%;\\n    right: 25%;\\n  \"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useCallback,useEffect,useState}from\"react\";import LZString from\"lz-string\";import Modal from\"react-modal\";import{useDispatch,useSelector}from\"react-redux\";import{css}from\"@emotion/css\";import BounceLoader from\"react-spinners/BounceLoader\";import{Transition}from\"react-spring/renderprops\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faCamera,faChevronRight,faHistory,faCalendarAlt,faTrashAlt,faTimes}from\"@fortawesome/free-solid-svg-icons\";import{useMutation}from\"@apollo/react-hooks\";import deleteClientMutation from\"../../../graphql/mutations/deleteClientMutation\";import ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED from\"../../../actions/Admin/AdminLogin/AdminClientSectionSelected/ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED\";import ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED from\"../../../actions/Admin/AdminLogin/AdminClientSectionSelected/ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED\";import ACTION_ADD_PROFILE_PHOTO_CLICKED from\"../../../actions/Admin/AddProfilePhotoClicked/ACTION_ADD_PROFILE_PHOTO_CLICKED\";import ACTION_LOADING_SPINNER_ACTIVE from\"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_ACTIVE\";import ACTION_LOADING_SPINNER_RESET from\"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_RESET\";import\"./AdminClients.css\";const AdminClientIndividualProfile=props=>{const dispatch=useDispatch();const _useState=useState(false),_useState2=_slicedToArray(_useState,2),deleteClientClicked=_useState2[0],changeDeleteClientClicked=_useState2[1];const loadingSpinnerActive=useSelector(state=>state.loadingSpinnerActive.loading_spinner);const override=css(_templateObject());const _useMutation=useMutation(deleteClientMutation),_useMutation2=_slicedToArray(_useMutation,2),deleteClient=_useMutation2[0],_useMutation2$=_useMutation2[1],loading=_useMutation2$.loading,data=_useMutation2$.data;const handleDeleteClient=item=>{deleteClient({variables:{_id:item}});if(deleteClientClicked){changeDeleteClientClicked(false);}};const resetStatesAfterLoading=useCallback(()=>{props.getClientsRefetch();dispatch(ACTION_LOADING_SPINNER_RESET());props.changeClientToggled(\"\");},[props,dispatch]);useEffect(()=>{if(data){const loadingFunction=setTimeout(()=>resetStatesAfterLoading(),2000);return()=>{clearTimeout(loadingFunction);};}},[data,resetStatesAfterLoading]);useEffect(()=>{if(loading){dispatch(ACTION_LOADING_SPINNER_ACTIVE());}},[loading,data,dispatch]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{isOpen:deleteClientClicked,className:\"cancel_appointment_modal\",style:{content:{position:\"fixed\",zIndex:10000,opacity:0.99,height:\"100%\",backdropFilter:\"blur(5px)\",WebkitBackdropFilter:\"blur(5px)\",paddingBottom:\"10%\",borderRadius:\"none\",width:\"100vw\",top:\"0\",left:\"0\",right:\"0\",bottom:\"0\",border:\"none\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",background:\"rgba(0, 0, 0, 0.5)\"}}},/*#__PURE__*/React.createElement(BounceLoader,{size:100,css:override,color:\"rgb(44, 44, 52)\",loading:loadingSpinnerActive}),/*#__PURE__*/React.createElement(Transition,{items:deleteClientClicked&&!loadingSpinnerActive,from:{transform:\"translate3d(0, -65%, 0)\"},enter:{transform:\"translate3d(0, 0, 0)\"},leave:{display:\"none\"}},deleteClientClicked=>deleteClientClicked&&(styleprops=>/*#__PURE__*/React.createElement(\"div\",{className:\"cancel_appointment_modal_content_container\",style:styleprops},/*#__PURE__*/React.createElement(\"div\",{className:\"log_out_modal_contents admin_cancel_appointment\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"modal_x\",icon:faTimes,onClick:()=>changeDeleteClientClicked(false)}),/*#__PURE__*/React.createElement(\"h2\",null,\"Are you sure you want to remove\",\" \",props.item.firstName[0].toUpperCase()+props.item.firstName.slice(1).toLowerCase()+\" \"+props.item.lastName[0].toUpperCase()+props.item.lastName.slice(1).toLowerCase(),\" \",\"as a client?\"),/*#__PURE__*/React.createElement(\"span\",{className:\"logout_buttons_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logout_button yes_cancel_appointment_button\",onClick:()=>handleDeleteClient(props.clientToggled)},/*#__PURE__*/React.createElement(\"p\",null,\"YES, REMOVE\")),/*#__PURE__*/React.createElement(\"div\",{className:\"cancel_logout_button no_dont_cancel_appointment_button\",onClick:()=>changeDeleteClientClicked(false)},/*#__PURE__*/React.createElement(\"p\",null,\"NO, GO BACK\")))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_client_profile_top_section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"admin_client_profile_client_avatar_container\"},props.getClientsData?props.getClientsData.clients.filter(x=>x._id===props.clientToggled)[0].profilePicture?/*#__PURE__*/React.createElement(\"img\",{className:\"admin_individual_client_picture_profile_avatar\"// Uses Encoded URI Component instead of any other compression to support cross-browser compatability\n,src:LZString.decompressFromEncodedURIComponent(props.getClientsData.clients.filter(x=>x._id===props.clientToggled)[0].profilePicture),alt:props.item.firstName[0].toUpperCase()+props.item.firstName.slice(1).toLowerCase()+\" \"+props.item.lastName[0].toUpperCase()+props.item.lastName.slice(1).toLowerCase()+\" Profile Picture\"}):props.handleProfilePictureRender(props.item):props.handleProfilePictureRender(props.item),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_individual_selected_client_camera_icon_container\",onClick:()=>dispatch(ACTION_ADD_PROFILE_PHOTO_CLICKED())},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCamera,className:\"admin_individual_selected_client_camera_icon\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_individual_selected_client_full_name_container\"},/*#__PURE__*/React.createElement(\"h2\",null,props.item.firstName[0].toUpperCase()+props.item.firstName.slice(1).toLowerCase()+\" \"+props.item.lastName[0].toUpperCase()+props.item.lastName.slice(1).toLowerCase())),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_individual_selected_client_contact_info_container\"},/*#__PURE__*/React.createElement(\"p\",null,props.item.email),props.renderBarInContactInfo(),/*#__PURE__*/React.createElement(\"p\",null,props.item.phoneNumber)),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_individual_selected_client_contact_info_container admin_individual_selected_membership_type_container\"},/*#__PURE__*/React.createElement(\"p\",null,\"Membership Type: Default\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"admin_client_profile_bottom_buttons_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile_button_container\",onClick:()=>dispatch(ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED())},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"profile_button_icon\",icon:faCalendarAlt}),/*#__PURE__*/React.createElement(\"h2\",null,\"Upcoming Appointments\"),/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"profile_button_expand\",icon:faChevronRight})),/*#__PURE__*/React.createElement(\"div\",{className:\"profile_button_container\",onClick:()=>dispatch(ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED())},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"profile_button_icon\",icon:faHistory}),/*#__PURE__*/React.createElement(\"h2\",null,\"Past Appointments\"),/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"profile_button_expand\",icon:faChevronRight})),props.renderDownloadConsentFormButton(props.item),props.getEmployeeData?props.getEmployeeData.employee?props.getEmployeeData.employee.employeeRole.includes(\"Admin\")?/*#__PURE__*/React.createElement(\"div\",{className:\"profile_button_container\",onClick:()=>changeDeleteClientClicked(true)},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"profile_button_icon\",icon:faTrashAlt,style:{color:\"rgb(177, 48, 0)\"}}),/*#__PURE__*/React.createElement(\"h2\",{style:{color:\"rgb(177, 48, 0)\"}},\"Delete Client\")):null:null:null));};export default AdminClientIndividualProfile;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/HighEnd/Client/src/components/admin/AdminClients/AdminClientIndividualProfile.js"],"names":["React","useCallback","useEffect","useState","LZString","Modal","useDispatch","useSelector","css","BounceLoader","Transition","FontAwesomeIcon","faCamera","faChevronRight","faHistory","faCalendarAlt","faTrashAlt","faTimes","useMutation","deleteClientMutation","ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED","ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED","ACTION_ADD_PROFILE_PHOTO_CLICKED","ACTION_LOADING_SPINNER_ACTIVE","ACTION_LOADING_SPINNER_RESET","AdminClientIndividualProfile","props","dispatch","deleteClientClicked","changeDeleteClientClicked","loadingSpinnerActive","state","loading_spinner","override","deleteClient","loading","data","handleDeleteClient","item","variables","_id","resetStatesAfterLoading","getClientsRefetch","changeClientToggled","loadingFunction","setTimeout","clearTimeout","content","position","zIndex","opacity","height","backdropFilter","WebkitBackdropFilter","paddingBottom","borderRadius","width","top","left","right","bottom","border","display","flexDirection","alignItems","justifyContent","background","transform","styleprops","firstName","toUpperCase","slice","toLowerCase","lastName","clientToggled","getClientsData","clients","filter","x","profilePicture","decompressFromEncodedURIComponent","handleProfilePictureRender","email","renderBarInContactInfo","phoneNumber","renderDownloadConsentFormButton","getEmployeeData","employee","employeeRole","includes","color"],"mappings":"8jBAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,QAAxC,KAAwD,OAAxD,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,GAAT,KAAoB,cAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OACEC,QADF,CAEEC,cAFF,CAGEC,SAHF,CAIEC,aAJF,CAKEC,UALF,CAMEC,OANF,KAOO,mCAPP,CAQA,OAASC,WAAT,KAA4B,qBAA5B,CACA,MAAOC,CAAAA,oBAAP,KAAiC,iDAAjC,CACA,MAAOC,CAAAA,kDAAP,KAA+D,iHAA/D,CACA,MAAOC,CAAAA,8CAAP,KAA2D,6GAA3D,CACA,MAAOC,CAAAA,gCAAP,KAA6C,gFAA7C,CACA,MAAOC,CAAAA,6BAAP,KAA0C,+DAA1C,CACA,MAAOC,CAAAA,4BAAP,KAAyC,8DAAzC,CACA,MAAO,oBAAP,CAEA,KAAMC,CAAAA,4BAA4B,CAAIC,KAAD,EAAW,CAC9C,KAAMC,CAAAA,QAAQ,CAAGrB,WAAW,EAA5B,CAD8C,gBAEWH,QAAQ,CAAC,KAAD,CAFnB,wCAEvCyB,mBAFuC,eAElBC,yBAFkB,eAG9C,KAAMC,CAAAA,oBAAoB,CAAGvB,WAAW,CACrCwB,KAAD,EAAWA,KAAK,CAACD,oBAAN,CAA2BE,eADA,CAAxC,CAIA,KAAMC,CAAAA,QAAQ,CAAGzB,GAAH,mBAAd,CAP8C,mBAcJU,WAAW,CAACC,oBAAD,CAdP,8CAcvCe,YAduC,kDAcvBC,OAduB,gBAcvBA,OAduB,CAcdC,IAdc,gBAcdA,IAdc,CAgB9C,KAAMC,CAAAA,kBAAkB,CAAIC,IAAD,EAAU,CACnCJ,YAAY,CAAC,CACXK,SAAS,CAAE,CAAEC,GAAG,CAAEF,IAAP,CADA,CAAD,CAAZ,CAIA,GAAIV,mBAAJ,CAAyB,CACvBC,yBAAyB,CAAC,KAAD,CAAzB,CACD,CACF,CARD,CAUA,KAAMY,CAAAA,uBAAuB,CAAGxC,WAAW,CAAC,IAAM,CAChDyB,KAAK,CAACgB,iBAAN,GACAf,QAAQ,CAACH,4BAA4B,EAA7B,CAAR,CACAE,KAAK,CAACiB,mBAAN,CAA0B,EAA1B,EACD,CAJ0C,CAIxC,CAACjB,KAAD,CAAQC,QAAR,CAJwC,CAA3C,CAMAzB,SAAS,CAAC,IAAM,CACd,GAAIkC,IAAJ,CAAU,CACR,KAAMQ,CAAAA,eAAe,CAAGC,UAAU,CAAC,IAAMJ,uBAAuB,EAA9B,CAAkC,IAAlC,CAAlC,CACA,MAAO,IAAM,CACXK,YAAY,CAACF,eAAD,CAAZ,CACD,CAFD,CAGD,CACF,CAPQ,CAON,CAACR,IAAD,CAAOK,uBAAP,CAPM,CAAT,CASAvC,SAAS,CAAC,IAAM,CACd,GAAIiC,OAAJ,CAAa,CACXR,QAAQ,CAACJ,6BAA6B,EAA9B,CAAR,CACD,CACF,CAJQ,CAIN,CAACY,OAAD,CAAUC,IAAV,CAAgBT,QAAhB,CAJM,CAAT,CAMA,mBACE,qDACE,oBAAC,KAAD,EACE,MAAM,CAAEC,mBADV,CAEE,SAAS,CAAC,0BAFZ,CAGE,KAAK,CAAE,CACLmB,OAAO,CAAE,CACPC,QAAQ,CAAE,OADH,CAEPC,MAAM,CAAE,KAFD,CAGPC,OAAO,CAAE,IAHF,CAIPC,MAAM,CAAE,MAJD,CAKPC,cAAc,CAAE,WALT,CAMPC,oBAAoB,CAAE,WANf,CAOPC,aAAa,CAAE,KAPR,CAQPC,YAAY,CAAE,MARP,CASPC,KAAK,CAAE,OATA,CAUPC,GAAG,CAAE,GAVE,CAWPC,IAAI,CAAE,GAXC,CAYPC,KAAK,CAAE,GAZA,CAaPC,MAAM,CAAE,GAbD,CAcPC,MAAM,CAAE,MAdD,CAePC,OAAO,CAAE,MAfF,CAgBPC,aAAa,CAAE,QAhBR,CAiBPC,UAAU,CAAE,QAjBL,CAkBPC,cAAc,CAAE,QAlBT,CAmBPC,UAAU,CAAE,oBAnBL,CADJ,CAHT,eA2BE,oBAAC,YAAD,EACE,IAAI,CAAE,GADR,CAEE,GAAG,CAAEjC,QAFP,CAGE,KAAK,CAAE,iBAHT,CAIE,OAAO,CAAEH,oBAJX,EA3BF,cAiCE,oBAAC,UAAD,EACE,KAAK,CAAEF,mBAAmB,EAAI,CAACE,oBADjC,CAEE,IAAI,CAAE,CAAEqC,SAAS,CAAE,yBAAb,CAFR,CAGE,KAAK,CAAE,CAAEA,SAAS,CAAE,sBAAb,CAHT,CAIE,KAAK,CAAE,CAAEL,OAAO,CAAE,MAAX,CAJT,EAMIlC,mBAAD,EACCA,mBAAmB,GACjBwC,UAAD,eACC,2BACE,SAAS,CAAC,4CADZ,CAEE,KAAK,CAAEA,UAFT,eAIE,2BAAK,SAAS,CAAC,iDAAf,eACE,oBAAC,eAAD,EACE,SAAS,CAAC,SADZ,CAEE,IAAI,CAAEnD,OAFR,CAGE,OAAO,CAAE,IAAMY,yBAAyB,CAAC,KAAD,CAH1C,EADF,cAME,gEACkC,GADlC,CAEGH,KAAK,CAACY,IAAN,CAAW+B,SAAX,CAAqB,CAArB,EAAwBC,WAAxB,GACC5C,KAAK,CAACY,IAAN,CAAW+B,SAAX,CAAqBE,KAArB,CAA2B,CAA3B,EAA8BC,WAA9B,EADD,CAEC,GAFD,CAGC9C,KAAK,CAACY,IAAN,CAAWmC,QAAX,CAAoB,CAApB,EAAuBH,WAAvB,EAHD,CAIC5C,KAAK,CAACY,IAAN,CAAWmC,QAAX,CAAoBF,KAApB,CAA0B,CAA1B,EAA6BC,WAA7B,EANJ,CAMgD,GANhD,gBANF,cAeE,4BAAM,SAAS,CAAC,0BAAhB,eACE,2BACE,SAAS,CAAC,6CADZ,CAEE,OAAO,CAAE,IAAMnC,kBAAkB,CAACX,KAAK,CAACgD,aAAP,CAFnC,eAIE,2CAJF,CADF,cAOE,2BACE,SAAS,CAAC,wDADZ,CAEE,OAAO,CAAE,IAAM7C,yBAAyB,CAAC,KAAD,CAF1C,eAIE,2CAJF,CAPF,CAfF,CAJF,CAFiB,CAPvB,CAjCF,CADF,cAkFE,2BAAK,SAAS,CAAC,kCAAf,eACE,2BAAK,SAAS,CAAC,8CAAf,EACGH,KAAK,CAACiD,cAAN,CACCjD,KAAK,CAACiD,cAAN,CAAqBC,OAArB,CAA6BC,MAA7B,CACGC,CAAD,EAAOA,CAAC,CAACtC,GAAF,GAAUd,KAAK,CAACgD,aADzB,EAEE,CAFF,EAEKK,cAFL,cAGE,2BACE,SAAS,CAAC,gDACV;AAFF,CAGE,GAAG,CAAE3E,QAAQ,CAAC4E,iCAAT,CACHtD,KAAK,CAACiD,cAAN,CAAqBC,OAArB,CAA6BC,MAA7B,CACGC,CAAD,EAAOA,CAAC,CAACtC,GAAF,GAAUd,KAAK,CAACgD,aADzB,EAEE,CAFF,EAEKK,cAHF,CAHP,CAQE,GAAG,CACDrD,KAAK,CAACY,IAAN,CAAW+B,SAAX,CAAqB,CAArB,EAAwBC,WAAxB,GACA5C,KAAK,CAACY,IAAN,CAAW+B,SAAX,CAAqBE,KAArB,CAA2B,CAA3B,EAA8BC,WAA9B,EADA,CAEA,GAFA,CAGA9C,KAAK,CAACY,IAAN,CAAWmC,QAAX,CAAoB,CAApB,EAAuBH,WAAvB,EAHA,CAIA5C,KAAK,CAACY,IAAN,CAAWmC,QAAX,CAAoBF,KAApB,CAA0B,CAA1B,EAA6BC,WAA7B,EAJA,CAKA,kBAdJ,EAHF,CAqBE9C,KAAK,CAACuD,0BAAN,CAAiCvD,KAAK,CAACY,IAAvC,CAtBH,CAyBCZ,KAAK,CAACuD,0BAAN,CAAiCvD,KAAK,CAACY,IAAvC,CA1BJ,cA4BE,2BACE,SAAS,CAAC,wDADZ,CAEE,OAAO,CAAE,IAAMX,QAAQ,CAACL,gCAAgC,EAAjC,CAFzB,eAIE,oBAAC,eAAD,EACE,IAAI,CAAEV,QADR,CAEE,SAAS,CAAC,8CAFZ,EAJF,CA5BF,CADF,cAuCE,2BAAK,SAAS,CAAC,sDAAf,eACE,8BACGc,KAAK,CAACY,IAAN,CAAW+B,SAAX,CAAqB,CAArB,EAAwBC,WAAxB,GACC5C,KAAK,CAACY,IAAN,CAAW+B,SAAX,CAAqBE,KAArB,CAA2B,CAA3B,EAA8BC,WAA9B,EADD,CAEC,GAFD,CAGC9C,KAAK,CAACY,IAAN,CAAWmC,QAAX,CAAoB,CAApB,EAAuBH,WAAvB,EAHD,CAIC5C,KAAK,CAACY,IAAN,CAAWmC,QAAX,CAAoBF,KAApB,CAA0B,CAA1B,EAA6BC,WAA7B,EALJ,CADF,CAvCF,cAgDE,2BAAK,SAAS,CAAC,yDAAf,eACE,6BAAI9C,KAAK,CAACY,IAAN,CAAW4C,KAAf,CADF,CAEGxD,KAAK,CAACyD,sBAAN,EAFH,cAGE,6BAAIzD,KAAK,CAACY,IAAN,CAAW8C,WAAf,CAHF,CAhDF,cAqDE,2BAAK,SAAS,CAAC,6GAAf,eACE,wDADF,CArDF,CAlFF,cA2IE,2BAAK,SAAS,CAAC,+CAAf,eACE,2BACE,SAAS,CAAC,0BADZ,CAEE,OAAO,CAAE,IACPzD,QAAQ,CAACP,kDAAkD,EAAnD,CAHZ,eAME,oBAAC,eAAD,EACE,SAAS,CAAC,qBADZ,CAEE,IAAI,CAAEL,aAFR,EANF,cAUE,sDAVF,cAWE,oBAAC,eAAD,EACE,SAAS,CAAC,uBADZ,CAEE,IAAI,CAAEF,cAFR,EAXF,CADF,cAiBE,2BACE,SAAS,CAAC,0BADZ,CAEE,OAAO,CAAE,IACPc,QAAQ,CAACN,8CAA8C,EAA/C,CAHZ,eAME,oBAAC,eAAD,EAAiB,SAAS,CAAC,qBAA3B,CAAiD,IAAI,CAAEP,SAAvD,EANF,cAOE,kDAPF,cAQE,oBAAC,eAAD,EACE,SAAS,CAAC,uBADZ,CAEE,IAAI,CAAED,cAFR,EARF,CAjBF,CAqDGa,KAAK,CAAC2D,+BAAN,CAAsC3D,KAAK,CAACY,IAA5C,CArDH,CAsDGZ,KAAK,CAAC4D,eAAN,CACC5D,KAAK,CAAC4D,eAAN,CAAsBC,QAAtB,CACE7D,KAAK,CAAC4D,eAAN,CAAsBC,QAAtB,CAA+BC,YAA/B,CAA4CC,QAA5C,CAAqD,OAArD,eACE,2BACE,SAAS,CAAC,0BADZ,CAEE,OAAO,CAAE,IAAM5D,yBAAyB,CAAC,IAAD,CAF1C,eAIE,oBAAC,eAAD,EACE,SAAS,CAAC,qBADZ,CAEE,IAAI,CAAEb,UAFR,CAGE,KAAK,CAAE,CAAE0E,KAAK,CAAE,iBAAT,CAHT,EAJF,cASE,0BAAI,KAAK,CAAE,CAAEA,KAAK,CAAE,iBAAT,CAAX,kBATF,CADF,CAYI,IAbN,CAcI,IAfL,CAgBG,IAtEN,CA3IF,CADF,CAsND,CArQD,CAuQA,cAAejE,CAAAA,4BAAf","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\r\nimport LZString from \"lz-string\";\r\nimport Modal from \"react-modal\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { css } from \"@emotion/css\";\r\nimport BounceLoader from \"react-spinners/BounceLoader\";\r\nimport { Transition } from \"react-spring/renderprops\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCamera,\r\n  faChevronRight,\r\n  faHistory,\r\n  faCalendarAlt,\r\n  faTrashAlt,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport deleteClientMutation from \"../../../graphql/mutations/deleteClientMutation\";\r\nimport ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED from \"../../../actions/Admin/AdminLogin/AdminClientSectionSelected/ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED\";\r\nimport ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED from \"../../../actions/Admin/AdminLogin/AdminClientSectionSelected/ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED\";\r\nimport ACTION_ADD_PROFILE_PHOTO_CLICKED from \"../../../actions/Admin/AddProfilePhotoClicked/ACTION_ADD_PROFILE_PHOTO_CLICKED\";\r\nimport ACTION_LOADING_SPINNER_ACTIVE from \"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_ACTIVE\";\r\nimport ACTION_LOADING_SPINNER_RESET from \"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_RESET\";\r\nimport \"./AdminClients.css\";\r\n\r\nconst AdminClientIndividualProfile = (props) => {\r\n  const dispatch = useDispatch();\r\n  const [deleteClientClicked, changeDeleteClientClicked] = useState(false);\r\n  const loadingSpinnerActive = useSelector(\r\n    (state) => state.loadingSpinnerActive.loading_spinner\r\n  );\r\n\r\n  const override = css`\r\n    display: block;\r\n    position: absolute;\r\n    left: 25%;\r\n    right: 25%;\r\n  `;\r\n\r\n  const [deleteClient, { loading, data }] = useMutation(deleteClientMutation);\r\n\r\n  const handleDeleteClient = (item) => {\r\n    deleteClient({\r\n      variables: { _id: item },\r\n    });\r\n\r\n    if (deleteClientClicked) {\r\n      changeDeleteClientClicked(false);\r\n    }\r\n  };\r\n\r\n  const resetStatesAfterLoading = useCallback(() => {\r\n    props.getClientsRefetch();\r\n    dispatch(ACTION_LOADING_SPINNER_RESET());\r\n    props.changeClientToggled(\"\");\r\n  }, [props, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      const loadingFunction = setTimeout(() => resetStatesAfterLoading(), 2000);\r\n      return () => {\r\n        clearTimeout(loadingFunction);\r\n      };\r\n    }\r\n  }, [data, resetStatesAfterLoading]);\r\n\r\n  useEffect(() => {\r\n    if (loading) {\r\n      dispatch(ACTION_LOADING_SPINNER_ACTIVE());\r\n    }\r\n  }, [loading, data, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        isOpen={deleteClientClicked}\r\n        className=\"cancel_appointment_modal\"\r\n        style={{\r\n          content: {\r\n            position: \"fixed\",\r\n            zIndex: 10000,\r\n            opacity: 0.99,\r\n            height: \"100%\",\r\n            backdropFilter: \"blur(5px)\",\r\n            WebkitBackdropFilter: \"blur(5px)\",\r\n            paddingBottom: \"10%\",\r\n            borderRadius: \"none\",\r\n            width: \"100vw\",\r\n            top: \"0\",\r\n            left: \"0\",\r\n            right: \"0\",\r\n            bottom: \"0\",\r\n            border: \"none\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            background: \"rgba(0, 0, 0, 0.5)\",\r\n          },\r\n        }}\r\n      >\r\n        <BounceLoader\r\n          size={100}\r\n          css={override}\r\n          color={\"rgb(44, 44, 52)\"}\r\n          loading={loadingSpinnerActive}\r\n        />\r\n        <Transition\r\n          items={deleteClientClicked && !loadingSpinnerActive}\r\n          from={{ transform: \"translate3d(0, -65%, 0)\" }}\r\n          enter={{ transform: \"translate3d(0, 0, 0)\" }}\r\n          leave={{ display: \"none\" }}\r\n        >\r\n          {(deleteClientClicked) =>\r\n            deleteClientClicked &&\r\n            ((styleprops) => (\r\n              <div\r\n                className=\"cancel_appointment_modal_content_container\"\r\n                style={styleprops}\r\n              >\r\n                <div className=\"log_out_modal_contents admin_cancel_appointment\">\r\n                  <FontAwesomeIcon\r\n                    className=\"modal_x\"\r\n                    icon={faTimes}\r\n                    onClick={() => changeDeleteClientClicked(false)}\r\n                  />\r\n                  <h2>\r\n                    Are you sure you want to remove{\" \"}\r\n                    {props.item.firstName[0].toUpperCase() +\r\n                      props.item.firstName.slice(1).toLowerCase() +\r\n                      \" \" +\r\n                      props.item.lastName[0].toUpperCase() +\r\n                      props.item.lastName.slice(1).toLowerCase()}{\" \"}\r\n                    as a client?\r\n                  </h2>\r\n                  <span className=\"logout_buttons_container\">\r\n                    <div\r\n                      className=\"logout_button yes_cancel_appointment_button\"\r\n                      onClick={() => handleDeleteClient(props.clientToggled)}\r\n                    >\r\n                      <p>YES, REMOVE</p>\r\n                    </div>\r\n                    <div\r\n                      className=\"cancel_logout_button no_dont_cancel_appointment_button\"\r\n                      onClick={() => changeDeleteClientClicked(false)}\r\n                    >\r\n                      <p>NO, GO BACK</p>\r\n                    </div>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))\r\n          }\r\n        </Transition>\r\n      </Modal>\r\n      <div className=\"admin_client_profile_top_section\">\r\n        <div className=\"admin_client_profile_client_avatar_container\">\r\n          {props.getClientsData ? (\r\n            props.getClientsData.clients.filter(\r\n              (x) => x._id === props.clientToggled\r\n            )[0].profilePicture ? (\r\n              <img\r\n                className=\"admin_individual_client_picture_profile_avatar\"\r\n                // Uses Encoded URI Component instead of any other compression to support cross-browser compatability\r\n                src={LZString.decompressFromEncodedURIComponent(\r\n                  props.getClientsData.clients.filter(\r\n                    (x) => x._id === props.clientToggled\r\n                  )[0].profilePicture\r\n                )}\r\n                alt={\r\n                  props.item.firstName[0].toUpperCase() +\r\n                  props.item.firstName.slice(1).toLowerCase() +\r\n                  \" \" +\r\n                  props.item.lastName[0].toUpperCase() +\r\n                  props.item.lastName.slice(1).toLowerCase() +\r\n                  \" Profile Picture\"\r\n                }\r\n              />\r\n            ) : (\r\n              props.handleProfilePictureRender(props.item)\r\n            )\r\n          ) : (\r\n            props.handleProfilePictureRender(props.item)\r\n          )}\r\n          <div\r\n            className=\"admin_individual_selected_client_camera_icon_container\"\r\n            onClick={() => dispatch(ACTION_ADD_PROFILE_PHOTO_CLICKED())}\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faCamera}\r\n              className=\"admin_individual_selected_client_camera_icon\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"admin_individual_selected_client_full_name_container\">\r\n          <h2>\r\n            {props.item.firstName[0].toUpperCase() +\r\n              props.item.firstName.slice(1).toLowerCase() +\r\n              \" \" +\r\n              props.item.lastName[0].toUpperCase() +\r\n              props.item.lastName.slice(1).toLowerCase()}\r\n          </h2>\r\n        </div>\r\n        <div className=\"admin_individual_selected_client_contact_info_container\">\r\n          <p>{props.item.email}</p>\r\n          {props.renderBarInContactInfo()}\r\n          <p>{props.item.phoneNumber}</p>\r\n        </div>\r\n        <div className=\"admin_individual_selected_client_contact_info_container admin_individual_selected_membership_type_container\">\r\n          <p>Membership Type: Default</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin_client_profile_bottom_buttons_container\">\r\n        <div\r\n          className=\"profile_button_container\"\r\n          onClick={() =>\r\n            dispatch(ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED())\r\n          }\r\n        >\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_icon\"\r\n            icon={faCalendarAlt}\r\n          />\r\n          <h2>Upcoming Appointments</h2>\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_expand\"\r\n            icon={faChevronRight}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"profile_button_container\"\r\n          onClick={() =>\r\n            dispatch(ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED())\r\n          }\r\n        >\r\n          <FontAwesomeIcon className=\"profile_button_icon\" icon={faHistory} />\r\n          <h2>Past Appointments</h2>\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_expand\"\r\n            icon={faChevronRight}\r\n          />\r\n        </div>\r\n        {/* <div className=\"profile_button_container\">\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_icon\"\r\n            icon={faCommentDots}\r\n          />\r\n          <h2>Recommended Routine</h2>\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_expand\"\r\n            icon={faChevronRight}\r\n          />\r\n        </div>\r\n        <div className=\"profile_button_container\">\r\n          <FontAwesomeIcon className=\"profile_button_icon\" icon={faSpa} />\r\n          <h2>\r\n            {props.item.firstName[0].toUpperCase() +\r\n              props.item.firstName.slice(1).toLowerCase()}\r\n            's Skin Care Routine\r\n          </h2>\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_expand\"\r\n            icon={faChevronRight}\r\n          />\r\n        </div> */}\r\n        {props.renderDownloadConsentFormButton(props.item)}\r\n        {props.getEmployeeData ? (\r\n          props.getEmployeeData.employee ? (\r\n            props.getEmployeeData.employee.employeeRole.includes(\"Admin\") ? (\r\n              <div\r\n                className=\"profile_button_container\"\r\n                onClick={() => changeDeleteClientClicked(true)}\r\n              >\r\n                <FontAwesomeIcon\r\n                  className=\"profile_button_icon\"\r\n                  icon={faTrashAlt}\r\n                  style={{ color: \"rgb(177, 48, 0)\" }}\r\n                />\r\n                <h2 style={{ color: \"rgb(177, 48, 0)\" }}>Delete Client</h2>\r\n              </div>\r\n            ) : null\r\n          ) : null\r\n        ) : null}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminClientIndividualProfile;\r\n"]},"metadata":{},"sourceType":"module"}