{"ast":null,"code":"import _taggedTemplateLiteral from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";function _templateObject(){const data=_taggedTemplateLiteral([\"\\n    display: block;\\n    position: absolute;\\n    left: 25%;\\n    right: 25%;\\n  \"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useRef,useState,useLayoutEffect,useEffect,useMemo,useCallback,Suspense}from\"react\";import ReactDOM from\"react-dom\";import{ApolloProvider,useMutation,useQuery}from\"@apollo/react-hooks\";import{Spring,Transition}from\"react-spring/renderprops\";import Modal from\"react-modal\";import{createStore,applyMiddleware}from\"redux\";import{Provider,useSelector,useDispatch}from\"react-redux\";import thunk from\"redux-thunk\";import{composeWithDevTools}from\"redux-devtools-extension\";import RootReducer from\"./RootReducer\";import LandingPage from\"./components/landing_page/LandingPage\";import FollowUs from\"./components/follow_us/FollowUs\";import ContactUs from\"./components/contact_us/ContactUs\";import AllTreatments from\"./components/all_treatments/AllTreatments\";import AllAddOns from\"./components/all_add_ons/AllAddOns\";import ShoppingCart from\"./components/shopping_cart/ShoppingCart\";import*as smoothscroll from\"smoothscroll-polyfill\";import Cookies from\"js-cookie\";import jwt from\"jsonwebtoken\";import{BrowserRouter as Router,Switch,Route,useLocation,Redirect,Link}from\"react-router-dom\";import KeepAlive,{AliveScope}from\"react-activation\";import{toast}from\"react-toastify\";import getClientQuery from\"./graphql/queries/getClientQuery\";import getEmployeeQuery from\"./graphql/queries/getEmployeeQuery\";import getEmployeesQuery from\"./graphql/queries/getEmployeesQuery\";import updateClientInvalidateTokensMutation from\"./graphql/mutations/updateClientInvalidateTokensMutation\";import updateEmployeeInvalidateTokensMutation from\"./graphql/mutations/updateEmployeeInvalidateTokensMutation\";import getUpdatedEmployeeSubscription from\"./graphql/subscriptions/getUpdatedEmployeeSubscription\";import apolloClient from\"./apolloClient\";import{faTimes}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{css}from\"@emotion/css\";import ClipLoader from\"react-spinners/ClipLoader\";import BounceLoader from\"react-spinners/BounceLoader\";import{isAndroid}from\"react-device-detect\";import{scroller}from\"react-scroll\";import ResponsiveNavigationBar from\"./components/responsive_nav_bar/ResponsiveNavigationBar\";import CookieBanner from\"react-cookie-banner\";import isEqual from\"lodash.isequal\";import ACTION_CART_IS_NOT_ACTIVE from\"./actions/CartIsActive/ACTION_CART_IS_NOT_ACTIVE\";import ACTION_NAVBAR_NOT_VISIBLE from\"./actions/NavbarIsVisible/ACTION_NAVBAR_NOT_VISIBLE\";import ACTION_NAVBAR_IS_VISIBLE from\"./actions/NavbarIsVisible/ACTION_NAVBAR_IS_VISIBLE\";import ACTION_NAVBAR_TOGGLE_RESET from\"./actions/Nav/ACTION_NAVBAR_TOGGLE_RESET\";import ACTION_NAVBAR_TOGGLE from\"./actions/Nav/ACTION_NAVBAR_TOGGLE\";import ACTION_BODY_SCROLL_ALLOW from\"./actions/Body_Scroll/ACTION_BODY_SCROLL_ALLOW\";import ACTION_BODY_SCROLL_RESET from\"./actions/Body_Scroll/ACTION_BODY_SCROLL_RESET\";import ACTION_USER_AUTHENTICATED from\"./actions/Authenticated/ACTION_USER_AUTHENTICATED\";import ACTION_USER_NOT_AUTHENTICATED from\"./actions/Authenticated/ACTION_USER_NOT_AUTHENTICATED\";import ACTION_LOG_OUT_CLICKED_RESET from\"./actions/LogOut/ACTION_LOG_OUT_CLICKED_RESET\";import ACTION_FACEBOOK_COMPLETE_REGISTRATION from\"./actions/Login/FacebookCompleteRegistration/ACTION_FACEBOOK_COMPLETE_REGISTRATION\";import ACTION_FACEBOOK_COMPLETE_REGISTRATION_RESET from\"./actions/Login/FacebookCompleteRegistration/ACTION_FACEBOOK_COMPLETE_REGISTRATION_RESET\";import ACTION_DUMMY_TOKEN from\"./actions/Login/DummyToken/ACTION_DUMMY_TOKEN\";import ACTION_DUMMY_TOKEN_RESET from\"./actions/Login/DummyToken/ACTION_DUMMY_TOKEN_RESET\";import ACTION_ADMIN_DUMMY_TOKEN from\"./actions/Admin/AdminLogin/AdminDummyToken/ACTION_ADMIN_DUMMY_TOKEN\";import ACTION_ADMIN_DUMMY_TOKEN_RESET from\"./actions/Admin/AdminLogin/AdminDummyToken/ACTION_ADMIN_DUMMY_TOKEN_RESET\";import ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN from\"./actions/Admin/AdminLogin/AdminTemporaryDummyToken/ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN\";import ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN_RESET from\"./actions/Admin/AdminLogin/AdminTemporaryDummyToken/ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN_RESET\";import ACTION_ADMIN_AUTHENTICATED from\"./actions/Admin/AdminLogin/AdminAuthenticated/ACTION_ADMIN_AUTHENTICATED\";import ACTION_ADMIN_NOT_AUTHENTICATED from\"./actions/Admin/AdminLogin/AdminAuthenticated/ACTION_NOT_AUTHENTICATED\";import ACTION_APPOINTMENT_NOTES_RESET from\"./actions/GuestCheckoutForm/AppointmentNotes/ACTION_APPOINTMENT_NOTES_RESET\";import ACTION_PHONE_NOT_INVALID from\"./actions/PhoneNumberValidation/Invalid/ACTION_PHONE_NOT_INVALID\";import ACTION_PHONE_NOT_VALID from\"./actions/PhoneNumberValidation/Valid/ACTION_PHONE_NOT_VALID\";import ACTION_REFORMATTED_DAY_CLONE_RESET from\"./actions/SelectedDay/ReformattedDayClone/ACTION_REFORMATTED_DAY_CLONE_RESET\";import ACTION_REFORMATTED_DAY_RESET from\"./actions/SelectedDay/ReformattedDay/ACTION_REFORMATTED_DAY_RESET\";import ACTION_TREATMENTS_CART_RESET from\"./actions/InCart/Treatments/ACTION_TREATMENTS_CART_RESET\";import ACTION_ALL_COLLAPSE_RESET from\"./actions/SelectedTime/CollapseIsOpen/ACTION_ALL_COLLAPSE_RESET\";import ACTION_FINAL_BOOKING_MODAL_RESET from\"./actions/InCart/FinalBookingModal/ACTION_FINAL_BOOKING_MODAL_RESET\";import ACTION_SELECTED_SALT_CAVE_DURATION_RESET from\"./actions/Treatments/SaltCave/SaltCaveDuration/ACTION_SELECTED_SALT_CAVE_DURATION_RESET\";import ACTION_SELECTED_ESTHETICIAN_RESET from\"./actions/SelectedEsthetician/ACTION_SELECTED_ESTHETICIAN_RESET\";import ACTION_SELECTED_DAY_RESET from\"./actions/SelectedDay/ACTION_SELECTED_DAY_RESET\";import ACTION_SELECTED_TIME_RESET from\"./actions/SelectedTime/ACTION_SELECTED_TIME_RESET\";import ACTION_SELECT_TIME_NOT_ACTIVE from\"./actions/SelectTimeActive/ACTION_SELECT_TIME_NOT_ACTIVE\";import ACTION_TOTAL_DURATION_RESET from\"./actions/TotalDuration/ACTION_TOTAL_DURATION_RESET\";import ACTION_CART_PAGE_OPENED from\"./actions/InCart/CartPageOpened/ACTION_CART_PAGE_OPENED\";import ACTION_AVAILABILITY_RESET from\"./actions/AvailabilityClicked/ACTION_AVAILABILITY_RESET\";import ACTION_BOOKING_SUMMARY_NOT_ACTIVE from\"./actions/ContinueToBookingSummaryButtonActive/ACTION_BOOKING_SUMMARY_NOT_ACTIVE\";import ACTION_CONTINUE_BUTTON_RESET from\"./actions/ContinueToCheckoutButtonActive/ACTION_CONTINUE_BUTTON_RESET\";import ACTION_EMAIL_NOT_VALID from\"./actions/EmailValidation/Valid/ACTION_EMAIL_NOT_VALID\";import ACTION_EMAIL_NOT_INVALID from\"./actions/EmailValidation/Invalid/ACTION_EMAIL_NOT_INVALID\";import ACTION_FINAL_BOOK_BUTTON_RESET from\"./actions/FinalBookButton/ACTION_FINAL_BOOK_BUTTON_RESET\";import ACTION_PHONE_NUMBER_RESET from\"./actions/GuestCheckoutForm/PhoneNumber/ACTION_PHONE_NUMBER_RESET\";import ACTION_LAST_NAME_RESET from\"./actions/GuestCheckoutForm/LastName/ACTION_LAST_NAME_RESET\";import ACTION_FIRST_NAME_RESET from\"./actions/GuestCheckoutForm/FirstName/ACTION_FIRST_NAME_RESET\";import ACTION_EMAIL_RESET from\"./actions/GuestCheckoutForm/Email/ACTION_EMAIL_RESET\";import ACTION_APPOINTMENT_END_TIME_RESET from\"./actions/AppointmentEndTime/ACTION_APPOINTMENT_END_TIME_RESET\";import ACTION_TOTAL_PRICE_RESET from\"./actions/TotalPrice/ACTION_TOTAL_PRICE_RESET\";import ACTION_BACIAL_TOGGLE_RESET from\"./actions/Treatments/Bacial/ACTION_BACIAL_TOGGLE_RESET\";import ACTION_CALM_TOGGLE_RESET from\"./actions/Treatments/Calm/ACTION_CALM_TOGGLE_RESET\";import ACTION_CBD_TOGGLE_RESET from\"./actions/Treatments/CBD/ACTION_CBD_TOGGLE_RESET\";import ACTION_CHEMICAL_PEEL_TOGGLE_RESET from\"./actions/Treatments/ChemicalPeel/ACTION_CHEMICAL_PEEL_TOGGLE_RESET\";import ACTION_CLARIFY_TOGGLE_RESET from\"./actions/Treatments/Clarify/ACTION_CLARIFY_TOGGLE_RESET\";import ACTION_DERMAPLANING_TOGGLE_RESET from\"./actions/Treatments/Dermaplaning/ACTION_DERMAPLANING_TOGGLE_RESET\";import ACTION_GLOW_TOGGLE_RESET from\"./actions/Treatments/Glow/ACTION_GLOW_TOGGLE_RESET\";import ACTION_MICRONEEDLE_TOGGLE_RESET from\"./actions/Treatments/Microneedle/ACTION_MICRONEEDLE_TOGGLE_RESET\";import ACTION_QUENCH_TOGGLE_RESET from\"./actions/Treatments/Quench/ACTION_QUENCH_TOGGLE_RESET\";import ACTION_QUICKIE_TOGGLE_RESET from\"./actions/Treatments/Quickie/ACTION_QUICKIE_TOGGLE_RESET\";import ACTION_REJUVENATE_TOGGLE_RESET from\"./actions/Treatments/Rejuvenate/ACTION_REJUVENATE_TOGGLE_RESET\";import ACTION_SALT_CAVE_TOGGLE_RESET from\"./actions/Treatments/SaltCave/ACTION_SALT_CAVE_TOGGLE_RESET\";import ACTION_BEARD_TOGGLE_RESET from\"./actions/AddOns/Beard/ACTION_BEARD_TOGGLE_RESET\";import ACTION_DERMAROLLING_TOGGLE_RESET from\"./actions/AddOns/Dermarolling/ACTION_DERMAROLLING_TOGGLE_RESET\";import ACTION_EXTRA_EXTRACTIONS_TOGGLE_RESET from\"./actions/AddOns/ExtraExtractions/ACTION_EXTRA_EXTRACTIONS_TOGGLE_RESET\";import ACTION_GUASHA_TOGGLE_RESET from\"./actions/AddOns/GuaSha/ACTION_GUASHA_TOGGLE_RESET\";import ACTION_HYDRO_JELLY_TOGGLE_RESET from\"./actions/AddOns/HydroJellyMask/ACTION_HYDRO_JELLY_TOGGLE_RESET\";import ACTION_LED_THERAPY_TOGGLE_RESET from\"./actions/AddOns/LEDTherapy/ACTION_LED_THERAPY_TOGGLE_RESET\";import ACTION_MICROCURRENT_TOGGLE_RESET from\"./actions/AddOns/Microcurrent/ACTION_MICROCURRENT_TOGGLE_RESET\";import ACTION_MICRODERMABRASION_TOGGLE_RESET from\"./actions/AddOns/Microdermabrasion/ACTION_MICRODERMABRASION_TOGGLE_RESET\";import ACTION_NANONEEDLING_TOGGLE_RESET from\"./actions/AddOns/Nanoneedling/ACTION_NANONEEDLING_TOGGLE_RESET\";import ACTION_GUEST_CONSENT_FORM_ACCESS_TOKEN from\"./actions/ConsentForm/GuestConsentFormAccessToken/ACTION_GUEST_CONSENT_FORM_ACCESS_TOKEN\";import ACTION_DAY_OF_THE_WEEK_RESET from\"./actions/SelectedDay/DayOfTheWeek/ACTION_DAY_OF_THE_WEEK_RESET\";import ACTION_CART_IS_ACTIVE from\"./actions/CartIsActive/ACTION_CART_IS_ACTIVE\";import ACTION_ASSIGN_ADMIN_NOTIFICATIONS from\"./actions/Admin/Notifications/ACTION_ASSIGN_ADMIN_NOTIFICATIONS\";import ACTION_RESET_ADMIN_NOTIFICATIONS from\"./actions/Admin/Notifications/ACTION_RESET_ADMIN_NOTIFICATIONS\";import ACTION_ON_ACTIVITY_PAGE from\"./actions/Admin/OnActivityPage/ACTION_ON_ACTIVITY_PAGE\";import ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION from\"./actions/Admin/AdminNotificationSubscription/ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION\";import ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION_RESET from\"./actions/Admin/AdminNotificationSubscription/ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION_RESET\";import\"./styles.css\";// Lazy-loaded Routes\nconst Availability=React.lazy(()=>import(\"./components/availability/Date/Availability\"));const TimePreference=React.lazy(()=>import(\"./components/availability/Time/TimePreference\"));const GuestCheckout=React.lazy(()=>import(\"./components/checkout/GuestCheckout\"));const ConfirmationPage=React.lazy(()=>import(\"./components/checkout/ConfirmationPage\"));const AvailabilityRouter=React.lazy(()=>import(\"./components/availability/AvailabilityRouter\"));const PaymentInfo=React.lazy(()=>import(\"./components/payment_info/PaymentInfo\"));const CheckoutRouter=React.lazy(()=>import(\"./components/checkout/CheckoutRouter\"));const AdminRouter=React.lazy(()=>import(\"./components/admin/AdminRouter\"));const AccountRouter=React.lazy(()=>import(\"./components/account/AccountRouter\"));const PrivacyPolicy=React.lazy(()=>import(\"./components/privacy/PrivacyPolicy\"));const TermsAndConditions=React.lazy(()=>import(\"./components/privacy/TermsAndConditions\"));require(\"dotenv\").config();require(\"intersection-observer\");smoothscroll.polyfill();const middleware=[thunk];const store=createStore(RootReducer,process.env.REACT_APP_NODE_ENV===\"production\"?applyMiddleware(...middleware):composeWithDevTools(applyMiddleware(...middleware)));const App=()=>{const location=useLocation();const LandingPageRef=useRef(null);const Treatments1Ref=useRef(null);const AddOnsRef=useRef(null);const InstagramRef=useRef(null);const ContactRef=useRef(null);const shoppingCartRef=useRef(null);const MainContainerRef=useRef(null);// Browser width on initial opening of app\nconst _useState=useState(window.innerWidth),_useState2=_slicedToArray(_useState,1),initialScreenSize=_useState2[0];// Current browser width if different from initial browser width\nconst _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),currentScreenSize=_useState4[0],changeCurrentScreenSize=_useState4[1];// Browser height on initial opening of app\nconst _useState5=useState(window.innerHeight),_useState6=_slicedToArray(_useState5,1),initialScreenHeight=_useState6[0];// Current browser height if different from initial browser height\nconst _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),currentScreenHeight=_useState8[0],changeCurrentScreenHeight=_useState8[1];const _useState9=useState(window.pageYOffset),_useState10=_slicedToArray(_useState9,2),previousScrollPosition=_useState10[0],setPreviousScrollPosition=_useState10[1];const _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),scrollValue=_useState12[0],changeScrollValue=_useState12[1];const _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),scrollDirection=_useState14[0],changeScrollDirection=_useState14[1];const _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),navMenuScrollClicked=_useState16[0],changeNavMenuScrollClicked=_useState16[1];const _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),headerOffset=_useState18[0],changeHeaderOffset=_useState18[1];// Needed for large screen frozen position when cart is toggled due to Square form causing re-rendering\nconst _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),largeScreenFrozenScrollPosition=_useState20[0],changeLargeScreenFrozenScrollPosition=_useState20[1];const navbarVisible=useSelector(state=>state.navbarIsVisibleReducer.visible);const navbarToggle=useSelector(state=>state.navbarToggle.toggle);const scroll=useSelector(state=>state.scrollToggle.scroll);const cartIsActive=useSelector(state=>state.cartIsActive.cartIsActive);const splashScreenHalfway=useSelector(state=>state.splashScreenHalfway.splashScreenHalfway);const splashScreenComplete=useSelector(state=>state.splashScreenComplete.splashScreenComplete);const touchScaling=useSelector(state=>state.fingerTouchScaling.touch_scaling);const finalBookButtonActive=useSelector(state=>state.finalBookButton.final_book_button_active);const loginIsActive=useSelector(state=>state.loginIsActive.login_is_active);const logoutClicked=useSelector(state=>state.logoutClicked.log_out_clicked);const userAuthenticated=useSelector(state=>state.userAuthenticated.user_authenticated);const dummyToken=useSelector(state=>state.dummyToken.dummy_token);const adminDummyToken=useSelector(state=>state.adminDummyToken.admin_dummy_token);const adminAuthenticated=useSelector(state=>state.adminAuthenticated.admin_authenticated);const adminTemporaryDummyToken=useSelector(state=>state.adminTemporaryDummyToken.admin_temporary_dummy_token);const adminNotificationSubscription=useSelector(state=>state.adminNotificationSubscription.notification_subscription);const cartPageOpened=useSelector(state=>state.cartPageOpened.cart_page_opened);const finalBookingModal=useSelector(state=>state.finalBookingModal.final_booking_modal);const guestConsentFormAccessToken=useSelector(state=>state.guestConsentFormAccessToken.access_token);const adminNotifications=useSelector(state=>state.adminNotifications.notifications);const _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),loadingSpinnerActive=_useState22[0],changeLoadingSpinnerActive=_useState22[1];const _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),treatmentsPageInView=_useState24[0],changeTreatmentsPageInView=_useState24[1];const _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),loggingOut=_useState26[0],changeLoggingOut=_useState26[1];const _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),splashScreenLogoDone=_useState28[0],changeSplashScreenLogoDone=_useState28[1];const _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),cookieBannerVisible=_useState30[0],changeCookieBannerVisible=_useState30[1];const _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),redirectActive=_useState32[0],changeRedirectActive=_useState32[1];// For large screen shopping cart slide-in\nconst _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),cartSlideDelay=_useState34[0],changeCartSlideDelay=_useState34[1];const _useMutation=useMutation(updateClientInvalidateTokensMutation),_useMutation2=_slicedToArray(_useMutation,2),updateClientInvalidateTokens=_useMutation2[0],_useMutation2$=_useMutation2[1],appLoading=_useMutation2$.loading,clientLogoutData=_useMutation2$.data;const _useMutation3=useMutation(updateEmployeeInvalidateTokensMutation),_useMutation4=_slicedToArray(_useMutation3,2),updateEmployeeInvalidateTokens=_useMutation4[0],_useMutation4$=_useMutation4[1],adminLogoutAppLoading=_useMutation4$.loading,employeeLogoutData=_useMutation4$.data;const dispatch=useDispatch();const _useQuery=useQuery(getClientQuery,{fetchPolicy:\"no-cache\",variables:{_id:dummyToken?dummyToken.id:guestConsentFormAccessToken?guestConsentFormAccessToken.id:null}}),getClientData=_useQuery.data,getClientError=_useQuery.error,clientDataRefetch=_useQuery.refetch;const _useQuery2=useQuery(getEmployeesQuery,{fetchPolicy:\"no-cache\"}),getEmployeesData=_useQuery2.data,getEmployeesLoading=_useQuery2.loading,getEmployeesError=_useQuery2.error,getEmployeesRefetch=_useQuery2.refetch;const _useQuery3=useQuery(getEmployeeQuery,{variables:{_id:adminTemporaryDummyToken?adminTemporaryDummyToken.id:adminDummyToken?adminDummyToken.id:null}}),getEmployeeData=_useQuery3.data,getEmployeeError=_useQuery3.error,getEmployeeLoading=_useQuery3.loading,employeeDataRefetch=_useQuery3.refetch,employeeSubscribeToMore=_useQuery3.subscribeToMore;useEffect(()=>{if(getEmployeeData){if(getEmployeeData.employee){if(getEmployeeData.employee.notifications){if(getEmployeeData.employee.notifications.length>0){const employeeNotifications=getEmployeeData.employee.notifications.slice();// Sort by most recent\ndispatch(ACTION_ASSIGN_ADMIN_NOTIFICATIONS(employeeNotifications.sort((a,b)=>new Date(parseInt(b._id.substring(0,8),16)*1000-new Date(parseInt(a._id.substring(0,8),16)*1000)))));}}}}},[dispatch,getEmployeeData]);useEffect(()=>{if(adminDummyToken){if(!adminNotificationSubscription){// Subscribe to notifications\nconst subscription=employeeSubscribeToMore({document:getUpdatedEmployeeSubscription,variables:{_id:adminDummyToken.id},updateQuery:(prev,{subscriptionData})=>{if(subscriptionData.data){if(subscriptionData.data.getUpdatedEmployee){if(subscriptionData.data.getUpdatedEmployee.notifications){if(subscriptionData.data.getUpdatedEmployee.notifications.length>0||!isEqual(adminNotifications,subscriptionData.data.getUpdatedEmployee.notifications)){const employeeNotifications=subscriptionData.data.getUpdatedEmployee.notifications// Sort by most recent first\n.sort((a,b)=>new Date(parseInt(b._id.substring(0,8),16)*1000-new Date(parseInt(a._id.substring(0,8),16)*1000)));dispatch(ACTION_ASSIGN_ADMIN_NOTIFICATIONS(employeeNotifications));}}}}}});dispatch(ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION(subscription));}}else{if(adminNotificationSubscription){// Invoke to unsubscribe from notifications\nadminNotificationSubscription();dispatch(ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION_RESET());}}},[adminDummyToken,employeeSubscribeToMore,dispatch,adminNotificationSubscription,adminNotifications]);useEffect(()=>{if(location.pathname.includes(\"activity\")){dispatch(ACTION_ON_ACTIVITY_PAGE());}},[location.pathname,dispatch]);if(isAndroid){// Resets height to prevent Android keyboard input focus zoom\ndocument.documentElement.style.setProperty(\"overflow\",\"auto\");const metaViewport=document.querySelector(\"meta[name=viewport]\");metaViewport.setAttribute(\"content\",\"height=\"+initialScreenHeight+\", width=device-width, initial-scale=1.0, shrink-to-fit=no, viewport-fit=cover\");}useMemo(()=>{if(getClientData){return false;}},[getClientData]);useMemo(()=>{if(getEmployeeData){return false;}},[getEmployeeData]);useEffect(()=>{if(cartIsActive){if(!navbarVisible){dispatch(ACTION_NAVBAR_IS_VISIBLE());}}},[cartIsActive,navbarVisible,dispatch]);const redirectToHome=()=>{if(!splashScreenComplete){if(!location.pathname.includes(\"account\")&&!location.pathname.includes(\"admin\")&&!location.pathname.includes(\"privacy\")&&!location.pathname.includes(\"termsandconditions\")&&location.pathname!==\"/api/auth/facebook/callback\")return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}};const redirectToRoot=()=>{if(redirectActive){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}};useEffect(()=>{if(cartIsActive){if(document.body.style.background!==\"rgb(255, 255, 255\"){document.body.style.setProperty(\"background\",\"rgb(255, 255, 255)\");}}},[cartIsActive]);useEffect(()=>{let currentDummyToken;let temporaryFacebookDummyToken;let currentAdminDummyToken;let temporaryAdminDummyToken;let currentGuestConsentFormAccessToken;const checkCookies=()=>{if(location.pathname===\"/\"||location.pathname.includes(\"privacy\")||location.pathname.includes(\"termsandconditions\")){if(dummyToken||adminDummyToken||temporaryFacebookDummyToken||temporaryAdminDummyToken||guestConsentFormAccessToken){if(cookieBannerVisible){changeCookieBannerVisible(false);}}else{if(splashScreenComplete&&!cartIsActive){if(!Cookies.get(\"user-has-accepted-cookies\")){if(!cookieBannerVisible){changeCookieBannerVisible(true);}}}}}if(currentDummyToken!==Cookies.get(\"dummy-token\")||temporaryFacebookDummyToken!==Cookies.get(\"temporary-facebook-dummy-token\")||currentAdminDummyToken!==Cookies.get(\"admin-dummy-token\")||temporaryAdminDummyToken!==Cookies.get(\"temporary-admin-dummy-token\")||currentGuestConsentFormAccessToken!==Cookies.get(\"guest-consent-form-access-token\")){currentDummyToken=Cookies.get(\"dummy-token\");temporaryFacebookDummyToken=Cookies.get(\"temporary-facebook-dummy-token\");currentAdminDummyToken=Cookies.get(\"admin-dummy-token\");temporaryAdminDummyToken=Cookies.get(\"temporary-admin-dummy-token\");currentGuestConsentFormAccessToken=Cookies.get(\"guest-consent-form-access-token\");if(currentDummyToken){if(!dummyToken){dispatch(ACTION_DUMMY_TOKEN(jwt.decode(currentDummyToken)));}if(!userAuthenticated){dispatch(ACTION_USER_AUTHENTICATED());}}else{dispatch(ACTION_DUMMY_TOKEN_RESET());dispatch(ACTION_USER_NOT_AUTHENTICATED());if(currentAdminDummyToken){if(!adminDummyToken){dispatch(ACTION_ADMIN_DUMMY_TOKEN(jwt.decode(currentAdminDummyToken)));}if(!adminAuthenticated){dispatch(ACTION_ADMIN_AUTHENTICATED());}}else if(temporaryAdminDummyToken){if(!adminTemporaryDummyToken){dispatch(ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN(jwt.decode(temporaryAdminDummyToken)));}if(adminAuthenticated){dispatch(ACTION_ADMIN_NOT_AUTHENTICATED());}}else{if(adminTemporaryDummyToken){dispatch(ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN_RESET());}if(adminAuthenticated){dispatch(ACTION_ADMIN_NOT_AUTHENTICATED());}if(temporaryFacebookDummyToken){dispatch(ACTION_FACEBOOK_COMPLETE_REGISTRATION());}else{dispatch(ACTION_FACEBOOK_COMPLETE_REGISTRATION_RESET());if(currentGuestConsentFormAccessToken){dispatch(ACTION_GUEST_CONSENT_FORM_ACCESS_TOKEN(jwt.decode(currentGuestConsentFormAccessToken)));}}}}}};setInterval(checkCookies,100);},[dispatch,adminAuthenticated,cookieBannerVisible,location.pathname,splashScreenComplete,userAuthenticated,cartIsActive,adminDummyToken,dummyToken,adminTemporaryDummyToken,guestConsentFormAccessToken]);useEffect(()=>{if(location.pathname.includes(\"account\")){if(cartIsActive){dispatch(ACTION_CART_IS_NOT_ACTIVE());}}},[dispatch,location.pathname,cartIsActive]);const handleNavbarToggle=()=>{if(!currentScreenSize){if(initialScreenHeight>initialScreenSize||initialScreenSize<900&&initialScreenSize>initialScreenHeight){if(navbarToggle){dispatch(ACTION_NAVBAR_TOGGLE_RESET());dispatch(ACTION_NAVBAR_IS_VISIBLE());dispatch(ACTION_BODY_SCROLL_ALLOW());}else{dispatch(ACTION_NAVBAR_TOGGLE());dispatch(ACTION_BODY_SCROLL_RESET());dispatch(ACTION_NAVBAR_IS_VISIBLE());toast.dismiss();}}}else{if(currentScreenHeight>currentScreenSize||currentScreenSize<900&&currentScreenSize>currentScreenHeight){if(navbarToggle){dispatch(ACTION_NAVBAR_TOGGLE_RESET());dispatch(ACTION_NAVBAR_IS_VISIBLE());dispatch(ACTION_BODY_SCROLL_ALLOW());}else{dispatch(ACTION_NAVBAR_TOGGLE());dispatch(ACTION_BODY_SCROLL_RESET());dispatch(ACTION_NAVBAR_IS_VISIBLE());toast.dismiss();}}}};useLayoutEffect(()=>{const updateSize=()=>{if(!touchScaling){changeCurrentScreenSize(window.innerWidth);changeCurrentScreenHeight(window.innerHeight);}};window.addEventListener(\"resize\",updateSize);return()=>{window.removeEventListener(\"resize\",updateSize);};},[currentScreenSize,initialScreenSize,touchScaling]);const scrollFunction=element=>{scroller.scrollTo(element,{duration:500,smooth:true,isDynamic:true,offset:-(!currentScreenHeight?initialScreenHeight*0.07:currentScreenHeight*0.07),containerId:\"main_container_element\"});};const handleNavMenuScrollClick=()=>{changeNavMenuScrollClicked(true);setTimeout(()=>{changeNavMenuScrollClicked(false);},1000);};const handleClickToScrollToHome=()=>{if(location.pathname!==\"/\"){changeRedirectActive(true);setTimeout(()=>{changeRedirectActive(false);scrollFunction(\"landing_page\");},1000);}handleNavbarToggle();handleNavMenuScrollClick();scrollFunction(\"landing_page\");};const handleClickToScrollToTreatments=source=>{if(location.pathname!==\"/\"){changeRedirectActive(true);setTimeout(()=>{changeRedirectActive(false);scrollFunction(\"treatments\");},500);}if(!source){handleNavbarToggle();}handleNavMenuScrollClick();scrollFunction(\"treatments\");};const handleClickToScrollToAddOns=()=>{if(location.pathname!==\"/\"){changeRedirectActive(true);setTimeout(()=>{changeRedirectActive(false);scrollFunction(\"add_ons\");},500);}handleNavbarToggle();handleNavMenuScrollClick();scrollFunction(\"add_ons\");};const handleClickToScrollToInstagram=()=>{if(location.pathname!==\"/\"){changeRedirectActive(true);setTimeout(()=>{changeRedirectActive(false);scrollFunction(\"instagram\");},500);}handleNavbarToggle();handleNavMenuScrollClick();scrollFunction(\"instagram\");};const handleClickToScrollToContact=()=>{if(location.pathname!==\"/\"){changeRedirectActive(true);setTimeout(()=>{changeRedirectActive(false);scrollFunction(\"contact\");},500);}handleNavbarToggle();handleNavMenuScrollClick();scrollFunction(\"contact\");};const ref={LandingPageRef:LandingPageRef,Treatments1Ref:Treatments1Ref,AddOnsRef:AddOnsRef,InstagramRef:InstagramRef,ContactRef:ContactRef};useEffect(()=>{if(!cartIsActive){if(!location.pathname.includes(\"account\")&&!location.pathname.includes(\"admin\")){const handleScroll=()=>{const currentScrollPosition=scrollValue;if(previousScrollPosition<currentScrollPosition&&previousScrollPosition>0&&currentScrollPosition>0){if(navbarVisible){if(navbarToggle){dispatch(ACTION_NAVBAR_IS_VISIBLE());}else{if(!navMenuScrollClicked){dispatch(ACTION_NAVBAR_NOT_VISIBLE());}}setPreviousScrollPosition(currentScrollPosition);}}else{dispatch(ACTION_NAVBAR_IS_VISIBLE());}};const refVar=MainContainerRef.current;if(MainContainerRef){if(refVar){refVar.addEventListener(\"scroll\",handleScroll);return()=>refVar.removeEventListener(\"scroll\",handleScroll);}}}}},[scrollValue,navMenuScrollClicked,previousScrollPosition,navbarVisible,navbarToggle,cartIsActive,dispatch,location.pathname]);useEffect(()=>{if(location.pathname.includes(\"cart\")||location.pathname.includes(\"availability\")){if(cartPageOpened!==\"\"){dispatch(ACTION_CART_IS_ACTIVE());}}},[dispatch,location.pathname,cartPageOpened]);useEffect(()=>{if(cartPageOpened===\"\"){dispatch(ACTION_CART_IS_NOT_ACTIVE());}},[cartPageOpened,dispatch]);const handleLogout=()=>{if(adminDummyToken){updateEmployeeInvalidateTokens();dispatch(ACTION_RESET_ADMIN_NOTIFICATIONS());changeLoggingOut(true);}else{updateClientInvalidateTokens();changeLoggingOut(true);}};useEffect(()=>{if(employeeLogoutData){if(loggingOut){if(adminAuthenticated){dispatch(ACTION_ADMIN_NOT_AUTHENTICATED());}if(userAuthenticated){dispatch(ACTION_USER_NOT_AUTHENTICATED());}if(adminDummyToken){dispatch(ACTION_ADMIN_DUMMY_TOKEN_RESET());}if(dummyToken){dispatch(ACTION_DUMMY_TOKEN_RESET());}changeLoggingOut(false);}}},[adminAuthenticated,adminDummyToken,dispatch,dummyToken,employeeLogoutData,userAuthenticated,loggingOut]);useEffect(()=>{if(clientLogoutData){if(loggingOut){if(userAuthenticated){dispatch(ACTION_USER_NOT_AUTHENTICATED());}changeLoggingOut(false);}}},[clientLogoutData,dispatch,userAuthenticated,loggingOut]);useEffect(()=>{if(appLoading||adminLogoutAppLoading){changeLoadingSpinnerActive(true);const successfulLogout=setTimeout(()=>{changeLoadingSpinnerActive(false);dispatch(ACTION_LOG_OUT_CLICKED_RESET());dispatch(ACTION_USER_NOT_AUTHENTICATED());},1000);return()=>{clearTimeout(successfulLogout);};}else{if(loadingSpinnerActive){const successfulLogout=setTimeout(()=>{changeLoadingSpinnerActive(false);dispatch(ACTION_LOG_OUT_CLICKED_RESET());dispatch(ACTION_USER_NOT_AUTHENTICATED());},1000);return()=>{clearTimeout(successfulLogout);};}}},[appLoading,adminLogoutAppLoading,loadingSpinnerActive,dispatch]);const override=css(_templateObject());useMemo(()=>{if(!cartIsActive){if(largeScreenFrozenScrollPosition!==\"\"){changeLargeScreenFrozenScrollPosition(\"\");}}},[cartIsActive,largeScreenFrozenScrollPosition,changeLargeScreenFrozenScrollPosition]);const redirectToCartRoutes=()=>{setTimeout(()=>{if(cartIsActive){if(cartPageOpened===\"\"){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else if(cartPageOpened===\"Cart\"){if(!currentScreenSize){if(initialScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/cart\"});}}else if(currentScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/cart\"});}}else if(cartPageOpened===\"Availability\"){if(!currentScreenSize){if(initialScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/availability\"});}}else if(currentScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/availability\"});}}else if(cartPageOpened===\"TimePreference\"){if(!currentScreenSize){if(initialScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/availability/timepreference\"});}}else if(currentScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/availability/timepreference\"});}}else if(cartPageOpened===\"PaymentInfo\"){if(!currentScreenSize){if(initialScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/paymentinfo\"});}}else if(currentScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/paymentinfo\"});}}else if(cartPageOpened===\"GuestCheckout\"){if(!currentScreenSize){if(initialScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/checkout\"});}}else if(currentScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/checkout\"});}}else if(cartPageOpened===\"ConfirmationPage\"){if(!currentScreenSize){if(initialScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/checkout/confirmation\"});}}else if(currentScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/checkout/confirmation\"});}}else{return null;}}else{return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}},100);};useMemo(()=>{if(currentScreenSize){dispatch(ACTION_BACIAL_TOGGLE_RESET());dispatch(ACTION_CALM_TOGGLE_RESET());dispatch(ACTION_CBD_TOGGLE_RESET());dispatch(ACTION_CHEMICAL_PEEL_TOGGLE_RESET());dispatch(ACTION_CLARIFY_TOGGLE_RESET());dispatch(ACTION_DERMAPLANING_TOGGLE_RESET());dispatch(ACTION_GLOW_TOGGLE_RESET());dispatch(ACTION_MICRONEEDLE_TOGGLE_RESET());dispatch(ACTION_QUENCH_TOGGLE_RESET());dispatch(ACTION_QUICKIE_TOGGLE_RESET());dispatch(ACTION_REJUVENATE_TOGGLE_RESET());dispatch(ACTION_SALT_CAVE_TOGGLE_RESET());dispatch(ACTION_BEARD_TOGGLE_RESET());dispatch(ACTION_DERMAROLLING_TOGGLE_RESET());dispatch(ACTION_EXTRA_EXTRACTIONS_TOGGLE_RESET());dispatch(ACTION_GUASHA_TOGGLE_RESET());dispatch(ACTION_HYDRO_JELLY_TOGGLE_RESET());dispatch(ACTION_LED_THERAPY_TOGGLE_RESET());dispatch(ACTION_MICROCURRENT_TOGGLE_RESET());dispatch(ACTION_MICRODERMABRASION_TOGGLE_RESET());dispatch(ACTION_NANONEEDLING_TOGGLE_RESET());}},[currentScreenSize,dispatch]);const resetAllCartStates=()=>{dispatch(ACTION_BODY_SCROLL_ALLOW());dispatch(ACTION_TOTAL_PRICE_RESET());dispatch(ACTION_TOTAL_DURATION_RESET());dispatch(ACTION_SELECT_TIME_NOT_ACTIVE());dispatch(ACTION_SELECTED_TIME_RESET());dispatch(ACTION_SELECTED_DAY_RESET());dispatch(ACTION_SELECTED_ESTHETICIAN_RESET());dispatch(ACTION_SELECTED_SALT_CAVE_DURATION_RESET());dispatch(ACTION_FINAL_BOOKING_MODAL_RESET());dispatch(ACTION_ALL_COLLAPSE_RESET());dispatch(ACTION_TREATMENTS_CART_RESET());dispatch(ACTION_REFORMATTED_DAY_RESET());dispatch(ACTION_REFORMATTED_DAY_CLONE_RESET());dispatch(ACTION_DAY_OF_THE_WEEK_RESET());dispatch(ACTION_PHONE_NOT_VALID());dispatch(ACTION_PHONE_NOT_INVALID());dispatch(ACTION_APPOINTMENT_NOTES_RESET());dispatch(ACTION_EMAIL_RESET());dispatch(ACTION_FIRST_NAME_RESET());dispatch(ACTION_LAST_NAME_RESET());dispatch(ACTION_PHONE_NUMBER_RESET());dispatch(ACTION_FINAL_BOOK_BUTTON_RESET());dispatch(ACTION_EMAIL_NOT_INVALID());dispatch(ACTION_EMAIL_NOT_VALID());dispatch(ACTION_CONTINUE_BUTTON_RESET());dispatch(ACTION_BOOKING_SUMMARY_NOT_ACTIVE());dispatch(ACTION_AVAILABILITY_RESET());dispatch(ACTION_APPOINTMENT_END_TIME_RESET());dispatch(ACTION_CART_PAGE_OPENED());};const resetAllCartStatesExceptTreatments=()=>{dispatch(ACTION_BODY_SCROLL_ALLOW());dispatch(ACTION_SELECT_TIME_NOT_ACTIVE());dispatch(ACTION_SELECTED_TIME_RESET());dispatch(ACTION_SELECTED_DAY_RESET());dispatch(ACTION_SELECTED_ESTHETICIAN_RESET());dispatch(ACTION_FINAL_BOOKING_MODAL_RESET());dispatch(ACTION_ALL_COLLAPSE_RESET());dispatch(ACTION_REFORMATTED_DAY_RESET());dispatch(ACTION_REFORMATTED_DAY_CLONE_RESET());dispatch(ACTION_DAY_OF_THE_WEEK_RESET());dispatch(ACTION_PHONE_NOT_VALID());dispatch(ACTION_PHONE_NOT_INVALID());dispatch(ACTION_APPOINTMENT_NOTES_RESET());dispatch(ACTION_EMAIL_RESET());dispatch(ACTION_FIRST_NAME_RESET());dispatch(ACTION_LAST_NAME_RESET());dispatch(ACTION_PHONE_NUMBER_RESET());dispatch(ACTION_FINAL_BOOK_BUTTON_RESET());dispatch(ACTION_EMAIL_NOT_INVALID());dispatch(ACTION_EMAIL_NOT_VALID());dispatch(ACTION_CONTINUE_BUTTON_RESET());dispatch(ACTION_BOOKING_SUMMARY_NOT_ACTIVE());dispatch(ACTION_AVAILABILITY_RESET());dispatch(ACTION_APPOINTMENT_END_TIME_RESET());dispatch(ACTION_CART_PAGE_OPENED());};const shoppingCartConditionalActiveRendering=()=>{if(!largeScreenFrozenScrollPosition&&largeScreenFrozenScrollPosition!==0){changeLargeScreenFrozenScrollPosition(window.scrollY);}if(!cartPageOpened||cartPageOpened===\"Cart\"){return/*#__PURE__*/React.createElement(ShoppingCart,{currentScreenSize:currentScreenSize,initialScreenSize:initialScreenSize,getEmployeesData:getEmployeesData,resetAllCartStates:resetAllCartStates,resetAllCartStatesExceptTreatments:resetAllCartStatesExceptTreatments});}else if(cartPageOpened===\"Availability\"){return/*#__PURE__*/React.createElement(Suspense,{fallback:renderCartRoutesFallbackLoader()},/*#__PURE__*/React.createElement(Availability,{currentScreenSize:currentScreenSize,initialScreenSize:initialScreenSize,getEmployeesData:getEmployeesData}));}else if(cartPageOpened===\"TimePreference\"){return/*#__PURE__*/React.createElement(Suspense,{fallback:renderCartRoutesFallbackLoader()},/*#__PURE__*/React.createElement(TimePreference,{currentScreenSize:currentScreenSize,initialScreenSize:initialScreenSize}));}else if(cartPageOpened===\"GuestCheckout\"){return/*#__PURE__*/React.createElement(Suspense,{fallback:renderCartRoutesFallbackLoader()},/*#__PURE__*/React.createElement(GuestCheckout,{currentScreenSize:currentScreenSize,initialScreenSize:initialScreenSize}));}else if(cartPageOpened===\"PaymentInfo\"){return/*#__PURE__*/React.createElement(Suspense,{fallback:renderCartRoutesFallbackLoader()},/*#__PURE__*/React.createElement(PaymentInfo,{currentScreenSize:currentScreenSize,initialScreenSize:initialScreenSize,getClientData:getClientData?getClientData:null,clientDataRefetch:clientDataRefetch,largeScreenFrozenScrollPosition:largeScreenFrozenScrollPosition,changeLargeScreenFrozenScrollPosition:changeLargeScreenFrozenScrollPosition}));}else if(cartPageOpened===\"ConfirmationPage\"){return/*#__PURE__*/React.createElement(Suspense,{fallback:renderCartRoutesFallbackLoader()},/*#__PURE__*/React.createElement(ConfirmationPage,{currentScreenSize:currentScreenSize,initialScreenSize:initialScreenSize}));}};const largeScreenShoppingCartRender=()=>{if(!currentScreenSize){if(initialScreenSize>=1200){return/*#__PURE__*/React.createElement(Transition,{items:cartIsActive,from:{transform:\"translate3d(100%, 0, 0)\"},enter:{transform:\"translate3d(0, 0, 0)\"},leave:{transform:\"translate3d(100%, 0, 0)\"}},cartIsActive=>cartIsActive&&(styleprops=>/*#__PURE__*/React.createElement(\"div\",{className:\"large_screen_shopping_cart_container\",style:styleprops,ref:shoppingCartRef},shoppingCartConditionalActiveRendering())));}}else if(currentScreenSize>=1200){return/*#__PURE__*/React.createElement(Transition,{items:cartIsActive,from:{transform:\"translate3d(100%, 0, 0)\"},enter:{transform:\"translate3d(0, 0, 0)\"},leave:{transform:\"translate3d(100%, 0, 0)\"}},cartIsActive=>cartIsActive&&(props=>/*#__PURE__*/React.createElement(\"div\",{className:\"large_screen_shopping_cart_container\",style:props,ref:shoppingCartRef},shoppingCartConditionalActiveRendering())));}};useEffect(()=>{if(cartIsActive){changeCartSlideDelay(true);}else{const slideDelay=setTimeout(()=>{changeCartSlideDelay(false);},500);return()=>{clearTimeout(slideDelay);};}},[cartIsActive]);// Distort background while shopping cart slider is visible\nconst renderSlideInShoppingCartContainer=useCallback(item=>{if(cartIsActive){return/*#__PURE__*/React.createElement(\"div\",{className:\"large_screen_shopping_cart_full_container\",style:{display:cartSlideDelay?\"block\":\"none\",backdropFilter:cartIsActive?\"blur(30px) brightness(50%)\":\"none\",WebkitBackdropFilter:cartIsActive?\"blur(30px) brightness(50%)\":\"none\",transition:\"backdropFilter 0.5s ease\",zIndex:finalBookingModal?-1:50},onClick:e=>{if(e.target.className===\"large_screen_shopping_cart_full_container\"){dispatch(ACTION_CART_IS_NOT_ACTIVE());}}},item);}},[cartIsActive,cartSlideDelay,dispatch,finalBookingModal]);useEffect(()=>{if(location.pathname===\"/admin\"||location.pathname===\"/account/login\"||location.pathname===\"/account/completeregistration\"||location.pathname===\"/account/signup\"){document.body.classList.remove(\"height_hundred_percent\");document.body.classList.add(\"height_remove_hundred_percent\");}else{document.body.classList.remove(\"height_remove_hundred_percent\");document.body.classList.add(\"height_hundred_percent\");}},[location.pathname]);useEffect(()=>{const root=document.getElementsByTagName(\"html\")[0];if(!currentScreenSize){if(initialScreenSize>=1200){if(cartIsActive){document.body.classList.add(\"no_scroll_no_fixed\");root.classList.add(\"no_scroll_no_fixed\");}else{document.body.classList.remove(\"no_scroll_no_fixed\");root.classList.remove(\"no_scroll_no_fixed\");}}else{document.body.classList.remove(\"no_scroll_no_fixed\");root.classList.remove(\"no_scroll_no_fixed\");}}else{if(currentScreenSize>=1200){if(cartIsActive){document.body.classList.add(\"no_scroll_no_fixed\");root.classList.add(\"no_scroll_no_fixed\");}else{document.body.classList.remove(\"no_scroll_no_fixed\");root.classList.remove(\"no_scroll_no_fixed\");}}else{document.body.classList.remove(\"no_scroll_no_fixed\");root.classList.remove(\"no_scroll_no_fixed\");}}},[cartIsActive,dispatch,currentScreenSize,initialScreenSize]);const treatmentsPageIsVisibleFunction=()=>{return changeTreatmentsPageInView(true);};const treatmentsPageIsNotVisibleFunction=()=>{return changeTreatmentsPageInView(false);};const handleScrollDirection=useCallback(e=>{if(scrollValue>e.target.scrollTop){if(scrollDirection!==\"Up\"){changeScrollDirection(\"Up\");}changeScrollValue(e.target.scrollTop);}else if(scrollValue<e.target.scrollTop){if(scrollDirection!==\"Down\"){changeScrollDirection(\"Down\");}changeScrollValue(e.target.scrollTop);}else{return null;}},[scrollValue,scrollDirection]);useEffect(()=>{const refVar=MainContainerRef.current;if(refVar){changeScrollValue(refVar.scrollTop);refVar.addEventListener(\"scroll\",handleScrollDirection);return()=>{refVar.removeEventListener(\"scroll\",handleScrollDirection);};}},[handleScrollDirection]);// Used to place navbar in relation to vertical scrollbar\nuseEffect(()=>{const headerOffsetInterval=setInterval(()=>{if(MainContainerRef){if(MainContainerRef.current){const currentRef=MainContainerRef.current;if(headerOffset!==Math.abs(currentRef.offsetWidth-currentRef.clientWidth)){if(Math.abs(currentRef.offsetWidth-currentRef.clientWidth)){changeHeaderOffset(Math.abs(currentRef.offsetWidth-currentRef.clientWidth));}else{changeHeaderOffset(0);}}}}},100);return()=>{clearInterval(headerOffsetInterval);};},[headerOffset]);// Also used to place navbar in relation to vertical scrollbar\nuseEffect(()=>{if(location.pathname.includes(\"account\")||location.pathname.includes(\"admin\")&&!location.pathname.includes(\"staff\")&&!location.pathname.includes(\"clients\")&&!location.pathname.includes(\"schedule\")||cartIsActive){if(document.styleSheets[0].cssRules[0].cssText===\"::-webkit-scrollbar { width: 0px; }\"){return;}else{document.styleSheets[0].insertRule(\"::-webkit-scrollbar { width: 0; }\",0);}}else{if(document.styleSheets[0].cssRules[0].cssText===\"::-webkit-scrollbar { width: 0px; }\"){document.styleSheets[0].deleteRule(0);}else{return;}}},[location,headerOffset,cartIsActive]);const renderAuthFallbackLoader=()=>{return/*#__PURE__*/React.createElement(Modal,{isOpen:true,style:{content:{position:\"fixed\",zIndex:10000,opacity:0.99,height:\"100%\",backdropFilter:\"blur(5px)\",WebkitBackdropFilter:\"blur(5px)\",paddingBottom:\"10%\",borderRadius:\"none\",width:\"100vw\",top:\"0\",left:\"0\",right:\"0\",bottom:\"0\",border:\"none\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",background:\"rgba(0, 0, 0, 0.5)\"}}},/*#__PURE__*/React.createElement(BounceLoader,{size:100,css:override,color:\"rgb(44, 44, 52)\",loading:true}));};const renderCartRoutesFallbackLoader=()=>{return/*#__PURE__*/React.createElement(\"div\",{className:\"clip_loader_spinner_container\",style:{display:\"flex\"}},/*#__PURE__*/React.createElement(ClipLoader,{size:100,css:override,color:\"rgb(44, 44, 52)\",loading:true}));};useEffect(()=>{if(splashScreenHalfway){if(!splashScreenLogoDone){setTimeout(()=>{changeSplashScreenLogoDone(true);},700);}}},[splashScreenHalfway,splashScreenLogoDone]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"font_preload\",style:{opacity:0}},/*#__PURE__*/React.createElement(\"span\",{style:{fontFamily:\"Montserrat, Arial, sans-serif\"}})),redirectToHome(),redirectToRoot(),/*#__PURE__*/React.createElement(Modal,{isOpen:logoutClicked,style:{content:{position:\"fixed\",zIndex:10000,opacity:0.99,height:\"100%\",backdropFilter:\"blur(5px)\",WebkitBackdropFilter:\"blur(5px)\",paddingBottom:\"10%\",borderRadius:\"none\",width:\"100vw\",top:\"0\",left:\"0\",right:\"0\",bottom:\"0\",border:\"none\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",background:\"rgba(0, 0, 0, 0.5)\"}}},/*#__PURE__*/React.createElement(BounceLoader,{size:100,css:override,color:\"rgb(44, 44, 52)\",loading:loadingSpinnerActive}),loggingOut||location.pathname===\"/account/login\"||location.pathname===\"/admin\"?null:/*#__PURE__*/React.createElement(\"div\",{className:\"log_out_modal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"log_out_modal_contents\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"modal_x\",icon:faTimes,onClick:()=>dispatch(ACTION_LOG_OUT_CLICKED_RESET())}),/*#__PURE__*/React.createElement(\"h2\",null,\"Are you sure you want to log out?\"),/*#__PURE__*/React.createElement(\"span\",{className:\"logout_buttons_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logout_button\",onClick:handleLogout},/*#__PURE__*/React.createElement(\"p\",null,\"LOG OUT\")),/*#__PURE__*/React.createElement(\"div\",{className:\"cancel_logout_button\",onClick:()=>dispatch(ACTION_LOG_OUT_CLICKED_RESET())},/*#__PURE__*/React.createElement(\"p\",null,\"CANCEL\")))))),/*#__PURE__*/React.createElement(Spring,{from:{marginTop:!currentScreenSize?\"-200px\":initialScreenSize>=600?currentScreenSize>=600?\"-200px\":\"-100px\":currentScreenSize>=600?\"-200px\":\"-100px\"},to:{marginTop:\"0px\"},config:{delay:1800,duration:1500},immediate:location.pathname.includes(\"account\")||location.pathname.includes(\"admin\")},styles=>/*#__PURE__*/React.createElement(\"header\",{className:\"header\",style:{marginTop:splashScreenComplete?!currentScreenSize?initialScreenSize>=1200?cookieBannerVisible&&!cartIsActive?\"100px\":location.pathname===\"/\"?\"\".concat(styles.marginTop):cookieBannerVisible&&!cartIsActive?\"100px\":\"0px\":navbarVisible?cookieBannerVisible&&!cartIsActive?initialScreenSize>=360?\"100px\":\"60px\":\"0px\":\"-200px\":currentScreenSize>=1200?cookieBannerVisible&&!cartIsActive?\"100px\":location.pathname===\"/\"?\"\".concat(styles.marginTop):cookieBannerVisible&&!cartIsActive?\"100px\":\"0px\":navbarVisible?cookieBannerVisible&&!cartIsActive?currentScreenSize>=360?\"100px\":\"60px\":\"0px\":\"-200px\":\"\".concat(styles.marginTop),transition:\"margin-top 0.5s ease\",height:!currentScreenSize?initialScreenSize<1000?initialScreenSize>initialScreenHeight?\"15vh\":\"8vh\":\"8vh\":currentScreenSize<1000?currentScreenSize>currentScreenHeight?\"15vh\":\"8vh\":\"8vh\",paddingTop:\"0vh\",paddingBottom:\"0vh\",zIndex:finalBookButtonActive?\"auto\":location.pathname===\"/\"?999:location.pathname.includes(\"account\")||location.pathname.includes(\"admin\")?500:999,display:loginIsActive?\"none\":\"flex\",width:\"calc(100% - \"+headerOffset+\"px)\"}},/*#__PURE__*/React.createElement(ResponsiveNavigationBar,{scroll:scroll,handleNavbarToggle:handleNavbarToggle,currentScreenSize:currentScreenSize,initialScreenSize:initialScreenSize,currentScreenHeight:currentScreenHeight,initialScreenHeight:initialScreenHeight,handleClickToScrollToHome:handleClickToScrollToHome,handleClickToScrollToTreatments:handleClickToScrollToTreatments,handleClickToScrollToAddOns:handleClickToScrollToAddOns,handleClickToScrollToInstagram:handleClickToScrollToInstagram,handleClickToScrollToContact:handleClickToScrollToContact,adminDummyToken:adminDummyToken,getEmployeeData:getEmployeeData,scrollValue:scrollValue,ref:ref}))),(location.pathname===\"/\"||location.pathname.includes(\"privacy\")||location.pathname.includes(\"termsandconditions\"))&&!cartIsActive&&!guestConsentFormAccessToken&&!adminDummyToken&&!dummyToken&&!adminTemporaryDummyToken?/*#__PURE__*/React.createElement(CookieBanner,{link:/*#__PURE__*/React.createElement(\"p\",null,\"By using this website, you agree to our\",\" \",/*#__PURE__*/React.createElement(Link,{to:\"/privacy\"},\"Privacy Policy\"),\",\",\" \",/*#__PURE__*/React.createElement(Link,{to:\"/termsandconditions\"},\"Terms and Conditions\"),\", and use of cookies. We use cookies to provide you with a personalized experience.\"),cookie:\"user-has-accepted-cookies\",dismissOnScroll:false,onAccept:()=>changeCookieBannerVisible(false)}):null,renderSlideInShoppingCartContainer(largeScreenShoppingCartRender()),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\"},/*#__PURE__*/React.createElement(KeepAlive,{saveScrollPosition:\"screen\"},/*#__PURE__*/React.createElement(\"div\",{className:\"main_container\",onScroll:e=>handleScrollDirection(e),ref:MainContainerRef,style:{overflow:splashScreenComplete?\"auto\":\"hidden\"},id:\"main_container_element\"},redirectToCartRoutes(),/*#__PURE__*/React.createElement(LandingPage,{currentScreenSize:currentScreenSize,initialScreenSize:initialScreenSize,currentScreenHeight:currentScreenHeight,initialScreenHeight:initialScreenHeight,handleClickToScrollToHome:handleClickToScrollToHome,handleClickToScrollToTreatments:handleClickToScrollToTreatments,handleClickToScrollToAddOns:handleClickToScrollToAddOns,handleClickToScrollToInstagram:handleClickToScrollToInstagram,handleClickToScrollToContact:handleClickToScrollToContact,navbarVisible:navbarVisible,treatmentsPageInView:treatmentsPageInView,scrollDirection:scrollDirection,scrollValue:scrollValue,ref:ref,name:\"landing_page\"}),/*#__PURE__*/React.createElement(AllTreatments,{name:\"treatments\",currentScreenSize:currentScreenSize,initialScreenSize:initialScreenSize,Treatments1Ref:Treatments1Ref,resetAllCartStates:resetAllCartStates,treatmentsPageIsVisibleFunction:treatmentsPageIsVisibleFunction,treatmentsPageIsNotVisibleFunction:treatmentsPageIsNotVisibleFunction,treatmentsPageInView:treatmentsPageInView,scrollValue:scrollValue}),/*#__PURE__*/React.createElement(AllAddOns,{name:\"add_ons\",currentScreenSize:currentScreenSize,initialScreenSize:initialScreenSize,AddOnsRef:AddOnsRef,resetAllCartStatesExceptTreatments:resetAllCartStatesExceptTreatments}),/*#__PURE__*/React.createElement(FollowUs,{name:\"instagram\",initialScreenSize:initialScreenSize,currentScreenSize:currentScreenSize,InstagramRef:InstagramRef}),/*#__PURE__*/React.createElement(ContactUs,{name:\"contact\",initialScreenSize:initialScreenSize,currentScreenSize:currentScreenSize,ContactRef:ContactRef})))),cartIsActive?cartPageOpened===\"Cart\"?/*#__PURE__*/React.createElement(Route,{render:()=>/*#__PURE__*/React.createElement(ShoppingCart,{path:\"/cart\",getEmployeesData:getEmployeesData,initialScreenSize:initialScreenSize,currentScreenSize:currentScreenSize,resetAllCartStates:resetAllCartStates,resetAllCartStatesExceptTreatments:resetAllCartStatesExceptTreatments})}):cartPageOpened===\"Availability\"||cartPageOpened===\"TimePreference\"?/*#__PURE__*/React.createElement(Route,{render:()=>/*#__PURE__*/React.createElement(Suspense,{fallback:renderCartRoutesFallbackLoader()},/*#__PURE__*/React.createElement(AvailabilityRouter,{path:\"/availability\",getEmployeesData:getEmployeesData,initialScreenSize:initialScreenSize,currentScreenSize:currentScreenSize}))}):null:null,/*#__PURE__*/React.createElement(Route,{render:()=>location.pathname.includes(\"account\")?/*#__PURE__*/React.createElement(Suspense,{fallback:renderAuthFallbackLoader()},/*#__PURE__*/React.createElement(AccountRouter,{path:\"/account\",initialScreenSize:initialScreenSize,currentScreenSize:currentScreenSize,getClientData:getClientData?getClientData:null,getClientError:getClientError,clientDataRefetch:clientDataRefetch,handleClickToScrollToHome:handleClickToScrollToHome,ref:ref})):location.pathname.includes(\"admin\")?/*#__PURE__*/React.createElement(Suspense,{fallback:renderAuthFallbackLoader()},/*#__PURE__*/React.createElement(AdminRouter,{path:\"/admin\",initialScreenSize:initialScreenSize,currentScreenSize:currentScreenSize,getEmployeeData:getEmployeeData?getEmployeeData:null,getEmployeeError:getEmployeeError,getEmployeeLoading:getEmployeeLoading,employeeDataRefetch:employeeDataRefetch,getEmployeesData:getEmployeesData?getEmployeesData:null,getEmployeesError:getEmployeesError,getEmployeesRefetch:getEmployeesRefetch,getEmployeesLoading:getEmployeesLoading,handleClickToScrollToHome:handleClickToScrollToHome,ref:ref})):location.pathname.includes(\"privacy\")?/*#__PURE__*/React.createElement(Route,{render:()=>/*#__PURE__*/React.createElement(Suspense,{fallback:renderAuthFallbackLoader()},/*#__PURE__*/React.createElement(PrivacyPolicy,{exact:true,path:\"/privacy\"}))}):location.pathname.includes(\"termsandconditions\")?/*#__PURE__*/React.createElement(Route,{render:()=>/*#__PURE__*/React.createElement(Suspense,{fallback:renderAuthFallbackLoader()},/*#__PURE__*/React.createElement(TermsAndConditions,{exact:true,path:\"/termsandconditions\"}))}):cartPageOpened===\"GuestCheckout\"||cartPageOpened===\"ConfirmationPage\"||location.pathname.includes(\"consentform\")?/*#__PURE__*/React.createElement(Route,{render:()=>/*#__PURE__*/React.createElement(Suspense,{fallback:renderCartRoutesFallbackLoader()},/*#__PURE__*/React.createElement(CheckoutRouter,{path:\"/checkout\"}))}):cartPageOpened===\"PaymentInfo\"?/*#__PURE__*/React.createElement(Suspense,{fallback:renderCartRoutesFallbackLoader()},/*#__PURE__*/React.createElement(PaymentInfo,{exact:true,path:\"/paymentinfo\",getClientData:getClientData?getClientData:null,clientDataRefetch:clientDataRefetch,initialScreenSize:initialScreenSize,currentScreenSize:currentScreenSize})):null}),/*#__PURE__*/React.createElement(Route,{render:()=>/*#__PURE__*/React.createElement(Redirect,{to:\"/\"})})));};const rootElement=document.getElementById(\"root\");Modal.setAppElement(rootElement);ReactDOM.render(/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Provider,{store:store},/*#__PURE__*/React.createElement(ApolloProvider,{client:apolloClient},/*#__PURE__*/React.createElement(AliveScope,null,/*#__PURE__*/React.createElement(App,null))))),rootElement);","map":{"version":3,"sources":["D:/WebProjects/Barbershops/HighEnd/Client/src/index.js"],"names":["React","useRef","useState","useLayoutEffect","useEffect","useMemo","useCallback","Suspense","ReactDOM","ApolloProvider","useMutation","useQuery","Spring","Transition","Modal","createStore","applyMiddleware","Provider","useSelector","useDispatch","thunk","composeWithDevTools","RootReducer","LandingPage","FollowUs","ContactUs","AllTreatments","AllAddOns","ShoppingCart","smoothscroll","Cookies","jwt","BrowserRouter","Router","Switch","Route","useLocation","Redirect","Link","KeepAlive","AliveScope","toast","getClientQuery","getEmployeeQuery","getEmployeesQuery","updateClientInvalidateTokensMutation","updateEmployeeInvalidateTokensMutation","getUpdatedEmployeeSubscription","apolloClient","faTimes","FontAwesomeIcon","css","ClipLoader","BounceLoader","isAndroid","scroller","ResponsiveNavigationBar","CookieBanner","isEqual","ACTION_CART_IS_NOT_ACTIVE","ACTION_NAVBAR_NOT_VISIBLE","ACTION_NAVBAR_IS_VISIBLE","ACTION_NAVBAR_TOGGLE_RESET","ACTION_NAVBAR_TOGGLE","ACTION_BODY_SCROLL_ALLOW","ACTION_BODY_SCROLL_RESET","ACTION_USER_AUTHENTICATED","ACTION_USER_NOT_AUTHENTICATED","ACTION_LOG_OUT_CLICKED_RESET","ACTION_FACEBOOK_COMPLETE_REGISTRATION","ACTION_FACEBOOK_COMPLETE_REGISTRATION_RESET","ACTION_DUMMY_TOKEN","ACTION_DUMMY_TOKEN_RESET","ACTION_ADMIN_DUMMY_TOKEN","ACTION_ADMIN_DUMMY_TOKEN_RESET","ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN","ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN_RESET","ACTION_ADMIN_AUTHENTICATED","ACTION_ADMIN_NOT_AUTHENTICATED","ACTION_APPOINTMENT_NOTES_RESET","ACTION_PHONE_NOT_INVALID","ACTION_PHONE_NOT_VALID","ACTION_REFORMATTED_DAY_CLONE_RESET","ACTION_REFORMATTED_DAY_RESET","ACTION_TREATMENTS_CART_RESET","ACTION_ALL_COLLAPSE_RESET","ACTION_FINAL_BOOKING_MODAL_RESET","ACTION_SELECTED_SALT_CAVE_DURATION_RESET","ACTION_SELECTED_ESTHETICIAN_RESET","ACTION_SELECTED_DAY_RESET","ACTION_SELECTED_TIME_RESET","ACTION_SELECT_TIME_NOT_ACTIVE","ACTION_TOTAL_DURATION_RESET","ACTION_CART_PAGE_OPENED","ACTION_AVAILABILITY_RESET","ACTION_BOOKING_SUMMARY_NOT_ACTIVE","ACTION_CONTINUE_BUTTON_RESET","ACTION_EMAIL_NOT_VALID","ACTION_EMAIL_NOT_INVALID","ACTION_FINAL_BOOK_BUTTON_RESET","ACTION_PHONE_NUMBER_RESET","ACTION_LAST_NAME_RESET","ACTION_FIRST_NAME_RESET","ACTION_EMAIL_RESET","ACTION_APPOINTMENT_END_TIME_RESET","ACTION_TOTAL_PRICE_RESET","ACTION_BACIAL_TOGGLE_RESET","ACTION_CALM_TOGGLE_RESET","ACTION_CBD_TOGGLE_RESET","ACTION_CHEMICAL_PEEL_TOGGLE_RESET","ACTION_CLARIFY_TOGGLE_RESET","ACTION_DERMAPLANING_TOGGLE_RESET","ACTION_GLOW_TOGGLE_RESET","ACTION_MICRONEEDLE_TOGGLE_RESET","ACTION_QUENCH_TOGGLE_RESET","ACTION_QUICKIE_TOGGLE_RESET","ACTION_REJUVENATE_TOGGLE_RESET","ACTION_SALT_CAVE_TOGGLE_RESET","ACTION_BEARD_TOGGLE_RESET","ACTION_DERMAROLLING_TOGGLE_RESET","ACTION_EXTRA_EXTRACTIONS_TOGGLE_RESET","ACTION_GUASHA_TOGGLE_RESET","ACTION_HYDRO_JELLY_TOGGLE_RESET","ACTION_LED_THERAPY_TOGGLE_RESET","ACTION_MICROCURRENT_TOGGLE_RESET","ACTION_MICRODERMABRASION_TOGGLE_RESET","ACTION_NANONEEDLING_TOGGLE_RESET","ACTION_GUEST_CONSENT_FORM_ACCESS_TOKEN","ACTION_DAY_OF_THE_WEEK_RESET","ACTION_CART_IS_ACTIVE","ACTION_ASSIGN_ADMIN_NOTIFICATIONS","ACTION_RESET_ADMIN_NOTIFICATIONS","ACTION_ON_ACTIVITY_PAGE","ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION","ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION_RESET","Availability","lazy","TimePreference","GuestCheckout","ConfirmationPage","AvailabilityRouter","PaymentInfo","CheckoutRouter","AdminRouter","AccountRouter","PrivacyPolicy","TermsAndConditions","require","config","polyfill","middleware","store","process","env","REACT_APP_NODE_ENV","App","location","LandingPageRef","Treatments1Ref","AddOnsRef","InstagramRef","ContactRef","shoppingCartRef","MainContainerRef","window","innerWidth","initialScreenSize","currentScreenSize","changeCurrentScreenSize","innerHeight","initialScreenHeight","currentScreenHeight","changeCurrentScreenHeight","pageYOffset","previousScrollPosition","setPreviousScrollPosition","scrollValue","changeScrollValue","scrollDirection","changeScrollDirection","navMenuScrollClicked","changeNavMenuScrollClicked","headerOffset","changeHeaderOffset","largeScreenFrozenScrollPosition","changeLargeScreenFrozenScrollPosition","navbarVisible","state","navbarIsVisibleReducer","visible","navbarToggle","toggle","scroll","scrollToggle","cartIsActive","splashScreenHalfway","splashScreenComplete","touchScaling","fingerTouchScaling","touch_scaling","finalBookButtonActive","finalBookButton","final_book_button_active","loginIsActive","login_is_active","logoutClicked","log_out_clicked","userAuthenticated","user_authenticated","dummyToken","dummy_token","adminDummyToken","admin_dummy_token","adminAuthenticated","admin_authenticated","adminTemporaryDummyToken","admin_temporary_dummy_token","adminNotificationSubscription","notification_subscription","cartPageOpened","cart_page_opened","finalBookingModal","final_booking_modal","guestConsentFormAccessToken","access_token","adminNotifications","notifications","loadingSpinnerActive","changeLoadingSpinnerActive","treatmentsPageInView","changeTreatmentsPageInView","loggingOut","changeLoggingOut","splashScreenLogoDone","changeSplashScreenLogoDone","cookieBannerVisible","changeCookieBannerVisible","redirectActive","changeRedirectActive","cartSlideDelay","changeCartSlideDelay","updateClientInvalidateTokens","appLoading","loading","clientLogoutData","data","updateEmployeeInvalidateTokens","adminLogoutAppLoading","employeeLogoutData","dispatch","fetchPolicy","variables","_id","id","getClientData","getClientError","error","clientDataRefetch","refetch","getEmployeesData","getEmployeesLoading","getEmployeesError","getEmployeesRefetch","getEmployeeData","getEmployeeError","getEmployeeLoading","employeeDataRefetch","employeeSubscribeToMore","subscribeToMore","employee","length","employeeNotifications","slice","sort","a","b","Date","parseInt","substring","subscription","document","updateQuery","prev","subscriptionData","getUpdatedEmployee","pathname","includes","documentElement","style","setProperty","metaViewport","querySelector","setAttribute","redirectToHome","redirectToRoot","body","background","currentDummyToken","temporaryFacebookDummyToken","currentAdminDummyToken","temporaryAdminDummyToken","currentGuestConsentFormAccessToken","checkCookies","get","decode","setInterval","handleNavbarToggle","dismiss","updateSize","addEventListener","removeEventListener","scrollFunction","element","scrollTo","duration","smooth","isDynamic","offset","containerId","handleNavMenuScrollClick","setTimeout","handleClickToScrollToHome","handleClickToScrollToTreatments","source","handleClickToScrollToAddOns","handleClickToScrollToInstagram","handleClickToScrollToContact","ref","handleScroll","currentScrollPosition","refVar","current","handleLogout","successfulLogout","clearTimeout","override","redirectToCartRoutes","resetAllCartStates","resetAllCartStatesExceptTreatments","shoppingCartConditionalActiveRendering","scrollY","renderCartRoutesFallbackLoader","largeScreenShoppingCartRender","transform","styleprops","props","slideDelay","renderSlideInShoppingCartContainer","item","display","backdropFilter","WebkitBackdropFilter","transition","zIndex","e","target","className","classList","remove","add","root","getElementsByTagName","treatmentsPageIsVisibleFunction","treatmentsPageIsNotVisibleFunction","handleScrollDirection","scrollTop","headerOffsetInterval","currentRef","Math","abs","offsetWidth","clientWidth","clearInterval","styleSheets","cssRules","cssText","insertRule","deleteRule","renderAuthFallbackLoader","content","position","opacity","height","paddingBottom","borderRadius","width","top","left","right","bottom","border","flexDirection","alignItems","justifyContent","fontFamily","marginTop","delay","styles","paddingTop","overflow","rootElement","getElementById","setAppElement","render"],"mappings":"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","sourcesContent":["import React, {\r\n  useRef,\r\n  useState,\r\n  useLayoutEffect,\r\n  useEffect,\r\n  useMemo,\r\n  useCallback,\r\n  Suspense,\r\n} from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { ApolloProvider, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { Spring, Transition } from \"react-spring/renderprops\";\r\nimport Modal from \"react-modal\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport { Provider, useSelector, useDispatch } from \"react-redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport RootReducer from \"./RootReducer\";\r\nimport LandingPage from \"./components/landing_page/LandingPage\";\r\nimport FollowUs from \"./components/follow_us/FollowUs\";\r\nimport ContactUs from \"./components/contact_us/ContactUs\";\r\nimport AllTreatments from \"./components/all_treatments/AllTreatments\";\r\nimport AllAddOns from \"./components/all_add_ons/AllAddOns\";\r\nimport ShoppingCart from \"./components/shopping_cart/ShoppingCart\";\r\nimport * as smoothscroll from \"smoothscroll-polyfill\";\r\nimport Cookies from \"js-cookie\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  useLocation,\r\n  Redirect,\r\n  Link,\r\n} from \"react-router-dom\";\r\nimport KeepAlive, { AliveScope } from \"react-activation\";\r\nimport { toast } from \"react-toastify\";\r\nimport getClientQuery from \"./graphql/queries/getClientQuery\";\r\nimport getEmployeeQuery from \"./graphql/queries/getEmployeeQuery\";\r\nimport getEmployeesQuery from \"./graphql/queries/getEmployeesQuery\";\r\nimport updateClientInvalidateTokensMutation from \"./graphql/mutations/updateClientInvalidateTokensMutation\";\r\nimport updateEmployeeInvalidateTokensMutation from \"./graphql/mutations/updateEmployeeInvalidateTokensMutation\";\r\nimport getUpdatedEmployeeSubscription from \"./graphql/subscriptions/getUpdatedEmployeeSubscription\";\r\nimport apolloClient from \"./apolloClient\";\r\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { css } from \"@emotion/css\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport BounceLoader from \"react-spinners/BounceLoader\";\r\nimport { isAndroid } from \"react-device-detect\";\r\nimport { scroller } from \"react-scroll\";\r\nimport ResponsiveNavigationBar from \"./components/responsive_nav_bar/ResponsiveNavigationBar\";\r\nimport CookieBanner from \"react-cookie-banner\";\r\nimport isEqual from \"lodash.isequal\";\r\nimport ACTION_CART_IS_NOT_ACTIVE from \"./actions/CartIsActive/ACTION_CART_IS_NOT_ACTIVE\";\r\nimport ACTION_NAVBAR_NOT_VISIBLE from \"./actions/NavbarIsVisible/ACTION_NAVBAR_NOT_VISIBLE\";\r\nimport ACTION_NAVBAR_IS_VISIBLE from \"./actions/NavbarIsVisible/ACTION_NAVBAR_IS_VISIBLE\";\r\nimport ACTION_NAVBAR_TOGGLE_RESET from \"./actions/Nav/ACTION_NAVBAR_TOGGLE_RESET\";\r\nimport ACTION_NAVBAR_TOGGLE from \"./actions/Nav/ACTION_NAVBAR_TOGGLE\";\r\nimport ACTION_BODY_SCROLL_ALLOW from \"./actions/Body_Scroll/ACTION_BODY_SCROLL_ALLOW\";\r\nimport ACTION_BODY_SCROLL_RESET from \"./actions/Body_Scroll/ACTION_BODY_SCROLL_RESET\";\r\nimport ACTION_USER_AUTHENTICATED from \"./actions/Authenticated/ACTION_USER_AUTHENTICATED\";\r\nimport ACTION_USER_NOT_AUTHENTICATED from \"./actions/Authenticated/ACTION_USER_NOT_AUTHENTICATED\";\r\nimport ACTION_LOG_OUT_CLICKED_RESET from \"./actions/LogOut/ACTION_LOG_OUT_CLICKED_RESET\";\r\nimport ACTION_FACEBOOK_COMPLETE_REGISTRATION from \"./actions/Login/FacebookCompleteRegistration/ACTION_FACEBOOK_COMPLETE_REGISTRATION\";\r\nimport ACTION_FACEBOOK_COMPLETE_REGISTRATION_RESET from \"./actions/Login/FacebookCompleteRegistration/ACTION_FACEBOOK_COMPLETE_REGISTRATION_RESET\";\r\nimport ACTION_DUMMY_TOKEN from \"./actions/Login/DummyToken/ACTION_DUMMY_TOKEN\";\r\nimport ACTION_DUMMY_TOKEN_RESET from \"./actions/Login/DummyToken/ACTION_DUMMY_TOKEN_RESET\";\r\nimport ACTION_ADMIN_DUMMY_TOKEN from \"./actions/Admin/AdminLogin/AdminDummyToken/ACTION_ADMIN_DUMMY_TOKEN\";\r\nimport ACTION_ADMIN_DUMMY_TOKEN_RESET from \"./actions/Admin/AdminLogin/AdminDummyToken/ACTION_ADMIN_DUMMY_TOKEN_RESET\";\r\nimport ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN from \"./actions/Admin/AdminLogin/AdminTemporaryDummyToken/ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN\";\r\nimport ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN_RESET from \"./actions/Admin/AdminLogin/AdminTemporaryDummyToken/ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN_RESET\";\r\nimport ACTION_ADMIN_AUTHENTICATED from \"./actions/Admin/AdminLogin/AdminAuthenticated/ACTION_ADMIN_AUTHENTICATED\";\r\nimport ACTION_ADMIN_NOT_AUTHENTICATED from \"./actions/Admin/AdminLogin/AdminAuthenticated/ACTION_NOT_AUTHENTICATED\";\r\nimport ACTION_APPOINTMENT_NOTES_RESET from \"./actions/GuestCheckoutForm/AppointmentNotes/ACTION_APPOINTMENT_NOTES_RESET\";\r\nimport ACTION_PHONE_NOT_INVALID from \"./actions/PhoneNumberValidation/Invalid/ACTION_PHONE_NOT_INVALID\";\r\nimport ACTION_PHONE_NOT_VALID from \"./actions/PhoneNumberValidation/Valid/ACTION_PHONE_NOT_VALID\";\r\nimport ACTION_REFORMATTED_DAY_CLONE_RESET from \"./actions/SelectedDay/ReformattedDayClone/ACTION_REFORMATTED_DAY_CLONE_RESET\";\r\nimport ACTION_REFORMATTED_DAY_RESET from \"./actions/SelectedDay/ReformattedDay/ACTION_REFORMATTED_DAY_RESET\";\r\nimport ACTION_TREATMENTS_CART_RESET from \"./actions/InCart/Treatments/ACTION_TREATMENTS_CART_RESET\";\r\nimport ACTION_ALL_COLLAPSE_RESET from \"./actions/SelectedTime/CollapseIsOpen/ACTION_ALL_COLLAPSE_RESET\";\r\nimport ACTION_FINAL_BOOKING_MODAL_RESET from \"./actions/InCart/FinalBookingModal/ACTION_FINAL_BOOKING_MODAL_RESET\";\r\nimport ACTION_SELECTED_SALT_CAVE_DURATION_RESET from \"./actions/Treatments/SaltCave/SaltCaveDuration/ACTION_SELECTED_SALT_CAVE_DURATION_RESET\";\r\nimport ACTION_SELECTED_ESTHETICIAN_RESET from \"./actions/SelectedEsthetician/ACTION_SELECTED_ESTHETICIAN_RESET\";\r\nimport ACTION_SELECTED_DAY_RESET from \"./actions/SelectedDay/ACTION_SELECTED_DAY_RESET\";\r\nimport ACTION_SELECTED_TIME_RESET from \"./actions/SelectedTime/ACTION_SELECTED_TIME_RESET\";\r\nimport ACTION_SELECT_TIME_NOT_ACTIVE from \"./actions/SelectTimeActive/ACTION_SELECT_TIME_NOT_ACTIVE\";\r\nimport ACTION_TOTAL_DURATION_RESET from \"./actions/TotalDuration/ACTION_TOTAL_DURATION_RESET\";\r\nimport ACTION_CART_PAGE_OPENED from \"./actions/InCart/CartPageOpened/ACTION_CART_PAGE_OPENED\";\r\nimport ACTION_AVAILABILITY_RESET from \"./actions/AvailabilityClicked/ACTION_AVAILABILITY_RESET\";\r\nimport ACTION_BOOKING_SUMMARY_NOT_ACTIVE from \"./actions/ContinueToBookingSummaryButtonActive/ACTION_BOOKING_SUMMARY_NOT_ACTIVE\";\r\nimport ACTION_CONTINUE_BUTTON_RESET from \"./actions/ContinueToCheckoutButtonActive/ACTION_CONTINUE_BUTTON_RESET\";\r\nimport ACTION_EMAIL_NOT_VALID from \"./actions/EmailValidation/Valid/ACTION_EMAIL_NOT_VALID\";\r\nimport ACTION_EMAIL_NOT_INVALID from \"./actions/EmailValidation/Invalid/ACTION_EMAIL_NOT_INVALID\";\r\nimport ACTION_FINAL_BOOK_BUTTON_RESET from \"./actions/FinalBookButton/ACTION_FINAL_BOOK_BUTTON_RESET\";\r\nimport ACTION_PHONE_NUMBER_RESET from \"./actions/GuestCheckoutForm/PhoneNumber/ACTION_PHONE_NUMBER_RESET\";\r\nimport ACTION_LAST_NAME_RESET from \"./actions/GuestCheckoutForm/LastName/ACTION_LAST_NAME_RESET\";\r\nimport ACTION_FIRST_NAME_RESET from \"./actions/GuestCheckoutForm/FirstName/ACTION_FIRST_NAME_RESET\";\r\nimport ACTION_EMAIL_RESET from \"./actions/GuestCheckoutForm/Email/ACTION_EMAIL_RESET\";\r\nimport ACTION_APPOINTMENT_END_TIME_RESET from \"./actions/AppointmentEndTime/ACTION_APPOINTMENT_END_TIME_RESET\";\r\nimport ACTION_TOTAL_PRICE_RESET from \"./actions/TotalPrice/ACTION_TOTAL_PRICE_RESET\";\r\nimport ACTION_BACIAL_TOGGLE_RESET from \"./actions/Treatments/Bacial/ACTION_BACIAL_TOGGLE_RESET\";\r\nimport ACTION_CALM_TOGGLE_RESET from \"./actions/Treatments/Calm/ACTION_CALM_TOGGLE_RESET\";\r\nimport ACTION_CBD_TOGGLE_RESET from \"./actions/Treatments/CBD/ACTION_CBD_TOGGLE_RESET\";\r\nimport ACTION_CHEMICAL_PEEL_TOGGLE_RESET from \"./actions/Treatments/ChemicalPeel/ACTION_CHEMICAL_PEEL_TOGGLE_RESET\";\r\nimport ACTION_CLARIFY_TOGGLE_RESET from \"./actions/Treatments/Clarify/ACTION_CLARIFY_TOGGLE_RESET\";\r\nimport ACTION_DERMAPLANING_TOGGLE_RESET from \"./actions/Treatments/Dermaplaning/ACTION_DERMAPLANING_TOGGLE_RESET\";\r\nimport ACTION_GLOW_TOGGLE_RESET from \"./actions/Treatments/Glow/ACTION_GLOW_TOGGLE_RESET\";\r\nimport ACTION_MICRONEEDLE_TOGGLE_RESET from \"./actions/Treatments/Microneedle/ACTION_MICRONEEDLE_TOGGLE_RESET\";\r\nimport ACTION_QUENCH_TOGGLE_RESET from \"./actions/Treatments/Quench/ACTION_QUENCH_TOGGLE_RESET\";\r\nimport ACTION_QUICKIE_TOGGLE_RESET from \"./actions/Treatments/Quickie/ACTION_QUICKIE_TOGGLE_RESET\";\r\nimport ACTION_REJUVENATE_TOGGLE_RESET from \"./actions/Treatments/Rejuvenate/ACTION_REJUVENATE_TOGGLE_RESET\";\r\nimport ACTION_SALT_CAVE_TOGGLE_RESET from \"./actions/Treatments/SaltCave/ACTION_SALT_CAVE_TOGGLE_RESET\";\r\nimport ACTION_BEARD_TOGGLE_RESET from \"./actions/AddOns/Beard/ACTION_BEARD_TOGGLE_RESET\";\r\nimport ACTION_DERMAROLLING_TOGGLE_RESET from \"./actions/AddOns/Dermarolling/ACTION_DERMAROLLING_TOGGLE_RESET\";\r\nimport ACTION_EXTRA_EXTRACTIONS_TOGGLE_RESET from \"./actions/AddOns/ExtraExtractions/ACTION_EXTRA_EXTRACTIONS_TOGGLE_RESET\";\r\nimport ACTION_GUASHA_TOGGLE_RESET from \"./actions/AddOns/GuaSha/ACTION_GUASHA_TOGGLE_RESET\";\r\nimport ACTION_HYDRO_JELLY_TOGGLE_RESET from \"./actions/AddOns/HydroJellyMask/ACTION_HYDRO_JELLY_TOGGLE_RESET\";\r\nimport ACTION_LED_THERAPY_TOGGLE_RESET from \"./actions/AddOns/LEDTherapy/ACTION_LED_THERAPY_TOGGLE_RESET\";\r\nimport ACTION_MICROCURRENT_TOGGLE_RESET from \"./actions/AddOns/Microcurrent/ACTION_MICROCURRENT_TOGGLE_RESET\";\r\nimport ACTION_MICRODERMABRASION_TOGGLE_RESET from \"./actions/AddOns/Microdermabrasion/ACTION_MICRODERMABRASION_TOGGLE_RESET\";\r\nimport ACTION_NANONEEDLING_TOGGLE_RESET from \"./actions/AddOns/Nanoneedling/ACTION_NANONEEDLING_TOGGLE_RESET\";\r\nimport ACTION_GUEST_CONSENT_FORM_ACCESS_TOKEN from \"./actions/ConsentForm/GuestConsentFormAccessToken/ACTION_GUEST_CONSENT_FORM_ACCESS_TOKEN\";\r\nimport ACTION_DAY_OF_THE_WEEK_RESET from \"./actions/SelectedDay/DayOfTheWeek/ACTION_DAY_OF_THE_WEEK_RESET\";\r\nimport ACTION_CART_IS_ACTIVE from \"./actions/CartIsActive/ACTION_CART_IS_ACTIVE\";\r\nimport ACTION_ASSIGN_ADMIN_NOTIFICATIONS from \"./actions/Admin/Notifications/ACTION_ASSIGN_ADMIN_NOTIFICATIONS\";\r\nimport ACTION_RESET_ADMIN_NOTIFICATIONS from \"./actions/Admin/Notifications/ACTION_RESET_ADMIN_NOTIFICATIONS\";\r\nimport ACTION_ON_ACTIVITY_PAGE from \"./actions/Admin/OnActivityPage/ACTION_ON_ACTIVITY_PAGE\";\r\nimport ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION from \"./actions/Admin/AdminNotificationSubscription/ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION\";\r\nimport ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION_RESET from \"./actions/Admin/AdminNotificationSubscription/ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION_RESET\";\r\nimport \"./styles.css\";\r\n\r\n// Lazy-loaded Routes\r\nconst Availability = React.lazy(() =>\r\n  import(\"./components/availability/Date/Availability\")\r\n);\r\nconst TimePreference = React.lazy(() =>\r\n  import(\"./components/availability/Time/TimePreference\")\r\n);\r\nconst GuestCheckout = React.lazy(() =>\r\n  import(\"./components/checkout/GuestCheckout\")\r\n);\r\nconst ConfirmationPage = React.lazy(() =>\r\n  import(\"./components/checkout/ConfirmationPage\")\r\n);\r\nconst AvailabilityRouter = React.lazy(() =>\r\n  import(\"./components/availability/AvailabilityRouter\")\r\n);\r\nconst PaymentInfo = React.lazy(() =>\r\n  import(\"./components/payment_info/PaymentInfo\")\r\n);\r\nconst CheckoutRouter = React.lazy(() =>\r\n  import(\"./components/checkout/CheckoutRouter\")\r\n);\r\nconst AdminRouter = React.lazy(() => import(\"./components/admin/AdminRouter\"));\r\nconst AccountRouter = React.lazy(() =>\r\n  import(\"./components/account/AccountRouter\")\r\n);\r\nconst PrivacyPolicy = React.lazy(() =>\r\n  import(\"./components/privacy/PrivacyPolicy\")\r\n);\r\nconst TermsAndConditions = React.lazy(() =>\r\n  import(\"./components/privacy/TermsAndConditions\")\r\n);\r\n\r\nrequire(\"dotenv\").config();\r\nrequire(\"intersection-observer\");\r\n\r\nsmoothscroll.polyfill();\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  RootReducer,\r\n  process.env.REACT_APP_NODE_ENV === \"production\"\r\n    ? applyMiddleware(...middleware)\r\n    : composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nconst App = () => {\r\n  const location = useLocation();\r\n\r\n  const LandingPageRef = useRef(null);\r\n  const Treatments1Ref = useRef(null);\r\n  const AddOnsRef = useRef(null);\r\n  const InstagramRef = useRef(null);\r\n  const ContactRef = useRef(null);\r\n  const shoppingCartRef = useRef(null);\r\n  const MainContainerRef = useRef(null);\r\n  // Browser width on initial opening of app\r\n  const [initialScreenSize] = useState(window.innerWidth);\r\n  // Current browser width if different from initial browser width\r\n  const [currentScreenSize, changeCurrentScreenSize] = useState(\"\");\r\n  // Browser height on initial opening of app\r\n  const [initialScreenHeight] = useState(window.innerHeight);\r\n  // Current browser height if different from initial browser height\r\n  const [currentScreenHeight, changeCurrentScreenHeight] = useState(\"\");\r\n  const [previousScrollPosition, setPreviousScrollPosition] = useState(\r\n    window.pageYOffset\r\n  );\r\n  const [scrollValue, changeScrollValue] = useState(0);\r\n  const [scrollDirection, changeScrollDirection] = useState(\"\");\r\n  const [navMenuScrollClicked, changeNavMenuScrollClicked] = useState(false);\r\n  const [headerOffset, changeHeaderOffset] = useState(0);\r\n\r\n  // Needed for large screen frozen position when cart is toggled due to Square form causing re-rendering\r\n  const [\r\n    largeScreenFrozenScrollPosition,\r\n    changeLargeScreenFrozenScrollPosition,\r\n  ] = useState(\"\");\r\n\r\n  const navbarVisible = useSelector(\r\n    (state) => state.navbarIsVisibleReducer.visible\r\n  );\r\n  const navbarToggle = useSelector((state) => state.navbarToggle.toggle);\r\n  const scroll = useSelector((state) => state.scrollToggle.scroll);\r\n  const cartIsActive = useSelector((state) => state.cartIsActive.cartIsActive);\r\n  const splashScreenHalfway = useSelector(\r\n    (state) => state.splashScreenHalfway.splashScreenHalfway\r\n  );\r\n  const splashScreenComplete = useSelector(\r\n    (state) => state.splashScreenComplete.splashScreenComplete\r\n  );\r\n  const touchScaling = useSelector(\r\n    (state) => state.fingerTouchScaling.touch_scaling\r\n  );\r\n  const finalBookButtonActive = useSelector(\r\n    (state) => state.finalBookButton.final_book_button_active\r\n  );\r\n  const loginIsActive = useSelector(\r\n    (state) => state.loginIsActive.login_is_active\r\n  );\r\n  const logoutClicked = useSelector(\r\n    (state) => state.logoutClicked.log_out_clicked\r\n  );\r\n\r\n  const userAuthenticated = useSelector(\r\n    (state) => state.userAuthenticated.user_authenticated\r\n  );\r\n  const dummyToken = useSelector((state) => state.dummyToken.dummy_token);\r\n  const adminDummyToken = useSelector(\r\n    (state) => state.adminDummyToken.admin_dummy_token\r\n  );\r\n  const adminAuthenticated = useSelector(\r\n    (state) => state.adminAuthenticated.admin_authenticated\r\n  );\r\n  const adminTemporaryDummyToken = useSelector(\r\n    (state) => state.adminTemporaryDummyToken.admin_temporary_dummy_token\r\n  );\r\n  const adminNotificationSubscription = useSelector(\r\n    (state) => state.adminNotificationSubscription.notification_subscription\r\n  );\r\n  const cartPageOpened = useSelector(\r\n    (state) => state.cartPageOpened.cart_page_opened\r\n  );\r\n  const finalBookingModal = useSelector(\r\n    (state) => state.finalBookingModal.final_booking_modal\r\n  );\r\n  const guestConsentFormAccessToken = useSelector(\r\n    (state) => state.guestConsentFormAccessToken.access_token\r\n  );\r\n  const adminNotifications = useSelector(\r\n    (state) => state.adminNotifications.notifications\r\n  );\r\n\r\n  const [loadingSpinnerActive, changeLoadingSpinnerActive] = useState(false);\r\n  const [treatmentsPageInView, changeTreatmentsPageInView] = useState(false);\r\n  const [loggingOut, changeLoggingOut] = useState(false);\r\n  const [splashScreenLogoDone, changeSplashScreenLogoDone] = useState(false);\r\n  const [cookieBannerVisible, changeCookieBannerVisible] = useState(false);\r\n\r\n  const [redirectActive, changeRedirectActive] = useState(false);\r\n\r\n  // For large screen shopping cart slide-in\r\n  const [cartSlideDelay, changeCartSlideDelay] = useState(false);\r\n\r\n  const [\r\n    updateClientInvalidateTokens,\r\n    { loading: appLoading, data: clientLogoutData },\r\n  ] = useMutation(updateClientInvalidateTokensMutation);\r\n\r\n  const [\r\n    updateEmployeeInvalidateTokens,\r\n    { loading: adminLogoutAppLoading, data: employeeLogoutData },\r\n  ] = useMutation(updateEmployeeInvalidateTokensMutation);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const {\r\n    data: getClientData,\r\n    error: getClientError,\r\n    refetch: clientDataRefetch,\r\n  } = useQuery(getClientQuery, {\r\n    fetchPolicy: \"no-cache\",\r\n    variables: {\r\n      _id: dummyToken\r\n        ? dummyToken.id\r\n        : guestConsentFormAccessToken\r\n        ? guestConsentFormAccessToken.id\r\n        : null,\r\n    },\r\n  });\r\n\r\n  const {\r\n    data: getEmployeesData,\r\n    loading: getEmployeesLoading,\r\n    error: getEmployeesError,\r\n    refetch: getEmployeesRefetch,\r\n  } = useQuery(getEmployeesQuery, {\r\n    fetchPolicy: \"no-cache\",\r\n  });\r\n\r\n  const {\r\n    data: getEmployeeData,\r\n    error: getEmployeeError,\r\n    loading: getEmployeeLoading,\r\n    refetch: employeeDataRefetch,\r\n    subscribeToMore: employeeSubscribeToMore,\r\n  } = useQuery(getEmployeeQuery, {\r\n    variables: {\r\n      _id: adminTemporaryDummyToken\r\n        ? adminTemporaryDummyToken.id\r\n        : adminDummyToken\r\n        ? adminDummyToken.id\r\n        : null,\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (getEmployeeData) {\r\n      if (getEmployeeData.employee) {\r\n        if (getEmployeeData.employee.notifications) {\r\n          if (getEmployeeData.employee.notifications.length > 0) {\r\n            const employeeNotifications = getEmployeeData.employee.notifications.slice();\r\n\r\n            // Sort by most recent\r\n            dispatch(\r\n              ACTION_ASSIGN_ADMIN_NOTIFICATIONS(\r\n                employeeNotifications.sort(\r\n                  (a, b) =>\r\n                    new Date(\r\n                      parseInt(b._id.substring(0, 8), 16) * 1000 -\r\n                        new Date(parseInt(a._id.substring(0, 8), 16) * 1000)\r\n                    )\r\n                )\r\n              )\r\n            );\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, [dispatch, getEmployeeData]);\r\n\r\n  useEffect(() => {\r\n    if (adminDummyToken) {\r\n      if (!adminNotificationSubscription) {\r\n        // Subscribe to notifications\r\n        const subscription = employeeSubscribeToMore({\r\n          document: getUpdatedEmployeeSubscription,\r\n          variables: {\r\n            _id: adminDummyToken.id,\r\n          },\r\n          updateQuery: (prev, { subscriptionData }) => {\r\n            if (subscriptionData.data) {\r\n              if (subscriptionData.data.getUpdatedEmployee) {\r\n                if (subscriptionData.data.getUpdatedEmployee.notifications) {\r\n                  if (\r\n                    subscriptionData.data.getUpdatedEmployee.notifications\r\n                      .length > 0 ||\r\n                    !isEqual(\r\n                      adminNotifications,\r\n                      subscriptionData.data.getUpdatedEmployee.notifications\r\n                    )\r\n                  ) {\r\n                    const employeeNotifications = subscriptionData.data.getUpdatedEmployee.notifications\r\n                      // Sort by most recent first\r\n                      .sort(\r\n                        (a, b) =>\r\n                          new Date(\r\n                            parseInt(b._id.substring(0, 8), 16) * 1000 -\r\n                              new Date(\r\n                                parseInt(a._id.substring(0, 8), 16) * 1000\r\n                              )\r\n                          )\r\n                      );\r\n\r\n                    dispatch(\r\n                      ACTION_ASSIGN_ADMIN_NOTIFICATIONS(employeeNotifications)\r\n                    );\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          },\r\n        });\r\n\r\n        dispatch(ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION(subscription));\r\n      }\r\n    } else {\r\n      if (adminNotificationSubscription) {\r\n        // Invoke to unsubscribe from notifications\r\n        adminNotificationSubscription();\r\n\r\n        dispatch(ACTION_ADMIN_NOTIFICATION_SUBSCRIPTION_RESET());\r\n      }\r\n    }\r\n  }, [\r\n    adminDummyToken,\r\n    employeeSubscribeToMore,\r\n    dispatch,\r\n    adminNotificationSubscription,\r\n    adminNotifications,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.includes(\"activity\")) {\r\n      dispatch(ACTION_ON_ACTIVITY_PAGE());\r\n    }\r\n  }, [location.pathname, dispatch]);\r\n\r\n  if (isAndroid) {\r\n    // Resets height to prevent Android keyboard input focus zoom\r\n    document.documentElement.style.setProperty(\"overflow\", \"auto\");\r\n    const metaViewport = document.querySelector(\"meta[name=viewport]\");\r\n    metaViewport.setAttribute(\r\n      \"content\",\r\n      \"height=\" +\r\n        initialScreenHeight +\r\n        \", width=device-width, initial-scale=1.0, shrink-to-fit=no, viewport-fit=cover\"\r\n    );\r\n  }\r\n\r\n  useMemo(() => {\r\n    if (getClientData) {\r\n      return false;\r\n    }\r\n  }, [getClientData]);\r\n\r\n  useMemo(() => {\r\n    if (getEmployeeData) {\r\n      return false;\r\n    }\r\n  }, [getEmployeeData]);\r\n\r\n  useEffect(() => {\r\n    if (cartIsActive) {\r\n      if (!navbarVisible) {\r\n        dispatch(ACTION_NAVBAR_IS_VISIBLE());\r\n      }\r\n    }\r\n  }, [cartIsActive, navbarVisible, dispatch]);\r\n\r\n  const redirectToHome = () => {\r\n    if (!splashScreenComplete) {\r\n      if (\r\n        !location.pathname.includes(\"account\") &&\r\n        !location.pathname.includes(\"admin\") &&\r\n        !location.pathname.includes(\"privacy\") &&\r\n        !location.pathname.includes(\"termsandconditions\") &&\r\n        location.pathname !== \"/api/auth/facebook/callback\"\r\n      )\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const redirectToRoot = () => {\r\n    if (redirectActive) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (cartIsActive) {\r\n      if (document.body.style.background !== \"rgb(255, 255, 255\") {\r\n        document.body.style.setProperty(\"background\", \"rgb(255, 255, 255)\");\r\n      }\r\n    }\r\n  }, [cartIsActive]);\r\n\r\n  useEffect(() => {\r\n    let currentDummyToken;\r\n    let temporaryFacebookDummyToken;\r\n    let currentAdminDummyToken;\r\n    let temporaryAdminDummyToken;\r\n    let currentGuestConsentFormAccessToken;\r\n\r\n    const checkCookies = () => {\r\n      if (\r\n        location.pathname === \"/\" ||\r\n        location.pathname.includes(\"privacy\") ||\r\n        location.pathname.includes(\"termsandconditions\")\r\n      ) {\r\n        if (\r\n          dummyToken ||\r\n          adminDummyToken ||\r\n          temporaryFacebookDummyToken ||\r\n          temporaryAdminDummyToken ||\r\n          guestConsentFormAccessToken\r\n        ) {\r\n          if (cookieBannerVisible) {\r\n            changeCookieBannerVisible(false);\r\n          }\r\n        } else {\r\n          if (splashScreenComplete && !cartIsActive) {\r\n            if (!Cookies.get(\"user-has-accepted-cookies\")) {\r\n              if (!cookieBannerVisible) {\r\n                changeCookieBannerVisible(true);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (\r\n        currentDummyToken !== Cookies.get(\"dummy-token\") ||\r\n        temporaryFacebookDummyToken !==\r\n          Cookies.get(\"temporary-facebook-dummy-token\") ||\r\n        currentAdminDummyToken !== Cookies.get(\"admin-dummy-token\") ||\r\n        temporaryAdminDummyToken !==\r\n          Cookies.get(\"temporary-admin-dummy-token\") ||\r\n        currentGuestConsentFormAccessToken !==\r\n          Cookies.get(\"guest-consent-form-access-token\")\r\n      ) {\r\n        currentDummyToken = Cookies.get(\"dummy-token\");\r\n        temporaryFacebookDummyToken = Cookies.get(\r\n          \"temporary-facebook-dummy-token\"\r\n        );\r\n        currentAdminDummyToken = Cookies.get(\"admin-dummy-token\");\r\n        temporaryAdminDummyToken = Cookies.get(\"temporary-admin-dummy-token\");\r\n        currentGuestConsentFormAccessToken = Cookies.get(\r\n          \"guest-consent-form-access-token\"\r\n        );\r\n\r\n        if (currentDummyToken) {\r\n          if (!dummyToken) {\r\n            dispatch(ACTION_DUMMY_TOKEN(jwt.decode(currentDummyToken)));\r\n          }\r\n          if (!userAuthenticated) {\r\n            dispatch(ACTION_USER_AUTHENTICATED());\r\n          }\r\n        } else {\r\n          dispatch(ACTION_DUMMY_TOKEN_RESET());\r\n          dispatch(ACTION_USER_NOT_AUTHENTICATED());\r\n          if (currentAdminDummyToken) {\r\n            if (!adminDummyToken) {\r\n              dispatch(\r\n                ACTION_ADMIN_DUMMY_TOKEN(jwt.decode(currentAdminDummyToken))\r\n              );\r\n            }\r\n\r\n            if (!adminAuthenticated) {\r\n              dispatch(ACTION_ADMIN_AUTHENTICATED());\r\n            }\r\n          } else if (temporaryAdminDummyToken) {\r\n            if (!adminTemporaryDummyToken) {\r\n              dispatch(\r\n                ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN(\r\n                  jwt.decode(temporaryAdminDummyToken)\r\n                )\r\n              );\r\n            }\r\n            if (adminAuthenticated) {\r\n              dispatch(ACTION_ADMIN_NOT_AUTHENTICATED());\r\n            }\r\n          } else {\r\n            if (adminTemporaryDummyToken) {\r\n              dispatch(ACTION_ADMIN_TEMPORARY_DUMMY_TOKEN_RESET());\r\n            }\r\n\r\n            if (adminAuthenticated) {\r\n              dispatch(ACTION_ADMIN_NOT_AUTHENTICATED());\r\n            }\r\n\r\n            if (temporaryFacebookDummyToken) {\r\n              dispatch(ACTION_FACEBOOK_COMPLETE_REGISTRATION());\r\n            } else {\r\n              dispatch(ACTION_FACEBOOK_COMPLETE_REGISTRATION_RESET());\r\n              if (currentGuestConsentFormAccessToken) {\r\n                dispatch(\r\n                  ACTION_GUEST_CONSENT_FORM_ACCESS_TOKEN(\r\n                    jwt.decode(currentGuestConsentFormAccessToken)\r\n                  )\r\n                );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    setInterval(checkCookies, 100);\r\n  }, [\r\n    dispatch,\r\n    adminAuthenticated,\r\n    cookieBannerVisible,\r\n    location.pathname,\r\n    splashScreenComplete,\r\n    userAuthenticated,\r\n    cartIsActive,\r\n    adminDummyToken,\r\n    dummyToken,\r\n    adminTemporaryDummyToken,\r\n    guestConsentFormAccessToken,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.includes(\"account\")) {\r\n      if (cartIsActive) {\r\n        dispatch(ACTION_CART_IS_NOT_ACTIVE());\r\n      }\r\n    }\r\n  }, [dispatch, location.pathname, cartIsActive]);\r\n\r\n  const handleNavbarToggle = () => {\r\n    if (!currentScreenSize) {\r\n      if (\r\n        initialScreenHeight > initialScreenSize ||\r\n        (initialScreenSize < 900 && initialScreenSize > initialScreenHeight)\r\n      ) {\r\n        if (navbarToggle) {\r\n          dispatch(ACTION_NAVBAR_TOGGLE_RESET());\r\n          dispatch(ACTION_NAVBAR_IS_VISIBLE());\r\n          dispatch(ACTION_BODY_SCROLL_ALLOW());\r\n        } else {\r\n          dispatch(ACTION_NAVBAR_TOGGLE());\r\n          dispatch(ACTION_BODY_SCROLL_RESET());\r\n          dispatch(ACTION_NAVBAR_IS_VISIBLE());\r\n          toast.dismiss();\r\n        }\r\n      }\r\n    } else {\r\n      if (\r\n        currentScreenHeight > currentScreenSize ||\r\n        (currentScreenSize < 900 && currentScreenSize > currentScreenHeight)\r\n      ) {\r\n        if (navbarToggle) {\r\n          dispatch(ACTION_NAVBAR_TOGGLE_RESET());\r\n          dispatch(ACTION_NAVBAR_IS_VISIBLE());\r\n          dispatch(ACTION_BODY_SCROLL_ALLOW());\r\n        } else {\r\n          dispatch(ACTION_NAVBAR_TOGGLE());\r\n          dispatch(ACTION_BODY_SCROLL_RESET());\r\n          dispatch(ACTION_NAVBAR_IS_VISIBLE());\r\n          toast.dismiss();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    const updateSize = () => {\r\n      if (!touchScaling) {\r\n        changeCurrentScreenSize(window.innerWidth);\r\n        changeCurrentScreenHeight(window.innerHeight);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"resize\", updateSize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", updateSize);\r\n    };\r\n  }, [currentScreenSize, initialScreenSize, touchScaling]);\r\n\r\n  const scrollFunction = (element) => {\r\n    scroller.scrollTo(element, {\r\n      duration: 500,\r\n      smooth: true,\r\n      isDynamic: true,\r\n      offset: -(!currentScreenHeight\r\n        ? initialScreenHeight * 0.07\r\n        : currentScreenHeight * 0.07),\r\n      containerId: \"main_container_element\",\r\n    });\r\n  };\r\n\r\n  const handleNavMenuScrollClick = () => {\r\n    changeNavMenuScrollClicked(true);\r\n\r\n    setTimeout(() => {\r\n      changeNavMenuScrollClicked(false);\r\n    }, 1000);\r\n  };\r\n\r\n  const handleClickToScrollToHome = () => {\r\n    if (location.pathname !== \"/\") {\r\n      changeRedirectActive(true);\r\n\r\n      setTimeout(() => {\r\n        changeRedirectActive(false);\r\n        scrollFunction(\"landing_page\");\r\n      }, 1000);\r\n    }\r\n\r\n    handleNavbarToggle();\r\n    handleNavMenuScrollClick();\r\n\r\n    scrollFunction(\"landing_page\");\r\n  };\r\n\r\n  const handleClickToScrollToTreatments = (source) => {\r\n    if (location.pathname !== \"/\") {\r\n      changeRedirectActive(true);\r\n\r\n      setTimeout(() => {\r\n        changeRedirectActive(false);\r\n        scrollFunction(\"treatments\");\r\n      }, 500);\r\n    }\r\n\r\n    if (!source) {\r\n      handleNavbarToggle();\r\n    }\r\n\r\n    handleNavMenuScrollClick();\r\n\r\n    scrollFunction(\"treatments\");\r\n  };\r\n\r\n  const handleClickToScrollToAddOns = () => {\r\n    if (location.pathname !== \"/\") {\r\n      changeRedirectActive(true);\r\n\r\n      setTimeout(() => {\r\n        changeRedirectActive(false);\r\n        scrollFunction(\"add_ons\");\r\n      }, 500);\r\n    }\r\n\r\n    handleNavbarToggle();\r\n    handleNavMenuScrollClick();\r\n\r\n    scrollFunction(\"add_ons\");\r\n  };\r\n\r\n  const handleClickToScrollToInstagram = () => {\r\n    if (location.pathname !== \"/\") {\r\n      changeRedirectActive(true);\r\n\r\n      setTimeout(() => {\r\n        changeRedirectActive(false);\r\n        scrollFunction(\"instagram\");\r\n      }, 500);\r\n    }\r\n\r\n    handleNavbarToggle();\r\n    handleNavMenuScrollClick();\r\n\r\n    scrollFunction(\"instagram\");\r\n  };\r\n\r\n  const handleClickToScrollToContact = () => {\r\n    if (location.pathname !== \"/\") {\r\n      changeRedirectActive(true);\r\n\r\n      setTimeout(() => {\r\n        changeRedirectActive(false);\r\n        scrollFunction(\"contact\");\r\n      }, 500);\r\n    }\r\n\r\n    handleNavbarToggle();\r\n    handleNavMenuScrollClick();\r\n\r\n    scrollFunction(\"contact\");\r\n  };\r\n\r\n  const ref = {\r\n    LandingPageRef: LandingPageRef,\r\n    Treatments1Ref: Treatments1Ref,\r\n    AddOnsRef: AddOnsRef,\r\n    InstagramRef: InstagramRef,\r\n    ContactRef: ContactRef,\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!cartIsActive) {\r\n      if (\r\n        !location.pathname.includes(\"account\") &&\r\n        !location.pathname.includes(\"admin\")\r\n      ) {\r\n        const handleScroll = () => {\r\n          const currentScrollPosition = scrollValue;\r\n\r\n          if (\r\n            previousScrollPosition < currentScrollPosition &&\r\n            previousScrollPosition > 0 &&\r\n            currentScrollPosition > 0\r\n          ) {\r\n            if (navbarVisible) {\r\n              if (navbarToggle) {\r\n                dispatch(ACTION_NAVBAR_IS_VISIBLE());\r\n              } else {\r\n                if (!navMenuScrollClicked) {\r\n                  dispatch(ACTION_NAVBAR_NOT_VISIBLE());\r\n                }\r\n              }\r\n\r\n              setPreviousScrollPosition(currentScrollPosition);\r\n            }\r\n          } else {\r\n            dispatch(ACTION_NAVBAR_IS_VISIBLE());\r\n          }\r\n        };\r\n\r\n        const refVar = MainContainerRef.current;\r\n\r\n        if (MainContainerRef) {\r\n          if (refVar) {\r\n            refVar.addEventListener(\"scroll\", handleScroll);\r\n            return () => refVar.removeEventListener(\"scroll\", handleScroll);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, [\r\n    scrollValue,\r\n    navMenuScrollClicked,\r\n    previousScrollPosition,\r\n    navbarVisible,\r\n    navbarToggle,\r\n    cartIsActive,\r\n    dispatch,\r\n    location.pathname,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      location.pathname.includes(\"cart\") ||\r\n      location.pathname.includes(\"availability\")\r\n    ) {\r\n      if (cartPageOpened !== \"\") {\r\n        dispatch(ACTION_CART_IS_ACTIVE());\r\n      }\r\n    }\r\n  }, [dispatch, location.pathname, cartPageOpened]);\r\n\r\n  useEffect(() => {\r\n    if (cartPageOpened === \"\") {\r\n      dispatch(ACTION_CART_IS_NOT_ACTIVE());\r\n    }\r\n  }, [cartPageOpened, dispatch]);\r\n\r\n  const handleLogout = () => {\r\n    if (adminDummyToken) {\r\n      updateEmployeeInvalidateTokens();\r\n      dispatch(ACTION_RESET_ADMIN_NOTIFICATIONS());\r\n      changeLoggingOut(true);\r\n    } else {\r\n      updateClientInvalidateTokens();\r\n      changeLoggingOut(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (employeeLogoutData) {\r\n      if (loggingOut) {\r\n        if (adminAuthenticated) {\r\n          dispatch(ACTION_ADMIN_NOT_AUTHENTICATED());\r\n        }\r\n        if (userAuthenticated) {\r\n          dispatch(ACTION_USER_NOT_AUTHENTICATED());\r\n        }\r\n        if (adminDummyToken) {\r\n          dispatch(ACTION_ADMIN_DUMMY_TOKEN_RESET());\r\n        }\r\n        if (dummyToken) {\r\n          dispatch(ACTION_DUMMY_TOKEN_RESET());\r\n        }\r\n        changeLoggingOut(false);\r\n      }\r\n    }\r\n  }, [\r\n    adminAuthenticated,\r\n    adminDummyToken,\r\n    dispatch,\r\n    dummyToken,\r\n    employeeLogoutData,\r\n    userAuthenticated,\r\n    loggingOut,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (clientLogoutData) {\r\n      if (loggingOut) {\r\n        if (userAuthenticated) {\r\n          dispatch(ACTION_USER_NOT_AUTHENTICATED());\r\n        }\r\n        changeLoggingOut(false);\r\n      }\r\n    }\r\n  }, [clientLogoutData, dispatch, userAuthenticated, loggingOut]);\r\n\r\n  useEffect(() => {\r\n    if (appLoading || adminLogoutAppLoading) {\r\n      changeLoadingSpinnerActive(true);\r\n      const successfulLogout = setTimeout(() => {\r\n        changeLoadingSpinnerActive(false);\r\n        dispatch(ACTION_LOG_OUT_CLICKED_RESET());\r\n        dispatch(ACTION_USER_NOT_AUTHENTICATED());\r\n      }, 1000);\r\n      return () => {\r\n        clearTimeout(successfulLogout);\r\n      };\r\n    } else {\r\n      if (loadingSpinnerActive) {\r\n        const successfulLogout = setTimeout(() => {\r\n          changeLoadingSpinnerActive(false);\r\n          dispatch(ACTION_LOG_OUT_CLICKED_RESET());\r\n          dispatch(ACTION_USER_NOT_AUTHENTICATED());\r\n        }, 1000);\r\n        return () => {\r\n          clearTimeout(successfulLogout);\r\n        };\r\n      }\r\n    }\r\n  }, [appLoading, adminLogoutAppLoading, loadingSpinnerActive, dispatch]);\r\n\r\n  const override = css`\r\n    display: block;\r\n    position: absolute;\r\n    left: 25%;\r\n    right: 25%;\r\n  `;\r\n\r\n  useMemo(() => {\r\n    if (!cartIsActive) {\r\n      if (largeScreenFrozenScrollPosition !== \"\") {\r\n        changeLargeScreenFrozenScrollPosition(\"\");\r\n      }\r\n    }\r\n  }, [\r\n    cartIsActive,\r\n    largeScreenFrozenScrollPosition,\r\n    changeLargeScreenFrozenScrollPosition,\r\n  ]);\r\n\r\n  const redirectToCartRoutes = () => {\r\n    setTimeout(() => {\r\n      if (cartIsActive) {\r\n        if (cartPageOpened === \"\") {\r\n          return <Redirect to=\"/\" />;\r\n        } else if (cartPageOpened === \"Cart\") {\r\n          if (!currentScreenSize) {\r\n            if (initialScreenSize >= 1200) {\r\n              return <Redirect to=\"/\" />;\r\n            } else {\r\n              return <Redirect to=\"/cart\" />;\r\n            }\r\n          } else if (currentScreenSize >= 1200) {\r\n            return <Redirect to=\"/\" />;\r\n          } else {\r\n            return <Redirect to=\"/cart\" />;\r\n          }\r\n        } else if (cartPageOpened === \"Availability\") {\r\n          if (!currentScreenSize) {\r\n            if (initialScreenSize >= 1200) {\r\n              return <Redirect to=\"/\" />;\r\n            } else {\r\n              return <Redirect to=\"/availability\" />;\r\n            }\r\n          } else if (currentScreenSize >= 1200) {\r\n            return <Redirect to=\"/\" />;\r\n          } else {\r\n            return <Redirect to=\"/availability\" />;\r\n          }\r\n        } else if (cartPageOpened === \"TimePreference\") {\r\n          if (!currentScreenSize) {\r\n            if (initialScreenSize >= 1200) {\r\n              return <Redirect to=\"/\" />;\r\n            } else {\r\n              return <Redirect to=\"/availability/timepreference\" />;\r\n            }\r\n          } else if (currentScreenSize >= 1200) {\r\n            return <Redirect to=\"/\" />;\r\n          } else {\r\n            return <Redirect to=\"/availability/timepreference\" />;\r\n          }\r\n        } else if (cartPageOpened === \"PaymentInfo\") {\r\n          if (!currentScreenSize) {\r\n            if (initialScreenSize >= 1200) {\r\n              return <Redirect to=\"/\" />;\r\n            } else {\r\n              return <Redirect to=\"/paymentinfo\" />;\r\n            }\r\n          } else if (currentScreenSize >= 1200) {\r\n            return <Redirect to=\"/\" />;\r\n          } else {\r\n            return <Redirect to=\"/paymentinfo\" />;\r\n          }\r\n        } else if (cartPageOpened === \"GuestCheckout\") {\r\n          if (!currentScreenSize) {\r\n            if (initialScreenSize >= 1200) {\r\n              return <Redirect to=\"/\" />;\r\n            } else {\r\n              return <Redirect to=\"/checkout\" />;\r\n            }\r\n          } else if (currentScreenSize >= 1200) {\r\n            return <Redirect to=\"/\" />;\r\n          } else {\r\n            return <Redirect to=\"/checkout\" />;\r\n          }\r\n        } else if (cartPageOpened === \"ConfirmationPage\") {\r\n          if (!currentScreenSize) {\r\n            if (initialScreenSize >= 1200) {\r\n              return <Redirect to=\"/\" />;\r\n            } else {\r\n              return <Redirect to=\"/checkout/confirmation\" />;\r\n            }\r\n          } else if (currentScreenSize >= 1200) {\r\n            return <Redirect to=\"/\" />;\r\n          } else {\r\n            return <Redirect to=\"/checkout/confirmation\" />;\r\n          }\r\n        } else {\r\n          return null;\r\n        }\r\n      } else {\r\n        return <Redirect to=\"/\" />;\r\n      }\r\n    }, 100);\r\n  };\r\n\r\n  useMemo(() => {\r\n    if (currentScreenSize) {\r\n      dispatch(ACTION_BACIAL_TOGGLE_RESET());\r\n      dispatch(ACTION_CALM_TOGGLE_RESET());\r\n      dispatch(ACTION_CBD_TOGGLE_RESET());\r\n      dispatch(ACTION_CHEMICAL_PEEL_TOGGLE_RESET());\r\n      dispatch(ACTION_CLARIFY_TOGGLE_RESET());\r\n      dispatch(ACTION_DERMAPLANING_TOGGLE_RESET());\r\n      dispatch(ACTION_GLOW_TOGGLE_RESET());\r\n      dispatch(ACTION_MICRONEEDLE_TOGGLE_RESET());\r\n      dispatch(ACTION_QUENCH_TOGGLE_RESET());\r\n      dispatch(ACTION_QUICKIE_TOGGLE_RESET());\r\n      dispatch(ACTION_REJUVENATE_TOGGLE_RESET());\r\n      dispatch(ACTION_SALT_CAVE_TOGGLE_RESET());\r\n      dispatch(ACTION_BEARD_TOGGLE_RESET());\r\n      dispatch(ACTION_DERMAROLLING_TOGGLE_RESET());\r\n      dispatch(ACTION_EXTRA_EXTRACTIONS_TOGGLE_RESET());\r\n      dispatch(ACTION_GUASHA_TOGGLE_RESET());\r\n      dispatch(ACTION_HYDRO_JELLY_TOGGLE_RESET());\r\n      dispatch(ACTION_LED_THERAPY_TOGGLE_RESET());\r\n      dispatch(ACTION_MICROCURRENT_TOGGLE_RESET());\r\n      dispatch(ACTION_MICRODERMABRASION_TOGGLE_RESET());\r\n      dispatch(ACTION_NANONEEDLING_TOGGLE_RESET());\r\n    }\r\n  }, [currentScreenSize, dispatch]);\r\n\r\n  const resetAllCartStates = () => {\r\n    dispatch(ACTION_BODY_SCROLL_ALLOW());\r\n    dispatch(ACTION_TOTAL_PRICE_RESET());\r\n    dispatch(ACTION_TOTAL_DURATION_RESET());\r\n    dispatch(ACTION_SELECT_TIME_NOT_ACTIVE());\r\n    dispatch(ACTION_SELECTED_TIME_RESET());\r\n    dispatch(ACTION_SELECTED_DAY_RESET());\r\n    dispatch(ACTION_SELECTED_ESTHETICIAN_RESET());\r\n    dispatch(ACTION_SELECTED_SALT_CAVE_DURATION_RESET());\r\n    dispatch(ACTION_FINAL_BOOKING_MODAL_RESET());\r\n    dispatch(ACTION_ALL_COLLAPSE_RESET());\r\n    dispatch(ACTION_TREATMENTS_CART_RESET());\r\n    dispatch(ACTION_REFORMATTED_DAY_RESET());\r\n    dispatch(ACTION_REFORMATTED_DAY_CLONE_RESET());\r\n    dispatch(ACTION_DAY_OF_THE_WEEK_RESET());\r\n    dispatch(ACTION_PHONE_NOT_VALID());\r\n    dispatch(ACTION_PHONE_NOT_INVALID());\r\n    dispatch(ACTION_APPOINTMENT_NOTES_RESET());\r\n    dispatch(ACTION_EMAIL_RESET());\r\n    dispatch(ACTION_FIRST_NAME_RESET());\r\n    dispatch(ACTION_LAST_NAME_RESET());\r\n    dispatch(ACTION_PHONE_NUMBER_RESET());\r\n    dispatch(ACTION_FINAL_BOOK_BUTTON_RESET());\r\n    dispatch(ACTION_EMAIL_NOT_INVALID());\r\n    dispatch(ACTION_EMAIL_NOT_VALID());\r\n    dispatch(ACTION_CONTINUE_BUTTON_RESET());\r\n    dispatch(ACTION_BOOKING_SUMMARY_NOT_ACTIVE());\r\n    dispatch(ACTION_AVAILABILITY_RESET());\r\n    dispatch(ACTION_APPOINTMENT_END_TIME_RESET());\r\n    dispatch(ACTION_CART_PAGE_OPENED());\r\n  };\r\n\r\n  const resetAllCartStatesExceptTreatments = () => {\r\n    dispatch(ACTION_BODY_SCROLL_ALLOW());\r\n    dispatch(ACTION_SELECT_TIME_NOT_ACTIVE());\r\n    dispatch(ACTION_SELECTED_TIME_RESET());\r\n    dispatch(ACTION_SELECTED_DAY_RESET());\r\n    dispatch(ACTION_SELECTED_ESTHETICIAN_RESET());\r\n    dispatch(ACTION_FINAL_BOOKING_MODAL_RESET());\r\n    dispatch(ACTION_ALL_COLLAPSE_RESET());\r\n    dispatch(ACTION_REFORMATTED_DAY_RESET());\r\n    dispatch(ACTION_REFORMATTED_DAY_CLONE_RESET());\r\n    dispatch(ACTION_DAY_OF_THE_WEEK_RESET());\r\n    dispatch(ACTION_PHONE_NOT_VALID());\r\n    dispatch(ACTION_PHONE_NOT_INVALID());\r\n    dispatch(ACTION_APPOINTMENT_NOTES_RESET());\r\n    dispatch(ACTION_EMAIL_RESET());\r\n    dispatch(ACTION_FIRST_NAME_RESET());\r\n    dispatch(ACTION_LAST_NAME_RESET());\r\n    dispatch(ACTION_PHONE_NUMBER_RESET());\r\n    dispatch(ACTION_FINAL_BOOK_BUTTON_RESET());\r\n    dispatch(ACTION_EMAIL_NOT_INVALID());\r\n    dispatch(ACTION_EMAIL_NOT_VALID());\r\n    dispatch(ACTION_CONTINUE_BUTTON_RESET());\r\n    dispatch(ACTION_BOOKING_SUMMARY_NOT_ACTIVE());\r\n    dispatch(ACTION_AVAILABILITY_RESET());\r\n    dispatch(ACTION_APPOINTMENT_END_TIME_RESET());\r\n    dispatch(ACTION_CART_PAGE_OPENED());\r\n  };\r\n\r\n  const shoppingCartConditionalActiveRendering = () => {\r\n    if (\r\n      !largeScreenFrozenScrollPosition &&\r\n      largeScreenFrozenScrollPosition !== 0\r\n    ) {\r\n      changeLargeScreenFrozenScrollPosition(window.scrollY);\r\n    }\r\n\r\n    if (!cartPageOpened || cartPageOpened === \"Cart\") {\r\n      return (\r\n        <ShoppingCart\r\n          currentScreenSize={currentScreenSize}\r\n          initialScreenSize={initialScreenSize}\r\n          getEmployeesData={getEmployeesData}\r\n          resetAllCartStates={resetAllCartStates}\r\n          resetAllCartStatesExceptTreatments={\r\n            resetAllCartStatesExceptTreatments\r\n          }\r\n        />\r\n      );\r\n    } else if (cartPageOpened === \"Availability\") {\r\n      return (\r\n        <Suspense fallback={renderCartRoutesFallbackLoader()}>\r\n          <Availability\r\n            currentScreenSize={currentScreenSize}\r\n            initialScreenSize={initialScreenSize}\r\n            getEmployeesData={getEmployeesData}\r\n          />\r\n        </Suspense>\r\n      );\r\n    } else if (cartPageOpened === \"TimePreference\") {\r\n      return (\r\n        <Suspense fallback={renderCartRoutesFallbackLoader()}>\r\n          <TimePreference\r\n            currentScreenSize={currentScreenSize}\r\n            initialScreenSize={initialScreenSize}\r\n          />\r\n        </Suspense>\r\n      );\r\n    } else if (cartPageOpened === \"GuestCheckout\") {\r\n      return (\r\n        <Suspense fallback={renderCartRoutesFallbackLoader()}>\r\n          <GuestCheckout\r\n            currentScreenSize={currentScreenSize}\r\n            initialScreenSize={initialScreenSize}\r\n          />\r\n        </Suspense>\r\n      );\r\n    } else if (cartPageOpened === \"PaymentInfo\") {\r\n      return (\r\n        <Suspense fallback={renderCartRoutesFallbackLoader()}>\r\n          <PaymentInfo\r\n            currentScreenSize={currentScreenSize}\r\n            initialScreenSize={initialScreenSize}\r\n            getClientData={getClientData ? getClientData : null}\r\n            clientDataRefetch={clientDataRefetch}\r\n            largeScreenFrozenScrollPosition={largeScreenFrozenScrollPosition}\r\n            changeLargeScreenFrozenScrollPosition={\r\n              changeLargeScreenFrozenScrollPosition\r\n            }\r\n          />\r\n        </Suspense>\r\n      );\r\n    } else if (cartPageOpened === \"ConfirmationPage\") {\r\n      return (\r\n        <Suspense fallback={renderCartRoutesFallbackLoader()}>\r\n          <ConfirmationPage\r\n            currentScreenSize={currentScreenSize}\r\n            initialScreenSize={initialScreenSize}\r\n          />\r\n        </Suspense>\r\n      );\r\n    }\r\n  };\r\n\r\n  const largeScreenShoppingCartRender = () => {\r\n    if (!currentScreenSize) {\r\n      if (initialScreenSize >= 1200) {\r\n        return (\r\n          <Transition\r\n            items={cartIsActive}\r\n            from={{ transform: \"translate3d(100%, 0, 0)\" }}\r\n            enter={{ transform: \"translate3d(0, 0, 0)\" }}\r\n            leave={{\r\n              transform: \"translate3d(100%, 0, 0)\",\r\n            }}\r\n          >\r\n            {(cartIsActive) =>\r\n              cartIsActive &&\r\n              ((styleprops) => (\r\n                <div\r\n                  className=\"large_screen_shopping_cart_container\"\r\n                  style={styleprops}\r\n                  ref={shoppingCartRef}\r\n                >\r\n                  {shoppingCartConditionalActiveRendering()}\r\n                </div>\r\n              ))\r\n            }\r\n          </Transition>\r\n        );\r\n      }\r\n    } else if (currentScreenSize >= 1200) {\r\n      return (\r\n        <Transition\r\n          items={cartIsActive}\r\n          from={{ transform: \"translate3d(100%, 0, 0)\" }}\r\n          enter={{ transform: \"translate3d(0, 0, 0)\" }}\r\n          leave={{ transform: \"translate3d(100%, 0, 0)\" }}\r\n        >\r\n          {(cartIsActive) =>\r\n            cartIsActive &&\r\n            ((props) => (\r\n              <div\r\n                className=\"large_screen_shopping_cart_container\"\r\n                style={props}\r\n                ref={shoppingCartRef}\r\n              >\r\n                {shoppingCartConditionalActiveRendering()}\r\n              </div>\r\n            ))\r\n          }\r\n        </Transition>\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (cartIsActive) {\r\n      changeCartSlideDelay(true);\r\n    } else {\r\n      const slideDelay = setTimeout(() => {\r\n        changeCartSlideDelay(false);\r\n      }, 500);\r\n\r\n      return () => {\r\n        clearTimeout(slideDelay);\r\n      };\r\n    }\r\n  }, [cartIsActive]);\r\n\r\n  // Distort background while shopping cart slider is visible\r\n\r\n  const renderSlideInShoppingCartContainer = useCallback(\r\n    (item) => {\r\n      if (cartIsActive) {\r\n        return (\r\n          <div\r\n            className=\"large_screen_shopping_cart_full_container\"\r\n            style={{\r\n              display: cartSlideDelay ? \"block\" : \"none\",\r\n              backdropFilter: cartIsActive\r\n                ? \"blur(30px) brightness(50%)\"\r\n                : \"none\",\r\n              WebkitBackdropFilter: cartIsActive\r\n                ? \"blur(30px) brightness(50%)\"\r\n                : \"none\",\r\n              transition: \"backdropFilter 0.5s ease\",\r\n              zIndex: finalBookingModal ? -1 : 50,\r\n            }}\r\n            onClick={(e) => {\r\n              if (\r\n                e.target.className ===\r\n                \"large_screen_shopping_cart_full_container\"\r\n              ) {\r\n                dispatch(ACTION_CART_IS_NOT_ACTIVE());\r\n              }\r\n            }}\r\n          >\r\n            {item}\r\n          </div>\r\n        );\r\n      }\r\n    },\r\n    [cartIsActive, cartSlideDelay, dispatch, finalBookingModal]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (\r\n      location.pathname === \"/admin\" ||\r\n      location.pathname === \"/account/login\" ||\r\n      location.pathname === \"/account/completeregistration\" ||\r\n      location.pathname === \"/account/signup\"\r\n    ) {\r\n      document.body.classList.remove(\"height_hundred_percent\");\r\n      document.body.classList.add(\"height_remove_hundred_percent\");\r\n    } else {\r\n      document.body.classList.remove(\"height_remove_hundred_percent\");\r\n      document.body.classList.add(\"height_hundred_percent\");\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  useEffect(() => {\r\n    const root = document.getElementsByTagName(\"html\")[0];\r\n\r\n    if (!currentScreenSize) {\r\n      if (initialScreenSize >= 1200) {\r\n        if (cartIsActive) {\r\n          document.body.classList.add(\"no_scroll_no_fixed\");\r\n          root.classList.add(\"no_scroll_no_fixed\");\r\n        } else {\r\n          document.body.classList.remove(\"no_scroll_no_fixed\");\r\n          root.classList.remove(\"no_scroll_no_fixed\");\r\n        }\r\n      } else {\r\n        document.body.classList.remove(\"no_scroll_no_fixed\");\r\n        root.classList.remove(\"no_scroll_no_fixed\");\r\n      }\r\n    } else {\r\n      if (currentScreenSize >= 1200) {\r\n        if (cartIsActive) {\r\n          document.body.classList.add(\"no_scroll_no_fixed\");\r\n          root.classList.add(\"no_scroll_no_fixed\");\r\n        } else {\r\n          document.body.classList.remove(\"no_scroll_no_fixed\");\r\n          root.classList.remove(\"no_scroll_no_fixed\");\r\n        }\r\n      } else {\r\n        document.body.classList.remove(\"no_scroll_no_fixed\");\r\n        root.classList.remove(\"no_scroll_no_fixed\");\r\n      }\r\n    }\r\n  }, [cartIsActive, dispatch, currentScreenSize, initialScreenSize]);\r\n\r\n  const treatmentsPageIsVisibleFunction = () => {\r\n    return changeTreatmentsPageInView(true);\r\n  };\r\n\r\n  const treatmentsPageIsNotVisibleFunction = () => {\r\n    return changeTreatmentsPageInView(false);\r\n  };\r\n\r\n  const handleScrollDirection = useCallback(\r\n    (e) => {\r\n      if (scrollValue > e.target.scrollTop) {\r\n        if (scrollDirection !== \"Up\") {\r\n          changeScrollDirection(\"Up\");\r\n        }\r\n        changeScrollValue(e.target.scrollTop);\r\n      } else if (scrollValue < e.target.scrollTop) {\r\n        if (scrollDirection !== \"Down\") {\r\n          changeScrollDirection(\"Down\");\r\n        }\r\n        changeScrollValue(e.target.scrollTop);\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n    [scrollValue, scrollDirection]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const refVar = MainContainerRef.current;\r\n    if (refVar) {\r\n      changeScrollValue(refVar.scrollTop);\r\n\r\n      refVar.addEventListener(\"scroll\", handleScrollDirection);\r\n\r\n      return () => {\r\n        refVar.removeEventListener(\"scroll\", handleScrollDirection);\r\n      };\r\n    }\r\n  }, [handleScrollDirection]);\r\n\r\n  // Used to place navbar in relation to vertical scrollbar\r\n  useEffect(() => {\r\n    const headerOffsetInterval = setInterval(() => {\r\n      if (MainContainerRef) {\r\n        if (MainContainerRef.current) {\r\n          const currentRef = MainContainerRef.current;\r\n\r\n          if (\r\n            headerOffset !==\r\n            Math.abs(currentRef.offsetWidth - currentRef.clientWidth)\r\n          ) {\r\n            if (Math.abs(currentRef.offsetWidth - currentRef.clientWidth)) {\r\n              changeHeaderOffset(\r\n                Math.abs(currentRef.offsetWidth - currentRef.clientWidth)\r\n              );\r\n            } else {\r\n              changeHeaderOffset(0);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }, 100);\r\n\r\n    return () => {\r\n      clearInterval(headerOffsetInterval);\r\n    };\r\n  }, [headerOffset]);\r\n\r\n  // Also used to place navbar in relation to vertical scrollbar\r\n  useEffect(() => {\r\n    if (\r\n      location.pathname.includes(\"account\") ||\r\n      (location.pathname.includes(\"admin\") &&\r\n        !location.pathname.includes(\"staff\") &&\r\n        !location.pathname.includes(\"clients\") &&\r\n        !location.pathname.includes(\"schedule\")) ||\r\n      cartIsActive\r\n    ) {\r\n      if (\r\n        document.styleSheets[0].cssRules[0].cssText ===\r\n        \"::-webkit-scrollbar { width: 0px; }\"\r\n      ) {\r\n        return;\r\n      } else {\r\n        document.styleSheets[0].insertRule(\r\n          \"::-webkit-scrollbar { width: 0; }\",\r\n          0\r\n        );\r\n      }\r\n    } else {\r\n      if (\r\n        document.styleSheets[0].cssRules[0].cssText ===\r\n        \"::-webkit-scrollbar { width: 0px; }\"\r\n      ) {\r\n        document.styleSheets[0].deleteRule(0);\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n  }, [location, headerOffset, cartIsActive]);\r\n\r\n  const renderAuthFallbackLoader = () => {\r\n    return (\r\n      <Modal\r\n        isOpen={true}\r\n        style={{\r\n          content: {\r\n            position: \"fixed\",\r\n            zIndex: 10000,\r\n            opacity: 0.99,\r\n            height: \"100%\",\r\n            backdropFilter: \"blur(5px)\",\r\n            WebkitBackdropFilter: \"blur(5px)\",\r\n            paddingBottom: \"10%\",\r\n            borderRadius: \"none\",\r\n            width: \"100vw\",\r\n            top: \"0\",\r\n            left: \"0\",\r\n            right: \"0\",\r\n            bottom: \"0\",\r\n            border: \"none\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            background: \"rgba(0, 0, 0, 0.5)\",\r\n          },\r\n        }}\r\n      >\r\n        <BounceLoader\r\n          size={100}\r\n          css={override}\r\n          color={\"rgb(44, 44, 52)\"}\r\n          loading={true}\r\n        />\r\n      </Modal>\r\n    );\r\n  };\r\n\r\n  const renderCartRoutesFallbackLoader = () => {\r\n    return (\r\n      <div\r\n        className=\"clip_loader_spinner_container\"\r\n        style={{ display: \"flex\" }}\r\n      >\r\n        <ClipLoader\r\n          size={100}\r\n          css={override}\r\n          color={\"rgb(44, 44, 52)\"}\r\n          loading={true}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (splashScreenHalfway) {\r\n      if (!splashScreenLogoDone) {\r\n        setTimeout(() => {\r\n          changeSplashScreenLogoDone(true);\r\n        }, 700);\r\n      }\r\n    }\r\n  }, [splashScreenHalfway, splashScreenLogoDone]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"font_preload\" style={{ opacity: 0 }}>\r\n        <span style={{ fontFamily: \"Montserrat, Arial, sans-serif\" }}></span>\r\n      </div>\r\n      {redirectToHome()}\r\n      {redirectToRoot()}\r\n      <Modal\r\n        isOpen={logoutClicked}\r\n        style={{\r\n          content: {\r\n            position: \"fixed\",\r\n            zIndex: 10000,\r\n            opacity: 0.99,\r\n            height: \"100%\",\r\n            backdropFilter: \"blur(5px)\",\r\n            WebkitBackdropFilter: \"blur(5px)\",\r\n            paddingBottom: \"10%\",\r\n            borderRadius: \"none\",\r\n            width: \"100vw\",\r\n            top: \"0\",\r\n            left: \"0\",\r\n            right: \"0\",\r\n            bottom: \"0\",\r\n            border: \"none\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            background: \"rgba(0, 0, 0, 0.5)\",\r\n          },\r\n        }}\r\n      >\r\n        <BounceLoader\r\n          size={100}\r\n          css={override}\r\n          color={\"rgb(44, 44, 52)\"}\r\n          loading={loadingSpinnerActive}\r\n        />\r\n        {loggingOut ||\r\n        location.pathname === \"/account/login\" ||\r\n        location.pathname === \"/admin\" ? null : (\r\n          <div className=\"log_out_modal\">\r\n            <div className=\"log_out_modal_contents\">\r\n              <FontAwesomeIcon\r\n                className=\"modal_x\"\r\n                icon={faTimes}\r\n                onClick={() => dispatch(ACTION_LOG_OUT_CLICKED_RESET())}\r\n              />\r\n              <h2>Are you sure you want to log out?</h2>\r\n              <span className=\"logout_buttons_container\">\r\n                <div className=\"logout_button\" onClick={handleLogout}>\r\n                  <p>LOG OUT</p>\r\n                </div>\r\n                <div\r\n                  className=\"cancel_logout_button\"\r\n                  onClick={() => dispatch(ACTION_LOG_OUT_CLICKED_RESET())}\r\n                >\r\n                  <p>CANCEL</p>\r\n                </div>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n      <Spring\r\n        from={{\r\n          marginTop: !currentScreenSize\r\n            ? \"-200px\"\r\n            : initialScreenSize >= 600\r\n            ? currentScreenSize >= 600\r\n              ? \"-200px\"\r\n              : \"-100px\"\r\n            : currentScreenSize >= 600\r\n            ? \"-200px\"\r\n            : \"-100px\",\r\n        }}\r\n        to={{ marginTop: \"0px\" }}\r\n        config={{\r\n          delay: 1800,\r\n          duration: 1500,\r\n        }}\r\n        immediate={\r\n          location.pathname.includes(\"account\") ||\r\n          location.pathname.includes(\"admin\")\r\n        }\r\n      >\r\n        {(styles) => (\r\n          <header\r\n            className=\"header\"\r\n            style={{\r\n              marginTop: splashScreenComplete\r\n                ? !currentScreenSize\r\n                  ? initialScreenSize >= 1200\r\n                    ? cookieBannerVisible && !cartIsActive\r\n                      ? \"100px\"\r\n                      : location.pathname === \"/\"\r\n                      ? `${styles.marginTop}`\r\n                      : cookieBannerVisible && !cartIsActive\r\n                      ? \"100px\"\r\n                      : \"0px\"\r\n                    : navbarVisible\r\n                    ? cookieBannerVisible && !cartIsActive\r\n                      ? initialScreenSize >= 360\r\n                        ? \"100px\"\r\n                        : \"60px\"\r\n                      : \"0px\"\r\n                    : \"-200px\"\r\n                  : currentScreenSize >= 1200\r\n                  ? cookieBannerVisible && !cartIsActive\r\n                    ? \"100px\"\r\n                    : location.pathname === \"/\"\r\n                    ? `${styles.marginTop}`\r\n                    : cookieBannerVisible && !cartIsActive\r\n                    ? \"100px\"\r\n                    : \"0px\"\r\n                  : navbarVisible\r\n                  ? cookieBannerVisible && !cartIsActive\r\n                    ? currentScreenSize >= 360\r\n                      ? \"100px\"\r\n                      : \"60px\"\r\n                    : \"0px\"\r\n                  : \"-200px\"\r\n                : `${styles.marginTop}`,\r\n              transition: \"margin-top 0.5s ease\",\r\n              height: !currentScreenSize\r\n                ? initialScreenSize < 1000\r\n                  ? initialScreenSize > initialScreenHeight\r\n                    ? \"15vh\"\r\n                    : \"8vh\"\r\n                  : \"8vh\"\r\n                : currentScreenSize < 1000\r\n                ? currentScreenSize > currentScreenHeight\r\n                  ? \"15vh\"\r\n                  : \"8vh\"\r\n                : \"8vh\",\r\n              paddingTop: \"0vh\",\r\n              paddingBottom: \"0vh\",\r\n              zIndex: finalBookButtonActive\r\n                ? \"auto\"\r\n                : location.pathname === \"/\"\r\n                ? 999\r\n                : location.pathname.includes(\"account\") ||\r\n                  location.pathname.includes(\"admin\")\r\n                ? 500\r\n                : 999,\r\n              display: loginIsActive ? \"none\" : \"flex\",\r\n              width: \"calc(100% - \" + headerOffset + \"px)\",\r\n            }}\r\n          >\r\n            <ResponsiveNavigationBar\r\n              scroll={scroll}\r\n              handleNavbarToggle={handleNavbarToggle}\r\n              currentScreenSize={currentScreenSize}\r\n              initialScreenSize={initialScreenSize}\r\n              currentScreenHeight={currentScreenHeight}\r\n              initialScreenHeight={initialScreenHeight}\r\n              handleClickToScrollToHome={handleClickToScrollToHome}\r\n              handleClickToScrollToTreatments={handleClickToScrollToTreatments}\r\n              handleClickToScrollToAddOns={handleClickToScrollToAddOns}\r\n              handleClickToScrollToInstagram={handleClickToScrollToInstagram}\r\n              handleClickToScrollToContact={handleClickToScrollToContact}\r\n              adminDummyToken={adminDummyToken}\r\n              getEmployeeData={getEmployeeData}\r\n              scrollValue={scrollValue}\r\n              ref={ref}\r\n            />\r\n          </header>\r\n        )}\r\n      </Spring>\r\n      {(location.pathname === \"/\" ||\r\n        location.pathname.includes(\"privacy\") ||\r\n        location.pathname.includes(\"termsandconditions\")) &&\r\n      !cartIsActive &&\r\n      !guestConsentFormAccessToken &&\r\n      !adminDummyToken &&\r\n      !dummyToken &&\r\n      !adminTemporaryDummyToken ? (\r\n        <CookieBanner\r\n          link={\r\n            <p>\r\n              By using this website, you agree to our{\" \"}\r\n              <Link to=\"/privacy\">Privacy Policy</Link>,{\" \"}\r\n              <Link to=\"/termsandconditions\">Terms and Conditions</Link>, and\r\n              use of cookies. We use cookies to provide you with a personalized\r\n              experience.\r\n            </p>\r\n          }\r\n          cookie=\"user-has-accepted-cookies\"\r\n          dismissOnScroll={false}\r\n          onAccept={() => changeCookieBannerVisible(false)}\r\n        />\r\n      ) : null}\r\n      {renderSlideInShoppingCartContainer(largeScreenShoppingCartRender())}\r\n\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <KeepAlive saveScrollPosition=\"screen\">\r\n            <div\r\n              className=\"main_container\"\r\n              onScroll={(e) => handleScrollDirection(e)}\r\n              ref={MainContainerRef}\r\n              style={{ overflow: splashScreenComplete ? \"auto\" : \"hidden\" }}\r\n              id=\"main_container_element\"\r\n            >\r\n              {redirectToCartRoutes()}\r\n              <LandingPage\r\n                currentScreenSize={currentScreenSize}\r\n                initialScreenSize={initialScreenSize}\r\n                currentScreenHeight={currentScreenHeight}\r\n                initialScreenHeight={initialScreenHeight}\r\n                handleClickToScrollToHome={handleClickToScrollToHome}\r\n                handleClickToScrollToTreatments={\r\n                  handleClickToScrollToTreatments\r\n                }\r\n                handleClickToScrollToAddOns={handleClickToScrollToAddOns}\r\n                handleClickToScrollToInstagram={handleClickToScrollToInstagram}\r\n                handleClickToScrollToContact={handleClickToScrollToContact}\r\n                navbarVisible={navbarVisible}\r\n                treatmentsPageInView={treatmentsPageInView}\r\n                scrollDirection={scrollDirection}\r\n                scrollValue={scrollValue}\r\n                ref={ref}\r\n                name=\"landing_page\"\r\n              />\r\n              <AllTreatments\r\n                name=\"treatments\"\r\n                currentScreenSize={currentScreenSize}\r\n                initialScreenSize={initialScreenSize}\r\n                Treatments1Ref={Treatments1Ref}\r\n                resetAllCartStates={resetAllCartStates}\r\n                treatmentsPageIsVisibleFunction={\r\n                  treatmentsPageIsVisibleFunction\r\n                }\r\n                treatmentsPageIsNotVisibleFunction={\r\n                  treatmentsPageIsNotVisibleFunction\r\n                }\r\n                treatmentsPageInView={treatmentsPageInView}\r\n                scrollValue={scrollValue}\r\n              />\r\n              <AllAddOns\r\n                name=\"add_ons\"\r\n                currentScreenSize={currentScreenSize}\r\n                initialScreenSize={initialScreenSize}\r\n                AddOnsRef={AddOnsRef}\r\n                resetAllCartStatesExceptTreatments={\r\n                  resetAllCartStatesExceptTreatments\r\n                }\r\n              />\r\n              <FollowUs\r\n                name=\"instagram\"\r\n                initialScreenSize={initialScreenSize}\r\n                currentScreenSize={currentScreenSize}\r\n                InstagramRef={InstagramRef}\r\n              />\r\n              <ContactUs\r\n                name=\"contact\"\r\n                initialScreenSize={initialScreenSize}\r\n                currentScreenSize={currentScreenSize}\r\n                ContactRef={ContactRef}\r\n              />\r\n            </div>\r\n          </KeepAlive>\r\n        </Route>\r\n        {cartIsActive ? (\r\n          cartPageOpened === \"Cart\" ? (\r\n            <Route\r\n              render={() => (\r\n                <ShoppingCart\r\n                  path=\"/cart\"\r\n                  getEmployeesData={getEmployeesData}\r\n                  initialScreenSize={initialScreenSize}\r\n                  currentScreenSize={currentScreenSize}\r\n                  resetAllCartStates={resetAllCartStates}\r\n                  resetAllCartStatesExceptTreatments={\r\n                    resetAllCartStatesExceptTreatments\r\n                  }\r\n                />\r\n              )}\r\n            />\r\n          ) : cartPageOpened === \"Availability\" ||\r\n            cartPageOpened === \"TimePreference\" ? (\r\n            <Route\r\n              render={() => (\r\n                <Suspense fallback={renderCartRoutesFallbackLoader()}>\r\n                  <AvailabilityRouter\r\n                    path=\"/availability\"\r\n                    getEmployeesData={getEmployeesData}\r\n                    initialScreenSize={initialScreenSize}\r\n                    currentScreenSize={currentScreenSize}\r\n                  />\r\n                </Suspense>\r\n              )}\r\n            />\r\n          ) : null\r\n        ) : null}\r\n        <Route\r\n          render={() =>\r\n            location.pathname.includes(\"account\") ? (\r\n              <Suspense fallback={renderAuthFallbackLoader()}>\r\n                <AccountRouter\r\n                  path=\"/account\"\r\n                  initialScreenSize={initialScreenSize}\r\n                  currentScreenSize={currentScreenSize}\r\n                  getClientData={getClientData ? getClientData : null}\r\n                  getClientError={getClientError}\r\n                  clientDataRefetch={clientDataRefetch}\r\n                  handleClickToScrollToHome={handleClickToScrollToHome}\r\n                  ref={ref}\r\n                />\r\n              </Suspense>\r\n            ) : location.pathname.includes(\"admin\") ? (\r\n              <Suspense fallback={renderAuthFallbackLoader()}>\r\n                <AdminRouter\r\n                  path=\"/admin\"\r\n                  initialScreenSize={initialScreenSize}\r\n                  currentScreenSize={currentScreenSize}\r\n                  getEmployeeData={getEmployeeData ? getEmployeeData : null}\r\n                  getEmployeeError={getEmployeeError}\r\n                  getEmployeeLoading={getEmployeeLoading}\r\n                  employeeDataRefetch={employeeDataRefetch}\r\n                  getEmployeesData={getEmployeesData ? getEmployeesData : null}\r\n                  getEmployeesError={getEmployeesError}\r\n                  getEmployeesRefetch={getEmployeesRefetch}\r\n                  getEmployeesLoading={getEmployeesLoading}\r\n                  handleClickToScrollToHome={handleClickToScrollToHome}\r\n                  ref={ref}\r\n                />\r\n              </Suspense>\r\n            ) : location.pathname.includes(\"privacy\") ? (\r\n              <Route\r\n                render={() => (\r\n                  <Suspense fallback={renderAuthFallbackLoader()}>\r\n                    <PrivacyPolicy exact path=\"/privacy\" />\r\n                  </Suspense>\r\n                )}\r\n              />\r\n            ) : location.pathname.includes(\"termsandconditions\") ? (\r\n              <Route\r\n                render={() => (\r\n                  <Suspense fallback={renderAuthFallbackLoader()}>\r\n                    <TermsAndConditions exact path=\"/termsandconditions\" />\r\n                  </Suspense>\r\n                )}\r\n              />\r\n            ) : cartPageOpened === \"GuestCheckout\" ||\r\n              cartPageOpened === \"ConfirmationPage\" ||\r\n              location.pathname.includes(\"consentform\") ? (\r\n              <Route\r\n                render={() => (\r\n                  <Suspense fallback={renderCartRoutesFallbackLoader()}>\r\n                    <CheckoutRouter path=\"/checkout\" />\r\n                  </Suspense>\r\n                )}\r\n              />\r\n            ) : cartPageOpened === \"PaymentInfo\" ? (\r\n              <Suspense fallback={renderCartRoutesFallbackLoader()}>\r\n                <PaymentInfo\r\n                  exact\r\n                  path=\"/paymentinfo\"\r\n                  getClientData={getClientData ? getClientData : null}\r\n                  clientDataRefetch={clientDataRefetch}\r\n                  initialScreenSize={initialScreenSize}\r\n                  currentScreenSize={currentScreenSize}\r\n                />\r\n              </Suspense>\r\n            ) : null\r\n          }\r\n        />\r\n        <Route render={() => <Redirect to=\"/\" />} />\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nModal.setAppElement(rootElement);\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store}>\r\n      <ApolloProvider client={apolloClient}>\r\n        <AliveScope>\r\n          <App />\r\n        </AliveScope>\r\n      </ApolloProvider>\r\n    </Provider>\r\n  </Router>,\r\n  rootElement\r\n);\r\n"]},"metadata":{},"sourceType":"module"}