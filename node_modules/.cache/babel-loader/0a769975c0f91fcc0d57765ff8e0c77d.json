{"ast":null,"code":"import React,{useEffect}from\"react\";import{Link,useLocation,Redirect}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import Email from\"./Form/Email\";import PhoneNumber from\"./Form/PhoneNumber\";import ACTION_FIRST_NAME from\"../../actions/GuestCheckoutForm/FirstName/ACTION_FIRST_NAME\";import ACTION_LAST_NAME from\"../../actions/GuestCheckoutForm/LastName/ACTION_LAST_NAME\";import ACTION_FIRST_NAME_RESET from\"../../actions/GuestCheckoutForm/FirstName/ACTION_FIRST_NAME_RESET\";import ACTION_LAST_NAME_RESET from\"../../actions/GuestCheckoutForm/LastName/ACTION_LAST_NAME_RESET\";import ACTION_APPOINTMENT_NOTES from\"../../actions/GuestCheckoutForm/AppointmentNotes/ACTION_APPOINTMENT_NOTES\";import ACTION_BOOKING_SUMMARY_ACTIVE from\"../../actions/ContinueToBookingSummaryButtonActive/ACTION_BOOKING_SUMMARY_ACTIVE\";import ACTION_APPOINTMENT_NOTES_INVALID from\"../../actions/GuestCheckoutForm/AppointmentNotes/ACTION_APPOINTMENT_NOTES_INVALID\";import ACTION_APPOINTMENT_NOTES_VALID from\"../../actions/GuestCheckoutForm/AppointmentNotes/ACTION_APPOINTMENT_NOTES_VALID\";import ACTION_BOOKING_SUMMARY_NOT_ACTIVE from\"../../actions/ContinueToBookingSummaryButtonActive/ACTION_BOOKING_SUMMARY_NOT_ACTIVE\";import ACTION_TIME_PREFERENCE_PAGE_OPENED from\"../../actions/InCart/CartPageOpened/ACTION_TIME_PREFERENCE_PAGE_OPENED\";import ACTION_PAYMENT_INFO_PAGE_OPENED from\"../../actions/InCart/CartPageOpened/ACTION_PAYMENT_INFO_PAGE_OPENED\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faChevronLeft,faChevronRight}from\"@fortawesome/free-solid-svg-icons\";import{Form,FormGroup,FormText,Label,Input}from\"reactstrap\";import\"./GuestCheckout.css\";// Minified Bootstrap CSS file (for Forms)\nimport\"../../bootstrap_forms.min.css\";const GuestCheckout=props=>{const dispatch=useDispatch();let location=useLocation();const firstName=useSelector(state=>state.firstName.first_name);const lastName=useSelector(state=>state.lastName.last_name);const continueToBookingSummaryActive=useSelector(state=>state.continueToBookingSummaryActive.bookingSummaryActive);const splashScreenComplete=useSelector(state=>state.splashScreenComplete.splashScreenComplete);const userAuthenticated=useSelector(state=>state.userAuthenticated.user_authenticated);// Email States\nconst emailIsValid=useSelector(state=>state.emailIsValid.email_valid);// Phone Number States\nconst phoneIsValid=useSelector(state=>state.phoneIsValid.phone_valid);// Appointment Notes States\nconst appointmentNotes=useSelector(state=>state.appointmentNotes.appointment_notes);const appointmentNotesValid=useSelector(state=>state.appointmentNotesValid.appointmentNotesValid);const redirectToHome=()=>{if(!splashScreenComplete){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else if(!props.currentScreenSize){if(props.initialScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}}else if(props.currentScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}};const redirectToConfirmationPage=()=>{if(userAuthenticated){return/*#__PURE__*/React.createElement(Redirect,{to:\"/checkout/confirmation\"});}};const handleFirstName=e=>{dispatch(ACTION_FIRST_NAME(e.currentTarget.value.trim()));};const handleLastName=e=>{dispatch(ACTION_LAST_NAME(e.currentTarget.value.trim()));};const firstNameTyping=()=>{dispatch(ACTION_FIRST_NAME_RESET());};const lastNameTyping=()=>{dispatch(ACTION_LAST_NAME_RESET());};const appointmentNotesTyping=e=>{dispatch(ACTION_APPOINTMENT_NOTES(e.currentTarget.value.trim()));};const handleConfirmDetailsButtonClick=()=>{dispatch(ACTION_BOOKING_SUMMARY_ACTIVE());dispatch(ACTION_PAYMENT_INFO_PAGE_OPENED());};const renderRemainingCharacters=()=>{let remainingCharacters=[];if(appointmentNotes){remainingCharacters.unshift(\"(\",Math.abs(500-appointmentNotes.length));if(500-appointmentNotes.length===1){remainingCharacters.push(\" character remaining).\");if(!appointmentNotesValid){dispatch(ACTION_APPOINTMENT_NOTES_VALID());}}else{if(500-appointmentNotes.length<0){remainingCharacters.push(\" too many).\");dispatch(ACTION_BOOKING_SUMMARY_NOT_ACTIVE());if(appointmentNotesValid){dispatch(ACTION_APPOINTMENT_NOTES_INVALID());}}else{remainingCharacters.push(\" characters remaining).\");if(!appointmentNotesValid){dispatch(ACTION_APPOINTMENT_NOTES_VALID());}}}}return remainingCharacters.join(\"\");};useEffect(()=>{if(location.pathname.includes(\"checkout\")){window.scrollTo(0,0);}},[location.pathname]);return/*#__PURE__*/React.createElement(\"div\",{className:\"checkout_container\"},redirectToHome(),redirectToConfirmationPage(),/*#__PURE__*/React.createElement(\"div\",{className:\"checkout_container_header\"},/*#__PURE__*/React.createElement(Link,{to:!props.currentScreenSize?props.initialScreenSize>=1200?\"/\":\"/availability/timepreference\":props.currentScreenSize>=1200?\"/\":\"/availability/timepreference\",onClick:()=>dispatch(ACTION_TIME_PREFERENCE_PAGE_OPENED())},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"checkout_back_arrow\",icon:faChevronLeft})),/*#__PURE__*/React.createElement(\"h1\",null,\"CHECKOUT\"),/*#__PURE__*/React.createElement(Link,{to:!props.currentScreenSize?props.initialScreenSize>=1200?\"/\":\"/paymentinfo\":props.currentScreenSize>=1200?\"/\":\"/paymentinfo\",onClick:()=>dispatch(ACTION_PAYMENT_INFO_PAGE_OPENED())},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"checkout_forward_arrow\",style:{display:continueToBookingSummaryActive?\"block\":\"none\"},icon:faChevronRight}))),/*#__PURE__*/React.createElement(\"div\",{className:\"checkout_header\"},/*#__PURE__*/React.createElement(\"h2\",null,\"CHECKOUT AS GUEST\")),/*#__PURE__*/React.createElement(\"div\",{className:\"guest_checkout_form_container\"},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"firstName\"},\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"top_form_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"required_label\"},\"First Name\",/*#__PURE__*/React.createElement(\"p\",{className:\"required_label red_asterisk\"},\"* \")),/*#__PURE__*/React.createElement(\"div\",{className:\"required_fields_container\"},/*#__PURE__*/React.createElement(\"p\",{className:\"red_asterisk\"},\"* \"),\" \",/*#__PURE__*/React.createElement(\"p\",{className:\"required_fields_statement\"},\" Required Fields\")))),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"firstName\",defaultValue:firstName,maxLength:50,placeholder:\"First name\",className:\"input_field\",onBlur:handleFirstName,onChange:firstNameTyping,valid:firstName===\"\"?false:true})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"lastName\"},/*#__PURE__*/React.createElement(\"div\",{className:\"required_label\"},\"Last Name\",/*#__PURE__*/React.createElement(\"p\",{className:\"required_label red_asterisk\"},\"* \"))),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"lastName\",defaultValue:lastName,maxLength:50,placeholder:\"Last name\",onChange:lastNameTyping,onBlur:handleLastName,className:\"input_field\",valid:lastName===\"\"?false:true})),/*#__PURE__*/React.createElement(Email,null),/*#__PURE__*/React.createElement(PhoneNumber,null),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"appointmentNotes\"},\"Appointment Notes\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",className:\"form_appointment_notes form_notes_container\",maxLength:1000,placeholder:\"Enter any skin care issues/concerns here.\",defaultValue:appointmentNotes,style:{fontFamily:\"Montserrat\"},name:\"appointmentNotes\",onChange:appointmentNotesTyping}),/*#__PURE__*/React.createElement(FormText,{className:\"form_appointment_notes_caption\",style:{color:\"rgb(151, 151, 151)\"}},/*#__PURE__*/React.createElement(\"p\",{style:{color:500-appointmentNotes.length<0?\"rgb(255, 22, 34)\":\"rgb(151, 151, 151)\",transition:\"color 0.5s ease\"},className:\"notes_character_limit\"},\"Maximum 500 characters \",renderRemainingCharacters()),/*#__PURE__*/React.createElement(\"p\",null,\"To protect your privacy, do not include any privileged material such as personal health information.\",\" \")))),/*#__PURE__*/React.createElement(\"div\",{className:\"guest_checkout_bottom_buttons_container\"},/*#__PURE__*/React.createElement(Link,{to:!props.currentScreenSize?props.initialScreenSize>=1200?\"/\":\"/paymentinfo\":props.currentScreenSize>=1200?\"/\":\"/paymentinfo\",style:{display:\"block\",pointerEvents:firstName&&lastName&&emailIsValid&&phoneIsValid&&appointmentNotesValid?\"auto\":\"none\"},onClick:handleConfirmDetailsButtonClick},/*#__PURE__*/React.createElement(\"div\",{className:\"confirm_details_button\",style:{background:firstName&&lastName&&emailIsValid&&phoneIsValid&&appointmentNotesValid?\"rgb(44, 44, 52)\":\"#f0f0f0\",color:firstName&&lastName&&emailIsValid&&phoneIsValid&&appointmentNotesValid?\"rgb(255, 255, 255)\":\"rgb(201, 201, 201)\",transition:\"background 0.5s ease, color 0.5s ease\"}},/*#__PURE__*/React.createElement(\"p\",null,\"Payment Details\"))),/*#__PURE__*/React.createElement(Link,{to:!props.currentScreenSize?props.initialScreenSize>=1200?\"/\":\"/availability/timepreference\":props.currentScreenSize>=1200?\"/\":\"/availability/timepreference\",onClick:()=>dispatch(ACTION_TIME_PREFERENCE_PAGE_OPENED())},/*#__PURE__*/React.createElement(\"div\",{className:\"change_time_button\"},/*#__PURE__*/React.createElement(\"p\",null,\"Change Time\"))))));};export default GuestCheckout;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/HighEnd/Client/src/components/checkout/GuestCheckout.js"],"names":["React","useEffect","Link","useLocation","Redirect","useDispatch","useSelector","Email","PhoneNumber","ACTION_FIRST_NAME","ACTION_LAST_NAME","ACTION_FIRST_NAME_RESET","ACTION_LAST_NAME_RESET","ACTION_APPOINTMENT_NOTES","ACTION_BOOKING_SUMMARY_ACTIVE","ACTION_APPOINTMENT_NOTES_INVALID","ACTION_APPOINTMENT_NOTES_VALID","ACTION_BOOKING_SUMMARY_NOT_ACTIVE","ACTION_TIME_PREFERENCE_PAGE_OPENED","ACTION_PAYMENT_INFO_PAGE_OPENED","FontAwesomeIcon","faChevronLeft","faChevronRight","Form","FormGroup","FormText","Label","Input","GuestCheckout","props","dispatch","location","firstName","state","first_name","lastName","last_name","continueToBookingSummaryActive","bookingSummaryActive","splashScreenComplete","userAuthenticated","user_authenticated","emailIsValid","email_valid","phoneIsValid","phone_valid","appointmentNotes","appointment_notes","appointmentNotesValid","redirectToHome","currentScreenSize","initialScreenSize","redirectToConfirmationPage","handleFirstName","e","currentTarget","value","trim","handleLastName","firstNameTyping","lastNameTyping","appointmentNotesTyping","handleConfirmDetailsButtonClick","renderRemainingCharacters","remainingCharacters","unshift","Math","abs","length","push","join","pathname","includes","window","scrollTo","display","fontFamily","color","transition","pointerEvents","background"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Link, useLocation, Redirect } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Email from \"./Form/Email\";\r\nimport PhoneNumber from \"./Form/PhoneNumber\";\r\nimport ACTION_FIRST_NAME from \"../../actions/GuestCheckoutForm/FirstName/ACTION_FIRST_NAME\";\r\nimport ACTION_LAST_NAME from \"../../actions/GuestCheckoutForm/LastName/ACTION_LAST_NAME\";\r\nimport ACTION_FIRST_NAME_RESET from \"../../actions/GuestCheckoutForm/FirstName/ACTION_FIRST_NAME_RESET\";\r\nimport ACTION_LAST_NAME_RESET from \"../../actions/GuestCheckoutForm/LastName/ACTION_LAST_NAME_RESET\";\r\nimport ACTION_APPOINTMENT_NOTES from \"../../actions/GuestCheckoutForm/AppointmentNotes/ACTION_APPOINTMENT_NOTES\";\r\nimport ACTION_BOOKING_SUMMARY_ACTIVE from \"../../actions/ContinueToBookingSummaryButtonActive/ACTION_BOOKING_SUMMARY_ACTIVE\";\r\nimport ACTION_APPOINTMENT_NOTES_INVALID from \"../../actions/GuestCheckoutForm/AppointmentNotes/ACTION_APPOINTMENT_NOTES_INVALID\";\r\nimport ACTION_APPOINTMENT_NOTES_VALID from \"../../actions/GuestCheckoutForm/AppointmentNotes/ACTION_APPOINTMENT_NOTES_VALID\";\r\nimport ACTION_BOOKING_SUMMARY_NOT_ACTIVE from \"../../actions/ContinueToBookingSummaryButtonActive/ACTION_BOOKING_SUMMARY_NOT_ACTIVE\";\r\nimport ACTION_TIME_PREFERENCE_PAGE_OPENED from \"../../actions/InCart/CartPageOpened/ACTION_TIME_PREFERENCE_PAGE_OPENED\";\r\nimport ACTION_PAYMENT_INFO_PAGE_OPENED from \"../../actions/InCart/CartPageOpened/ACTION_PAYMENT_INFO_PAGE_OPENED\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faChevronLeft,\r\n  faChevronRight,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Form, FormGroup, FormText, Label, Input } from \"reactstrap\";\r\nimport \"./GuestCheckout.css\";\r\n\r\n// Minified Bootstrap CSS file (for Forms)\r\nimport \"../../bootstrap_forms.min.css\";\r\n\r\nconst GuestCheckout = (props) => {\r\n  const dispatch = useDispatch();\r\n  let location = useLocation();\r\n\r\n  const firstName = useSelector((state) => state.firstName.first_name);\r\n  const lastName = useSelector((state) => state.lastName.last_name);\r\n  const continueToBookingSummaryActive = useSelector(\r\n    (state) => state.continueToBookingSummaryActive.bookingSummaryActive\r\n  );\r\n  const splashScreenComplete = useSelector(\r\n    (state) => state.splashScreenComplete.splashScreenComplete\r\n  );\r\n  const userAuthenticated = useSelector(\r\n    (state) => state.userAuthenticated.user_authenticated\r\n  );\r\n\r\n  // Email States\r\n  const emailIsValid = useSelector((state) => state.emailIsValid.email_valid);\r\n\r\n  // Phone Number States\r\n  const phoneIsValid = useSelector((state) => state.phoneIsValid.phone_valid);\r\n\r\n  // Appointment Notes States\r\n  const appointmentNotes = useSelector(\r\n    (state) => state.appointmentNotes.appointment_notes\r\n  );\r\n  const appointmentNotesValid = useSelector(\r\n    (state) => state.appointmentNotesValid.appointmentNotesValid\r\n  );\r\n\r\n  const redirectToHome = () => {\r\n    if (!splashScreenComplete) {\r\n      return <Redirect to=\"/\" />;\r\n    } else if (!props.currentScreenSize) {\r\n      if (props.initialScreenSize >= 1200) {\r\n        return <Redirect to=\"/\" />;\r\n      }\r\n    } else if (props.currentScreenSize >= 1200) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const redirectToConfirmationPage = () => {\r\n    if (userAuthenticated) {\r\n      return <Redirect to=\"/checkout/confirmation\" />;\r\n    }\r\n  };\r\n\r\n  const handleFirstName = (e) => {\r\n    dispatch(ACTION_FIRST_NAME(e.currentTarget.value.trim()));\r\n  };\r\n\r\n  const handleLastName = (e) => {\r\n    dispatch(ACTION_LAST_NAME(e.currentTarget.value.trim()));\r\n  };\r\n\r\n  const firstNameTyping = () => {\r\n    dispatch(ACTION_FIRST_NAME_RESET());\r\n  };\r\n\r\n  const lastNameTyping = () => {\r\n    dispatch(ACTION_LAST_NAME_RESET());\r\n  };\r\n\r\n  const appointmentNotesTyping = (e) => {\r\n    dispatch(ACTION_APPOINTMENT_NOTES(e.currentTarget.value.trim()));\r\n  };\r\n\r\n  const handleConfirmDetailsButtonClick = () => {\r\n    dispatch(ACTION_BOOKING_SUMMARY_ACTIVE());\r\n    dispatch(ACTION_PAYMENT_INFO_PAGE_OPENED());\r\n  };\r\n\r\n  const renderRemainingCharacters = () => {\r\n    let remainingCharacters = [];\r\n\r\n    if (appointmentNotes) {\r\n      remainingCharacters.unshift(\"(\", Math.abs(500 - appointmentNotes.length));\r\n\r\n      if (500 - appointmentNotes.length === 1) {\r\n        remainingCharacters.push(\" character remaining).\");\r\n\r\n        if (!appointmentNotesValid) {\r\n          dispatch(ACTION_APPOINTMENT_NOTES_VALID());\r\n        }\r\n      } else {\r\n        if (500 - appointmentNotes.length < 0) {\r\n          remainingCharacters.push(\" too many).\");\r\n          dispatch(ACTION_BOOKING_SUMMARY_NOT_ACTIVE());\r\n          if (appointmentNotesValid) {\r\n            dispatch(ACTION_APPOINTMENT_NOTES_INVALID());\r\n          }\r\n        } else {\r\n          remainingCharacters.push(\" characters remaining).\");\r\n\r\n          if (!appointmentNotesValid) {\r\n            dispatch(ACTION_APPOINTMENT_NOTES_VALID());\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return remainingCharacters.join(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.includes(\"checkout\")) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  return (\r\n    <div className=\"checkout_container\">\r\n      {redirectToHome()}\r\n      {redirectToConfirmationPage()}\r\n      <div className=\"checkout_container_header\">\r\n        <Link\r\n          to={\r\n            !props.currentScreenSize\r\n              ? props.initialScreenSize >= 1200\r\n                ? \"/\"\r\n                : \"/availability/timepreference\"\r\n              : props.currentScreenSize >= 1200\r\n              ? \"/\"\r\n              : \"/availability/timepreference\"\r\n          }\r\n          onClick={() => dispatch(ACTION_TIME_PREFERENCE_PAGE_OPENED())}\r\n        >\r\n          <FontAwesomeIcon\r\n            className=\"checkout_back_arrow\"\r\n            icon={faChevronLeft}\r\n          />\r\n        </Link>\r\n        <h1>CHECKOUT</h1>\r\n        <Link\r\n          to={\r\n            !props.currentScreenSize\r\n              ? props.initialScreenSize >= 1200\r\n                ? \"/\"\r\n                : \"/paymentinfo\"\r\n              : props.currentScreenSize >= 1200\r\n              ? \"/\"\r\n              : \"/paymentinfo\"\r\n          }\r\n          onClick={() => dispatch(ACTION_PAYMENT_INFO_PAGE_OPENED())}\r\n        >\r\n          <FontAwesomeIcon\r\n            className=\"checkout_forward_arrow\"\r\n            style={{\r\n              display: continueToBookingSummaryActive ? \"block\" : \"none\",\r\n            }}\r\n            icon={faChevronRight}\r\n          />\r\n        </Link>\r\n      </div>\r\n      <div className=\"checkout_header\">\r\n        <h2>CHECKOUT AS GUEST</h2>\r\n      </div>\r\n      <div className=\"guest_checkout_form_container\">\r\n        <Form>\r\n          <FormGroup>\r\n            <Label for=\"firstName\">\r\n              {\" \"}\r\n              <div className=\"top_form_container\">\r\n                <div className=\"required_label\">\r\n                  First Name<p className=\"required_label red_asterisk\">* </p>\r\n                </div>\r\n                <div className=\"required_fields_container\">\r\n                  <p className=\"red_asterisk\">* </p>{\" \"}\r\n                  <p className=\"required_fields_statement\"> Required Fields</p>\r\n                </div>\r\n              </div>\r\n            </Label>\r\n            <Input\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              defaultValue={firstName}\r\n              maxLength={50}\r\n              placeholder=\"First name\"\r\n              className=\"input_field\"\r\n              onBlur={handleFirstName}\r\n              onChange={firstNameTyping}\r\n              valid={firstName === \"\" ? false : true}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label for=\"lastName\">\r\n              <div className=\"required_label\">\r\n                Last Name<p className=\"required_label red_asterisk\">* </p>\r\n              </div>\r\n            </Label>\r\n            <Input\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              defaultValue={lastName}\r\n              maxLength={50}\r\n              placeholder=\"Last name\"\r\n              onChange={lastNameTyping}\r\n              onBlur={handleLastName}\r\n              className=\"input_field\"\r\n              valid={lastName === \"\" ? false : true}\r\n            />\r\n          </FormGroup>\r\n          <Email />\r\n          <PhoneNumber />\r\n          <FormGroup>\r\n            <Label for=\"appointmentNotes\">Appointment Notes</Label>\r\n            <Input\r\n              type=\"textarea\"\r\n              className=\"form_appointment_notes form_notes_container\"\r\n              maxLength={1000}\r\n              placeholder=\"Enter any skin care issues/concerns here.\"\r\n              defaultValue={appointmentNotes}\r\n              style={{\r\n                fontFamily: \"Montserrat\",\r\n              }}\r\n              name=\"appointmentNotes\"\r\n              onChange={appointmentNotesTyping}\r\n            />\r\n            <FormText\r\n              className=\"form_appointment_notes_caption\"\r\n              style={{ color: \"rgb(151, 151, 151)\" }}\r\n            >\r\n              <p\r\n                style={{\r\n                  color:\r\n                    500 - appointmentNotes.length < 0\r\n                      ? \"rgb(255, 22, 34)\"\r\n                      : \"rgb(151, 151, 151)\",\r\n                  transition: \"color 0.5s ease\",\r\n                }}\r\n                className=\"notes_character_limit\"\r\n              >\r\n                Maximum 500 characters {renderRemainingCharacters()}\r\n              </p>\r\n              <p>\r\n                To protect your privacy, do not include any privileged material\r\n                such as personal health information.{\" \"}\r\n              </p>\r\n            </FormText>\r\n          </FormGroup>\r\n        </Form>\r\n        <div className=\"guest_checkout_bottom_buttons_container\">\r\n          <Link\r\n            to={\r\n              !props.currentScreenSize\r\n                ? props.initialScreenSize >= 1200\r\n                  ? \"/\"\r\n                  : \"/paymentinfo\"\r\n                : props.currentScreenSize >= 1200\r\n                ? \"/\"\r\n                : \"/paymentinfo\"\r\n            }\r\n            style={{\r\n              display: \"block\",\r\n              pointerEvents:\r\n                firstName &&\r\n                lastName &&\r\n                emailIsValid &&\r\n                phoneIsValid &&\r\n                appointmentNotesValid\r\n                  ? \"auto\"\r\n                  : \"none\",\r\n            }}\r\n            onClick={handleConfirmDetailsButtonClick}\r\n          >\r\n            <div\r\n              className=\"confirm_details_button\"\r\n              style={{\r\n                background:\r\n                  firstName &&\r\n                  lastName &&\r\n                  emailIsValid &&\r\n                  phoneIsValid &&\r\n                  appointmentNotesValid\r\n                    ? \"rgb(44, 44, 52)\"\r\n                    : \"#f0f0f0\",\r\n                color:\r\n                  firstName &&\r\n                  lastName &&\r\n                  emailIsValid &&\r\n                  phoneIsValid &&\r\n                  appointmentNotesValid\r\n                    ? \"rgb(255, 255, 255)\"\r\n                    : \"rgb(201, 201, 201)\",\r\n                transition: \"background 0.5s ease, color 0.5s ease\",\r\n              }}\r\n            >\r\n              <p>Payment Details</p>\r\n            </div>\r\n          </Link>\r\n          <Link\r\n            to={\r\n              !props.currentScreenSize\r\n                ? props.initialScreenSize >= 1200\r\n                  ? \"/\"\r\n                  : \"/availability/timepreference\"\r\n                : props.currentScreenSize >= 1200\r\n                ? \"/\"\r\n                : \"/availability/timepreference\"\r\n            }\r\n            onClick={() => dispatch(ACTION_TIME_PREFERENCE_PAGE_OPENED())}\r\n          >\r\n            <div className=\"change_time_button\">\r\n              <p>Change Time</p>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GuestCheckout;\r\n"]},"metadata":{},"sourceType":"module"}