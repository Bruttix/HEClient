{"ast":null,"code":"import React,{useEffect,useCallback,useRef,useMemo}from\"react\";import{Link,useLocation,Redirect}from\"react-router-dom\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faShoppingCart,faChevronLeft,faChevronRight,faChevronCircleDown}from\"@fortawesome/free-solid-svg-icons\";import{useDispatch,useSelector}from\"react-redux\";import CalmCard from\"./Treatment_Cards/Calm/CalmCard\";import ClarifyCard from\"./Treatment_Cards/Clarify/ClarifyCard\";import CBDCard from\"./Treatment_Cards/CBD/CBDCard\";import GlowCard from\"./Treatment_Cards/Glow/GlowCard\";import DermaplaningCard from\"./Treatment_Cards/Dermaplaning/DermaplaningCard\";import ChemicalPeelCard from\"./Treatment_Cards/ChemicalPeel/ChemicalPeelCard\";import BacialCard from\"./Treatment_Cards/Bacial/BacialCard\";import MicroneedleCard from\"./Treatment_Cards/Microneedle/MicroneedleCard\";import RejuvenateCard from\"./Treatment_Cards/Rejuvenate/RejuvenateCard\";import QuickieCard from\"./Treatment_Cards/Quickie/QuickieCard\";import QuenchCard from\"./Treatment_Cards/Quench/QuenchCard\";import ExtraExtractionsCard from\"./Add_On_Cards/ExtraExtractions/ExtraExtractionsCard\";import HydroJellyMaskCard from\"./Add_On_Cards/HydroJellyMask/HydroJellyMaskCard\";import LEDTherapyCard from\"./Add_On_Cards/LEDTherapy/LEDTherapyCard\";import MicrocurrentCard from\"./Add_On_Cards/Microcurrent/MicrocurrentCard\";import MicrodermabrasionCard from\"./Add_On_Cards/Microdermabrasion/MicrodermabrasionCard\";import DermarollingCard from\"./Add_On_Cards/Dermarolling/DermarollingCard\";import NanoNeedlingCard from\"./Add_On_Cards/NanoNeedling/NanoNeedlingCard\";import GuaShaCard from\"./Add_On_Cards/GuaSha/GuaShaCard\";import BeardCard from\"./Add_On_Cards/Beard/BeardCard\";import UnsureCard from\"./Treatment_Cards/Unsure/UnsureCard\";import SaltCaveCard from\"./Treatment_Cards/SaltCave/SaltCaveCard\";import NoFacialSelected from\"./Treatment_Cards/NoFacialSelected\";import{FormGroup,Input}from\"reactstrap\";import{animateScroll}from\"react-scroll\";import ACTION_CART_IS_ACTIVE from\"../../actions/CartIsActive/ACTION_CART_IS_ACTIVE\";import ACTION_CART_PAGE_RESET from\"../../actions/InCart/CartPageOpened/ACTION_CART_PAGE_RESET\";import ACTION_AVAILABILITY_PAGE_OPENED from\"../../actions/InCart/CartPageOpened/ACTION_AVAILABILITY_PAGE_OPENED\";import ACTION_SELECTED_ESTHETICIAN from\"../../actions/SelectedEsthetician/ACTION_SELECTED_ESTHETICIAN\";import ACTION_SELECTED_ESTHETICIAN_RESET from\"../../actions/SelectedEsthetician/ACTION_SELECTED_ESTHETICIAN_RESET\";import ACTION_CART_IS_NOT_ACTIVE from\"../../actions/CartIsActive/ACTION_CART_IS_NOT_ACTIVE\";import ACTION_AVAILABILITY_CLICKED from\"../../actions/AvailabilityClicked/ACTION_AVAILABILITY_CLICKED\";import ACTION_TOTAL_PRICE from\"../../actions/TotalPrice/ACTION_TOTAL_PRICE\";import\"./ShoppingCart.css\";const ShoppingCart=props=>{const dispatch=useDispatch();let location=useLocation();const shoppingCartRef=useRef(null);// In Cart states\n// Treatments\nconst calmInCart=useSelector(state=>state.calmInCart.in_cart);const clarifyInCart=useSelector(state=>state.clarifyInCart.in_cart);const bacialInCart=useSelector(state=>state.bacialInCart.in_cart);const glowInCart=useSelector(state=>state.glowInCart.in_cart);const cbdInCart=useSelector(state=>state.cbdInCart.in_cart);const chemicalPeelInCart=useSelector(state=>state.chemicalPeelInCart.in_cart);const dermaplaningInCart=useSelector(state=>state.dermaplaningInCart.in_cart);const microneedleInCart=useSelector(state=>state.microneedleInCart.in_cart);const quenchInCart=useSelector(state=>state.quenchInCart.in_cart);const quickieInCart=useSelector(state=>state.quickieInCart.in_cart);const rejuvenateInCart=useSelector(state=>state.rejuvenateInCart.in_cart);const unsureInCart=useSelector(state=>state.unsureInCart.in_cart);const saltCaveInCart=useSelector(state=>state.saltCaveInCart.in_cart);const addOnsArr=useSelector(state=>state.addOnsArr.add_ons_arr);const treatmentsArr=useSelector(state=>state.treatmentsArr.treatments_arr);const counter=useSelector(state=>state.counterReducer.counter);const availabilityClicked=useSelector(state=>state.availabilityClicked.availabilityClicked);const totalPrice=useSelector(state=>state.totalPrice.totalPrice);const splashScreenComplete=useSelector(state=>state.splashScreenComplete.splashScreenComplete);const selectedEsthetician=useSelector(state=>state.selectedEsthetician.selectedEsthetician);const redirectToHome=()=>{if(!splashScreenComplete){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else if(!props.currentScreenSize){if(props.initialScreenSize>=1200){if(location.pathname!==\"/\"){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}}}else if(props.currentScreenSize>=1200){if(location.pathname!==\"/\"){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}}};const backToHome=()=>{dispatch(ACTION_CART_IS_NOT_ACTIVE());dispatch(ACTION_CART_PAGE_RESET());};const availabilityHasBeenClicked=()=>{dispatch(ACTION_AVAILABILITY_PAGE_OPENED());if(!availabilityClicked){dispatch(ACTION_AVAILABILITY_CLICKED());document.body.style.setProperty(\"background\",\"rgb(255, 255, 255)\");}};const renderCartFacials=()=>{if(counter===0){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"empty_cart_container\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"empty_shopping_cart\",color:\"rgba(211, 211, 211, 0.6)\",icon:faShoppingCart}),/*#__PURE__*/React.createElement(\"h3\",null,\"No items in your cart\")),/*#__PURE__*/React.createElement(\"p\",{className:\"cart_statement\"},\"You do not have any facial treatments or add-ons in your cart right now\"));}else{if(calmInCart){return/*#__PURE__*/React.createElement(CalmCard,{resetAllCartStates:props.resetAllCartStates});}else if(clarifyInCart){return/*#__PURE__*/React.createElement(ClarifyCard,{resetAllCartStates:props.resetAllCartStates});}else if(cbdInCart){return/*#__PURE__*/React.createElement(CBDCard,{resetAllCartStates:props.resetAllCartStates});}else if(glowInCart){return/*#__PURE__*/React.createElement(GlowCard,{resetAllCartStates:props.resetAllCartStates});}else if(dermaplaningInCart){return/*#__PURE__*/React.createElement(DermaplaningCard,{resetAllCartStates:props.resetAllCartStates});}else if(chemicalPeelInCart){return/*#__PURE__*/React.createElement(ChemicalPeelCard,{resetAllCartStates:props.resetAllCartStates});}else if(bacialInCart){return/*#__PURE__*/React.createElement(BacialCard,{resetAllCartStates:props.resetAllCartStates});}else if(microneedleInCart){return/*#__PURE__*/React.createElement(MicroneedleCard,{resetAllCartStates:props.resetAllCartStates});}else if(rejuvenateInCart){return/*#__PURE__*/React.createElement(RejuvenateCard,{resetAllCartStates:props.resetAllCartStates});}else if(quickieInCart){return/*#__PURE__*/React.createElement(QuickieCard,{resetAllCartStates:props.resetAllCartStates});}else if(quenchInCart){return/*#__PURE__*/React.createElement(QuenchCard,{resetAllCartStates:props.resetAllCartStates});}else if(unsureInCart){return/*#__PURE__*/React.createElement(UnsureCard,{resetAllCartStates:props.resetAllCartStates});}else if(saltCaveInCart){return/*#__PURE__*/React.createElement(SaltCaveCard,{resetAllCartStates:props.resetAllCartStates});}else{if(addOnsArr.length>0){return/*#__PURE__*/React.createElement(NoFacialSelected,{addOnsArr:addOnsArr,resetAllCartStates:props.resetAllCartStates});}}}};const addOnsCardComponentsArr=[{name:\"ExtraExtractions\",component:/*#__PURE__*/React.createElement(ExtraExtractionsCard,{resetAllCartStatesExceptTreatments:props.resetAllCartStatesExceptTreatments})},{name:\"HydroJelly\",component:/*#__PURE__*/React.createElement(HydroJellyMaskCard,{resetAllCartStatesExceptTreatments:props.resetAllCartStatesExceptTreatments})},{name:\"LED\",component:/*#__PURE__*/React.createElement(LEDTherapyCard,{resetAllCartStatesExceptTreatments:props.resetAllCartStatesExceptTreatments})},{name:\"Microcurrent\",component:/*#__PURE__*/React.createElement(MicrocurrentCard,{resetAllCartStatesExceptTreatments:props.resetAllCartStatesExceptTreatments})},{name:\"Microdermabrasion\",component:/*#__PURE__*/React.createElement(MicrodermabrasionCard,{resetAllCartStatesExceptTreatments:props.resetAllCartStatesExceptTreatments})},{name:\"Dermarolling\",component:/*#__PURE__*/React.createElement(DermarollingCard,{resetAllCartStatesExceptTreatments:props.resetAllCartStatesExceptTreatments})},{name:\"NanoNeedling\",component:/*#__PURE__*/React.createElement(NanoNeedlingCard,{resetAllCartStatesExceptTreatments:props.resetAllCartStatesExceptTreatments})},{name:\"GuaSha\",component:/*#__PURE__*/React.createElement(GuaShaCard,{resetAllCartStatesExceptTreatments:props.resetAllCartStatesExceptTreatments})},{name:\"Beard\",component:/*#__PURE__*/React.createElement(BeardCard,{resetAllCartStatesExceptTreatments:props.resetAllCartStatesExceptTreatments})}];const componentNames=addOnsArr.map(item=>item.name);const renderCartAddOns=()=>{let componentsArr=[];for(let i=0;i<addOnsCardComponentsArr.length;i++){if(componentNames.indexOf(addOnsCardComponentsArr[i].name)>-1){componentsArr.push(addOnsCardComponentsArr[i].component);}}return componentsArr.map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{key:index},item));};const calculateSubtotal=useCallback(()=>{let treatmentsPriceArr=[];let addOnsPriceArr=[];let cartSubtotal=null;if(treatmentsArr.length>0){treatmentsPriceArr=[treatmentsArr[0].price];}if(addOnsArr.length>0){addOnsPriceArr=addOnsArr.map(item=>item.price);}let totalPricesArr=addOnsPriceArr.concat(treatmentsPriceArr);if(totalPricesArr.length>0){cartSubtotal=totalPricesArr.reduce((a,b)=>a+b);dispatch(ACTION_TOTAL_PRICE(cartSubtotal));}},[addOnsArr,treatmentsArr,dispatch]);useEffect(()=>{calculateSubtotal();},[calculateSubtotal]);useEffect(()=>{if(location.pathname.includes(\"cart\")){animateScroll.scrollToTop({containerId:\"shopping_cart\",offset:-500});}},[location.pathname]);useMemo(()=>{if(saltCaveInCart){dispatch(ACTION_SELECTED_ESTHETICIAN(\"Salt Cave\"));}},[dispatch,saltCaveInCart]);const renderEstheticianNames=()=>{if(props.getEmployeesData){if(props.getEmployeesData.employees){const filteredEmployeesArr=props.getEmployeesData.employees.filter(x=>{return x.employeeRole.includes(\"Esthetician\");});return filteredEmployeesArr.map((x,i)=>{return/*#__PURE__*/React.createElement(\"option\",{key:i,value:x.firstName[0].toUpperCase()+x.firstName.slice(1).toLowerCase()+\" \"+x.lastName[0].toUpperCase()+x.lastName.slice(1).toLowerCase()},x.firstName[0].toUpperCase()+x.firstName.slice(1).toLowerCase()+\" \"+x.lastName[0].toUpperCase()+\".\");});}}};useEffect(()=>{dispatch(ACTION_CART_IS_ACTIVE());return()=>{if(!props.currentScreenSize){if(props.initialScreenSize<1200){dispatch(ACTION_CART_IS_NOT_ACTIVE());}}else if(props.currentScreenSize<1200){dispatch(ACTION_CART_IS_NOT_ACTIVE());}};},[dispatch,props.currentScreenSize,props.initialScreenSize]);useEffect(()=>{window.addEventListener(\"popstate\",()=>{if(document.location.href.includes(\"availability\")){dispatch(ACTION_AVAILABILITY_PAGE_OPENED());}});},[dispatch]);return/*#__PURE__*/React.createElement(\"div\",{className:\"shopping_cart_container\",id:\"shopping_cart\",ref:shoppingCartRef},redirectToHome(),/*#__PURE__*/React.createElement(\"div\",{className:\"shopping_cart_header\",style:{borderBottom:counter===0?\"1px solid rgb(44, 44, 52)\":\"none\"}},/*#__PURE__*/React.createElement(Link,{to:location.pathname.includes(\"account\")?location.pathname:\"/\",onClick:backToHome},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"shopping_cart_back_arrow\",icon:faChevronLeft})),/*#__PURE__*/React.createElement(\"h1\",null,\"MY CART\"),/*#__PURE__*/React.createElement(Link,{to:!props.currentScreenSize?props.initialScreenSize>=1200?\"/\":\"/availability\":props.currentScreenSize>=1200?\"/\":\"/availability\",onClick:()=>dispatch(ACTION_AVAILABILITY_PAGE_OPENED())},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"shopping_cart_forward_arrow\",style:{display:availabilityClicked?\"block\":\"none\"},icon:faChevronRight}))),/*#__PURE__*/React.createElement(\"div\",{className:\"cart_header\",style:{display:counter===0?\"none\":\"flex\"}},/*#__PURE__*/React.createElement(\"h2\",null,\"MY \",saltCaveInCart?\"TREATMENT\":\"FACIAL\")),renderCartFacials(),/*#__PURE__*/React.createElement(\"div\",{className:\"cart_header\",style:{display:addOnsArr.length===0?\"none\":\"flex\"}},/*#__PURE__*/React.createElement(\"h2\",null,\"MY ADD-ON\",addOnsArr.length>1?\"S\":null)),renderCartAddOns(),/*#__PURE__*/React.createElement(\"div\",{className:\"cart_subtotal\",style:{display:counter===0?\"none\":\"flex\"}},/*#__PURE__*/React.createElement(\"p\",null,\"Cart Subtotal\"),/*#__PURE__*/React.createElement(\"p\",null,\"$\",totalPrice)),treatmentsArr.length===0||saltCaveInCart?null:/*#__PURE__*/React.createElement(\"div\",{className:\"esthetician_preference_dropdown\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"esthetician_preference_formgroup\"},/*#__PURE__*/React.createElement(\"p\",null,\"Would you like to book an appointment with a particular esthetician?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"esthetician_preference_dropdown_input_field\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"esthetician_preference_dropdown_icon\",icon:faChevronCircleDown}),/*#__PURE__*/React.createElement(Input,{className:\"esthetician_preference_input\",type:\"select\",name:\"select\",defaultValue:selectedEsthetician,placeholder:\"No preference\",id:\"esthetician_preference\",onChange:e=>{props.resetAllCartStatesExceptTreatments();if(e.target.value===\"No preference\"){dispatch(ACTION_SELECTED_ESTHETICIAN_RESET());}else{dispatch(ACTION_SELECTED_ESTHETICIAN(e.target.value));}}},/*#__PURE__*/React.createElement(\"option\",null,\"No preference\"),renderEstheticianNames())))),/*#__PURE__*/React.createElement(Link,{to:!props.currentScreenSize?props.initialScreenSize>=1200?\"/\":\"/availability\":props.currentScreenSize>=1200?\"/\":\"/availability\",onClick:availabilityHasBeenClicked,className:\"search_availability_button_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"search_availability_button\",style:{display:treatmentsArr.length===0?\"none\":\"flex\",marginTop:counter===0?\"0vh\":\"2vh\"}},/*#__PURE__*/React.createElement(\"p\",null,\"Search Availability\"))),/*#__PURE__*/React.createElement(Link,{to:\"/\",onClick:backToHome,className:\"continue_shopping_button_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"continue_shopping_button\",style:{marginTop:counter===0?\"0vh\":\"1.5rem\"}},/*#__PURE__*/React.createElement(\"p\",null,\"Continue Shopping\"))));};export default ShoppingCart;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/HighEnd/Client/src/components/shopping_cart/ShoppingCart.js"],"names":["React","useEffect","useCallback","useRef","useMemo","Link","useLocation","Redirect","FontAwesomeIcon","faShoppingCart","faChevronLeft","faChevronRight","faChevronCircleDown","useDispatch","useSelector","CalmCard","ClarifyCard","CBDCard","GlowCard","DermaplaningCard","ChemicalPeelCard","BacialCard","MicroneedleCard","RejuvenateCard","QuickieCard","QuenchCard","ExtraExtractionsCard","HydroJellyMaskCard","LEDTherapyCard","MicrocurrentCard","MicrodermabrasionCard","DermarollingCard","NanoNeedlingCard","GuaShaCard","BeardCard","UnsureCard","SaltCaveCard","NoFacialSelected","FormGroup","Input","animateScroll","ACTION_CART_IS_ACTIVE","ACTION_CART_PAGE_RESET","ACTION_AVAILABILITY_PAGE_OPENED","ACTION_SELECTED_ESTHETICIAN","ACTION_SELECTED_ESTHETICIAN_RESET","ACTION_CART_IS_NOT_ACTIVE","ACTION_AVAILABILITY_CLICKED","ACTION_TOTAL_PRICE","ShoppingCart","props","dispatch","location","shoppingCartRef","calmInCart","state","in_cart","clarifyInCart","bacialInCart","glowInCart","cbdInCart","chemicalPeelInCart","dermaplaningInCart","microneedleInCart","quenchInCart","quickieInCart","rejuvenateInCart","unsureInCart","saltCaveInCart","addOnsArr","add_ons_arr","treatmentsArr","treatments_arr","counter","counterReducer","availabilityClicked","totalPrice","splashScreenComplete","selectedEsthetician","redirectToHome","currentScreenSize","initialScreenSize","pathname","backToHome","availabilityHasBeenClicked","document","body","style","setProperty","renderCartFacials","resetAllCartStates","length","addOnsCardComponentsArr","name","component","resetAllCartStatesExceptTreatments","componentNames","map","item","renderCartAddOns","componentsArr","i","indexOf","push","index","calculateSubtotal","treatmentsPriceArr","addOnsPriceArr","cartSubtotal","price","totalPricesArr","concat","reduce","a","b","includes","scrollToTop","containerId","offset","renderEstheticianNames","getEmployeesData","employees","filteredEmployeesArr","filter","x","employeeRole","firstName","toUpperCase","slice","toLowerCase","lastName","window","addEventListener","href","borderBottom","display","e","target","value","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useCallback, useRef, useMemo } from \"react\";\r\nimport { Link, useLocation, Redirect } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faShoppingCart,\r\n  faChevronLeft,\r\n  faChevronRight,\r\n  faChevronCircleDown,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport CalmCard from \"./Treatment_Cards/Calm/CalmCard\";\r\nimport ClarifyCard from \"./Treatment_Cards/Clarify/ClarifyCard\";\r\nimport CBDCard from \"./Treatment_Cards/CBD/CBDCard\";\r\nimport GlowCard from \"./Treatment_Cards/Glow/GlowCard\";\r\nimport DermaplaningCard from \"./Treatment_Cards/Dermaplaning/DermaplaningCard\";\r\nimport ChemicalPeelCard from \"./Treatment_Cards/ChemicalPeel/ChemicalPeelCard\";\r\nimport BacialCard from \"./Treatment_Cards/Bacial/BacialCard\";\r\nimport MicroneedleCard from \"./Treatment_Cards/Microneedle/MicroneedleCard\";\r\nimport RejuvenateCard from \"./Treatment_Cards/Rejuvenate/RejuvenateCard\";\r\nimport QuickieCard from \"./Treatment_Cards/Quickie/QuickieCard\";\r\nimport QuenchCard from \"./Treatment_Cards/Quench/QuenchCard\";\r\nimport ExtraExtractionsCard from \"./Add_On_Cards/ExtraExtractions/ExtraExtractionsCard\";\r\nimport HydroJellyMaskCard from \"./Add_On_Cards/HydroJellyMask/HydroJellyMaskCard\";\r\nimport LEDTherapyCard from \"./Add_On_Cards/LEDTherapy/LEDTherapyCard\";\r\nimport MicrocurrentCard from \"./Add_On_Cards/Microcurrent/MicrocurrentCard\";\r\nimport MicrodermabrasionCard from \"./Add_On_Cards/Microdermabrasion/MicrodermabrasionCard\";\r\nimport DermarollingCard from \"./Add_On_Cards/Dermarolling/DermarollingCard\";\r\nimport NanoNeedlingCard from \"./Add_On_Cards/NanoNeedling/NanoNeedlingCard\";\r\nimport GuaShaCard from \"./Add_On_Cards/GuaSha/GuaShaCard\";\r\nimport BeardCard from \"./Add_On_Cards/Beard/BeardCard\";\r\nimport UnsureCard from \"./Treatment_Cards/Unsure/UnsureCard\";\r\nimport SaltCaveCard from \"./Treatment_Cards/SaltCave/SaltCaveCard\";\r\nimport NoFacialSelected from \"./Treatment_Cards/NoFacialSelected\";\r\nimport { FormGroup, Input } from \"reactstrap\";\r\nimport { animateScroll } from \"react-scroll\";\r\nimport ACTION_CART_IS_ACTIVE from \"../../actions/CartIsActive/ACTION_CART_IS_ACTIVE\";\r\nimport ACTION_CART_PAGE_RESET from \"../../actions/InCart/CartPageOpened/ACTION_CART_PAGE_RESET\";\r\nimport ACTION_AVAILABILITY_PAGE_OPENED from \"../../actions/InCart/CartPageOpened/ACTION_AVAILABILITY_PAGE_OPENED\";\r\nimport ACTION_SELECTED_ESTHETICIAN from \"../../actions/SelectedEsthetician/ACTION_SELECTED_ESTHETICIAN\";\r\nimport ACTION_SELECTED_ESTHETICIAN_RESET from \"../../actions/SelectedEsthetician/ACTION_SELECTED_ESTHETICIAN_RESET\";\r\nimport ACTION_CART_IS_NOT_ACTIVE from \"../../actions/CartIsActive/ACTION_CART_IS_NOT_ACTIVE\";\r\nimport ACTION_AVAILABILITY_CLICKED from \"../../actions/AvailabilityClicked/ACTION_AVAILABILITY_CLICKED\";\r\nimport ACTION_TOTAL_PRICE from \"../../actions/TotalPrice/ACTION_TOTAL_PRICE\";\r\nimport \"./ShoppingCart.css\";\r\n\r\nconst ShoppingCart = (props) => {\r\n  const dispatch = useDispatch();\r\n  let location = useLocation();\r\n\r\n  const shoppingCartRef = useRef(null);\r\n\r\n  // In Cart states\r\n  // Treatments\r\n  const calmInCart = useSelector((state) => state.calmInCart.in_cart);\r\n  const clarifyInCart = useSelector((state) => state.clarifyInCart.in_cart);\r\n  const bacialInCart = useSelector((state) => state.bacialInCart.in_cart);\r\n  const glowInCart = useSelector((state) => state.glowInCart.in_cart);\r\n  const cbdInCart = useSelector((state) => state.cbdInCart.in_cart);\r\n  const chemicalPeelInCart = useSelector(\r\n    (state) => state.chemicalPeelInCart.in_cart\r\n  );\r\n  const dermaplaningInCart = useSelector(\r\n    (state) => state.dermaplaningInCart.in_cart\r\n  );\r\n  const microneedleInCart = useSelector(\r\n    (state) => state.microneedleInCart.in_cart\r\n  );\r\n  const quenchInCart = useSelector((state) => state.quenchInCart.in_cart);\r\n  const quickieInCart = useSelector((state) => state.quickieInCart.in_cart);\r\n  const rejuvenateInCart = useSelector(\r\n    (state) => state.rejuvenateInCart.in_cart\r\n  );\r\n  const unsureInCart = useSelector((state) => state.unsureInCart.in_cart);\r\n  const saltCaveInCart = useSelector((state) => state.saltCaveInCart.in_cart);\r\n\r\n  const addOnsArr = useSelector((state) => state.addOnsArr.add_ons_arr);\r\n  const treatmentsArr = useSelector(\r\n    (state) => state.treatmentsArr.treatments_arr\r\n  );\r\n  const counter = useSelector((state) => state.counterReducer.counter);\r\n  const availabilityClicked = useSelector(\r\n    (state) => state.availabilityClicked.availabilityClicked\r\n  );\r\n  const totalPrice = useSelector((state) => state.totalPrice.totalPrice);\r\n  const splashScreenComplete = useSelector(\r\n    (state) => state.splashScreenComplete.splashScreenComplete\r\n  );\r\n  const selectedEsthetician = useSelector(\r\n    (state) => state.selectedEsthetician.selectedEsthetician\r\n  );\r\n\r\n  const redirectToHome = () => {\r\n    if (!splashScreenComplete) {\r\n      return <Redirect to=\"/\" />;\r\n    } else if (!props.currentScreenSize) {\r\n      if (props.initialScreenSize >= 1200) {\r\n        if (location.pathname !== \"/\") {\r\n          return <Redirect to=\"/\" />;\r\n        }\r\n      }\r\n    } else if (props.currentScreenSize >= 1200) {\r\n      if (location.pathname !== \"/\") {\r\n        return <Redirect to=\"/\" />;\r\n      }\r\n    }\r\n  };\r\n\r\n  const backToHome = () => {\r\n    dispatch(ACTION_CART_IS_NOT_ACTIVE());\r\n    dispatch(ACTION_CART_PAGE_RESET());\r\n  };\r\n\r\n  const availabilityHasBeenClicked = () => {\r\n    dispatch(ACTION_AVAILABILITY_PAGE_OPENED());\r\n    if (!availabilityClicked) {\r\n      dispatch(ACTION_AVAILABILITY_CLICKED());\r\n      document.body.style.setProperty(\"background\", \"rgb(255, 255, 255)\");\r\n    }\r\n  };\r\n\r\n  const renderCartFacials = () => {\r\n    if (counter === 0) {\r\n      return (\r\n        <>\r\n          <div className=\"empty_cart_container\">\r\n            <FontAwesomeIcon\r\n              className=\"empty_shopping_cart\"\r\n              color=\"rgba(211, 211, 211, 0.6)\"\r\n              icon={faShoppingCart}\r\n            />\r\n            <h3>No items in your cart</h3>\r\n          </div>\r\n          <p className=\"cart_statement\">\r\n            You do not have any facial treatments or add-ons in your cart right\r\n            now\r\n          </p>\r\n        </>\r\n      );\r\n    } else {\r\n      if (calmInCart) {\r\n        return <CalmCard resetAllCartStates={props.resetAllCartStates} />;\r\n      } else if (clarifyInCart) {\r\n        return <ClarifyCard resetAllCartStates={props.resetAllCartStates} />;\r\n      } else if (cbdInCart) {\r\n        return <CBDCard resetAllCartStates={props.resetAllCartStates} />;\r\n      } else if (glowInCart) {\r\n        return <GlowCard resetAllCartStates={props.resetAllCartStates} />;\r\n      } else if (dermaplaningInCart) {\r\n        return (\r\n          <DermaplaningCard resetAllCartStates={props.resetAllCartStates} />\r\n        );\r\n      } else if (chemicalPeelInCart) {\r\n        return (\r\n          <ChemicalPeelCard resetAllCartStates={props.resetAllCartStates} />\r\n        );\r\n      } else if (bacialInCart) {\r\n        return <BacialCard resetAllCartStates={props.resetAllCartStates} />;\r\n      } else if (microneedleInCart) {\r\n        return (\r\n          <MicroneedleCard resetAllCartStates={props.resetAllCartStates} />\r\n        );\r\n      } else if (rejuvenateInCart) {\r\n        return <RejuvenateCard resetAllCartStates={props.resetAllCartStates} />;\r\n      } else if (quickieInCart) {\r\n        return <QuickieCard resetAllCartStates={props.resetAllCartStates} />;\r\n      } else if (quenchInCart) {\r\n        return <QuenchCard resetAllCartStates={props.resetAllCartStates} />;\r\n      } else if (unsureInCart) {\r\n        return <UnsureCard resetAllCartStates={props.resetAllCartStates} />;\r\n      } else if (saltCaveInCart) {\r\n        return <SaltCaveCard resetAllCartStates={props.resetAllCartStates} />;\r\n      } else {\r\n        if (addOnsArr.length > 0) {\r\n          return (\r\n            <NoFacialSelected\r\n              addOnsArr={addOnsArr}\r\n              resetAllCartStates={props.resetAllCartStates}\r\n            />\r\n          );\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const addOnsCardComponentsArr = [\r\n    {\r\n      name: \"ExtraExtractions\",\r\n      component: (\r\n        <ExtraExtractionsCard\r\n          resetAllCartStatesExceptTreatments={\r\n            props.resetAllCartStatesExceptTreatments\r\n          }\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      name: \"HydroJelly\",\r\n      component: (\r\n        <HydroJellyMaskCard\r\n          resetAllCartStatesExceptTreatments={\r\n            props.resetAllCartStatesExceptTreatments\r\n          }\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      name: \"LED\",\r\n      component: (\r\n        <LEDTherapyCard\r\n          resetAllCartStatesExceptTreatments={\r\n            props.resetAllCartStatesExceptTreatments\r\n          }\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      name: \"Microcurrent\",\r\n      component: (\r\n        <MicrocurrentCard\r\n          resetAllCartStatesExceptTreatments={\r\n            props.resetAllCartStatesExceptTreatments\r\n          }\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      name: \"Microdermabrasion\",\r\n      component: (\r\n        <MicrodermabrasionCard\r\n          resetAllCartStatesExceptTreatments={\r\n            props.resetAllCartStatesExceptTreatments\r\n          }\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      name: \"Dermarolling\",\r\n      component: (\r\n        <DermarollingCard\r\n          resetAllCartStatesExceptTreatments={\r\n            props.resetAllCartStatesExceptTreatments\r\n          }\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      name: \"NanoNeedling\",\r\n      component: (\r\n        <NanoNeedlingCard\r\n          resetAllCartStatesExceptTreatments={\r\n            props.resetAllCartStatesExceptTreatments\r\n          }\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      name: \"GuaSha\",\r\n      component: (\r\n        <GuaShaCard\r\n          resetAllCartStatesExceptTreatments={\r\n            props.resetAllCartStatesExceptTreatments\r\n          }\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      name: \"Beard\",\r\n      component: (\r\n        <BeardCard\r\n          resetAllCartStatesExceptTreatments={\r\n            props.resetAllCartStatesExceptTreatments\r\n          }\r\n        />\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const componentNames = addOnsArr.map((item) => item.name);\r\n\r\n  const renderCartAddOns = () => {\r\n    let componentsArr = [];\r\n    for (let i = 0; i < addOnsCardComponentsArr.length; i++) {\r\n      if (componentNames.indexOf(addOnsCardComponentsArr[i].name) > -1) {\r\n        componentsArr.push(addOnsCardComponentsArr[i].component);\r\n      }\r\n    }\r\n    return componentsArr.map((item, index) => <div key={index}>{item}</div>);\r\n  };\r\n\r\n  const calculateSubtotal = useCallback(() => {\r\n    let treatmentsPriceArr = [];\r\n    let addOnsPriceArr = [];\r\n    let cartSubtotal = null;\r\n\r\n    if (treatmentsArr.length > 0) {\r\n      treatmentsPriceArr = [treatmentsArr[0].price];\r\n    }\r\n\r\n    if (addOnsArr.length > 0) {\r\n      addOnsPriceArr = addOnsArr.map((item) => item.price);\r\n    }\r\n    let totalPricesArr = addOnsPriceArr.concat(treatmentsPriceArr);\r\n\r\n    if (totalPricesArr.length > 0) {\r\n      cartSubtotal = totalPricesArr.reduce((a, b) => a + b);\r\n\r\n      dispatch(ACTION_TOTAL_PRICE(cartSubtotal));\r\n    }\r\n  }, [addOnsArr, treatmentsArr, dispatch]);\r\n\r\n  useEffect(() => {\r\n    calculateSubtotal();\r\n  }, [calculateSubtotal]);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.includes(\"cart\")) {\r\n      animateScroll.scrollToTop({ containerId: \"shopping_cart\", offset: -500 });\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  useMemo(() => {\r\n    if (saltCaveInCart) {\r\n      dispatch(ACTION_SELECTED_ESTHETICIAN(\"Salt Cave\"));\r\n    }\r\n  }, [dispatch, saltCaveInCart]);\r\n\r\n  const renderEstheticianNames = () => {\r\n    if (props.getEmployeesData) {\r\n      if (props.getEmployeesData.employees) {\r\n        const filteredEmployeesArr = props.getEmployeesData.employees.filter(\r\n          (x) => {\r\n            return x.employeeRole.includes(\"Esthetician\");\r\n          }\r\n        );\r\n\r\n        return filteredEmployeesArr.map((x, i) => {\r\n          return (\r\n            <option\r\n              key={i}\r\n              value={\r\n                x.firstName[0].toUpperCase() +\r\n                x.firstName.slice(1).toLowerCase() +\r\n                \" \" +\r\n                x.lastName[0].toUpperCase() +\r\n                x.lastName.slice(1).toLowerCase()\r\n              }\r\n            >\r\n              {x.firstName[0].toUpperCase() +\r\n                x.firstName.slice(1).toLowerCase() +\r\n                \" \" +\r\n                x.lastName[0].toUpperCase() +\r\n                \".\"}\r\n            </option>\r\n          );\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(ACTION_CART_IS_ACTIVE());\r\n    return () => {\r\n      if (!props.currentScreenSize) {\r\n        if (props.initialScreenSize < 1200) {\r\n          dispatch(ACTION_CART_IS_NOT_ACTIVE());\r\n        }\r\n      } else if (props.currentScreenSize < 1200) {\r\n        dispatch(ACTION_CART_IS_NOT_ACTIVE());\r\n      }\r\n    };\r\n  }, [dispatch, props.currentScreenSize, props.initialScreenSize]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"popstate\", () => {\r\n      if (document.location.href.includes(\"availability\")) {\r\n        dispatch(ACTION_AVAILABILITY_PAGE_OPENED());\r\n      }\r\n    });\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div\r\n      className=\"shopping_cart_container\"\r\n      id=\"shopping_cart\"\r\n      ref={shoppingCartRef}\r\n    >\r\n      {redirectToHome()}\r\n      <div\r\n        className=\"shopping_cart_header\"\r\n        style={{\r\n          borderBottom: counter === 0 ? \"1px solid rgb(44, 44, 52)\" : \"none\",\r\n        }}\r\n      >\r\n        <Link\r\n          to={location.pathname.includes(\"account\") ? location.pathname : \"/\"}\r\n          onClick={backToHome}\r\n        >\r\n          <FontAwesomeIcon\r\n            className=\"shopping_cart_back_arrow\"\r\n            icon={faChevronLeft}\r\n          />\r\n        </Link>\r\n        <h1>MY CART</h1>\r\n        <Link\r\n          to={\r\n            !props.currentScreenSize\r\n              ? props.initialScreenSize >= 1200\r\n                ? \"/\"\r\n                : \"/availability\"\r\n              : props.currentScreenSize >= 1200\r\n              ? \"/\"\r\n              : \"/availability\"\r\n          }\r\n          onClick={() => dispatch(ACTION_AVAILABILITY_PAGE_OPENED())}\r\n        >\r\n          <FontAwesomeIcon\r\n            className=\"shopping_cart_forward_arrow\"\r\n            style={{ display: availabilityClicked ? \"block\" : \"none\" }}\r\n            icon={faChevronRight}\r\n          />\r\n        </Link>\r\n      </div>\r\n      <div\r\n        className=\"cart_header\"\r\n        style={{ display: counter === 0 ? \"none\" : \"flex\" }}\r\n      >\r\n        <h2>MY {saltCaveInCart ? \"TREATMENT\" : \"FACIAL\"}</h2>\r\n      </div>\r\n      {renderCartFacials()}\r\n      <div\r\n        className=\"cart_header\"\r\n        style={{ display: addOnsArr.length === 0 ? \"none\" : \"flex\" }}\r\n      >\r\n        <h2>MY ADD-ON{addOnsArr.length > 1 ? \"S\" : null}</h2>\r\n      </div>\r\n      {renderCartAddOns()}\r\n      <div\r\n        className=\"cart_subtotal\"\r\n        style={{ display: counter === 0 ? \"none\" : \"flex\" }}\r\n      >\r\n        <p>Cart Subtotal</p>\r\n        <p>${totalPrice}</p>\r\n      </div>\r\n      {treatmentsArr.length === 0 || saltCaveInCart ? null : (\r\n        <div className=\"esthetician_preference_dropdown\">\r\n          <FormGroup className=\"esthetician_preference_formgroup\">\r\n            <p>\r\n              Would you like to book an appointment with a particular\r\n              esthetician?\r\n            </p>\r\n            <div className=\"esthetician_preference_dropdown_input_field\">\r\n              <FontAwesomeIcon\r\n                className=\"esthetician_preference_dropdown_icon\"\r\n                icon={faChevronCircleDown}\r\n              />\r\n              <Input\r\n                className=\"esthetician_preference_input\"\r\n                type=\"select\"\r\n                name=\"select\"\r\n                defaultValue={selectedEsthetician}\r\n                placeholder=\"No preference\"\r\n                id=\"esthetician_preference\"\r\n                onChange={(e) => {\r\n                  props.resetAllCartStatesExceptTreatments();\r\n                  if (e.target.value === \"No preference\") {\r\n                    dispatch(ACTION_SELECTED_ESTHETICIAN_RESET());\r\n                  } else {\r\n                    dispatch(ACTION_SELECTED_ESTHETICIAN(e.target.value));\r\n                  }\r\n                }}\r\n              >\r\n                <option>No preference</option>\r\n                {renderEstheticianNames()}\r\n              </Input>\r\n            </div>\r\n          </FormGroup>\r\n        </div>\r\n      )}\r\n      <Link\r\n        to={\r\n          !props.currentScreenSize\r\n            ? props.initialScreenSize >= 1200\r\n              ? \"/\"\r\n              : \"/availability\"\r\n            : props.currentScreenSize >= 1200\r\n            ? \"/\"\r\n            : \"/availability\"\r\n        }\r\n        onClick={availabilityHasBeenClicked}\r\n        className=\"search_availability_button_container\"\r\n      >\r\n        <div\r\n          className=\"search_availability_button\"\r\n          style={{\r\n            display: treatmentsArr.length === 0 ? \"none\" : \"flex\",\r\n            marginTop: counter === 0 ? \"0vh\" : \"2vh\",\r\n          }}\r\n        >\r\n          <p>Search Availability</p>\r\n        </div>\r\n      </Link>\r\n      <Link\r\n        to=\"/\"\r\n        onClick={backToHome}\r\n        className=\"continue_shopping_button_container\"\r\n      >\r\n        <div\r\n          className=\"continue_shopping_button\"\r\n          style={{ marginTop: counter === 0 ? \"0vh\" : \"1.5rem\" }}\r\n        >\r\n          <p>Continue Shopping</p>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShoppingCart;\r\n"]},"metadata":{},"sourceType":"module"}