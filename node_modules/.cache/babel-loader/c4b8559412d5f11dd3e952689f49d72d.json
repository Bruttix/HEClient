{"ast":null,"code":"import _objectSpread from \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\backup-July4\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\backup-July4\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\backup-July4\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\backup-July4\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\backup-July4\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\backup-July4\\\\Client\\\\src\\\\components\\\\admin\\\\AdminClients\\\\AdminClients.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n    display: block;\\n    position: absolute;\\n    left: 25%;\\n    right: 25%;\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useState, useMemo, useRef, useCallback } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\nimport { FormGroup, Input } from \"reactstrap\";\nimport Modal from \"react-modal\";\nimport { Transition } from \"react-spring/renderprops\";\nimport imageCompression from \"browser-image-compression\";\nimport ImageUploader from \"react-images-upload\";\nimport Camera, { IMAGE_TYPES } from \"react-html5-camera-photo\";\nimport { useMutation, useLazyQuery } from \"@apollo/react-hooks\";\nimport getOwnPastAppointmentsQuery from \"../../../graphql/queries/getOwnPastAppointmentsQuery\";\nimport getOwnAppointmentsQuery from \"../../../graphql/queries/getOwnAppointmentsQuery\";\nimport updateClientProfilePictureMutation from \"../../../graphql/mutations/updateClientProfilePictureMutation\";\nimport moment from \"moment\";\nimport LZString from \"lz-string\";\nimport { css } from \"@emotion/css\";\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport CanvasDraw from \"react-canvas-draw\";\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\nimport ConsentFormPDF from \"../../account/clientprofile/ConsentForm/ConsentFormPDF\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronLeft, faSearch, faEllipsisH, faLongArrowAltLeft, faTimes, faFilePdf, faFileDownload } from \"@fortawesome/free-solid-svg-icons\";\nimport AdminClientIndividualProfile from \"./AdminClientIndividualProfile\";\nimport AdminRenderUpcomingAppointments from \"./AdminRenderUpcomingAppointments\";\nimport AdminRenderPastAppointments from \"./AdminRenderPastAppointments\";\nimport ACTION_ADD_PROFILE_PHOTO_CLICKED_RESET from \"../../../actions/Admin/AddProfilePhotoClicked/ACTION_ADD_PROFILE_CLICKED_RESET\";\nimport ACTION_LOADING_SPINNER_RESET from \"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_RESET\";\nimport ACTION_LOADING_SPINNER_ACTIVE from \"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_ACTIVE\";\nimport ACTION_IMAGE_LOADING from \"../../../actions/Admin/ImageLoading/ACTION_IMAGE_LOADING\";\nimport ACTION_IMAGE_LOADING_RESET from \"../../../actions/Admin/ImageLoading/ACTION_IMAGE_LOADING_RESET\";\nimport ACTION_SPLASH_SCREEN_COMPLETE from \"../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";\nimport ACTION_SPLASH_SCREEN_HALFWAY from \"../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";\nimport ACTION_LOGIN_IS_NOT_ACTIVE from \"../../../actions/Login/ACTION_LOGIN_IS_NOT_ACTIVE\";\nimport ACTION_ADMIN_CLIENT_PROFILE_SELECTED from \"../../../actions/Admin/AdminLogin/AdminClientSectionSelected/ACTION_ADMIN_CLIENT_PROFILE_SELECTED.js\";\nimport ACTION_ON_ACTIVITY_PAGE_RESET from \"../../../actions/Admin/OnActivityPage/ACTION_ON_ACTIVITY_PAGE_RESET\";\nimport \"react-html5-camera-photo/build/css/index.css\";\nimport \"./AdminClients.css\";\n\nconst AdminClients = props => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const getClientsData = props.getClientsData,\n        getEmployeeError = props.getEmployeeError,\n        getEmployeesError = props.getEmployeesError,\n        employeeDataRefetch = props.employeeDataRefetch,\n        getEmployeesRefetch = props.getEmployeesRefetch,\n        getClientsLoading = props.getClientsLoading,\n        initialScreenSize = props.initialScreenSize,\n        currentScreenSize = props.currentScreenSize,\n        resetNotifications = props.resetNotifications,\n        getClientsRefetch = props.getClientsRefetch,\n        getEmployeeData = props.getEmployeeData,\n        randomColorArray = props.randomColorArray;\n  let signature = useRef(null);\n  let pdfDownloadRef = useRef(null);\n  const selectedClientBackRef = useRef(null);\n  const backToClientsRef = useRef(null);\n  let individualClientRef = useRef(null);\n  const splashScreenHalfway = useSelector(state => state.splashScreenHalfway.splashScreenHalfway);\n  const splashScreenComplete = useSelector(state => state.splashScreenComplete.splashScreenComplete);\n  const adminAuthenticated = useSelector(state => state.adminAuthenticated.admin_authenticated);\n  const logoutClicked = useSelector(state => state.logoutClicked.log_out_clicked);\n  const loginIsActive = useSelector(state => state.loginIsActive.login_is_active);\n  const adminClientSectionSelected = useSelector(state => state.adminClientSectionSelected.admin_client_section_selected);\n  const addProfilePhotoClicked = useSelector(state => state.addProfilePhotoClicked.add_profile_photo_clicked);\n  const loadingSpinnerActive = useSelector(state => state.loadingSpinnerActive.loading_spinner);\n  const imageLoading = useSelector(state => state.imageLoading.image_loading);\n  const cancelAppointmentClicked = useSelector(state => state.cancelAppointmentClicked.cancelAppointmentClicked);\n  const onActivityPage = useSelector(state => state.onActivityPage.on_activity_page);\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        filteredAllClients = _useState2[0],\n        changeFilteredAllClients = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        clientFilter = _useState4[0],\n        changeClientFilter = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        clientToggled = _useState6[0],\n        changeClientToggled = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        takeAPhotoSelected = _useState8[0],\n        changeTakeAPhotoSelected = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        webcamURI = _useState10[0],\n        changeWebcamURI = _useState10[1];\n\n  const _useState11 = useState(\"\"),\n        _useState12 = _slicedToArray(_useState11, 2),\n        imageUploaded = _useState12[0],\n        changeImageUploaded = _useState12[1];\n\n  const _useState13 = useState(false),\n        _useState14 = _slicedToArray(_useState13, 2),\n        imagePreviewAvailable = _useState14[0],\n        changeImagePreviewAvailable = _useState14[1];\n\n  const _useState15 = useState(false),\n        _useState16 = _slicedToArray(_useState15, 2),\n        pdfLoading = _useState16[0],\n        changePDFLoading = _useState16[1];\n\n  const _useMutation = useMutation(updateClientProfilePictureMutation),\n        _useMutation2 = _slicedToArray(_useMutation, 2),\n        updateClientProfilePicture = _useMutation2[0],\n        updateClientProfilePictureData = _useMutation2[1].data;\n\n  const override = css(_templateObject());\n\n  const _useLazyQuery = useLazyQuery(getOwnAppointmentsQuery, {\n    fetchPolicy: \"no-cache\"\n  }),\n        _useLazyQuery2 = _slicedToArray(_useLazyQuery, 2),\n        getOwnAppointments = _useLazyQuery2[0],\n        _useLazyQuery2$ = _useLazyQuery2[1],\n        getOwnAppointmentsData = _useLazyQuery2$.data,\n        getOwnAppointmentsRefetch = _useLazyQuery2$.refetch;\n\n  const _useLazyQuery3 = useLazyQuery(getOwnPastAppointmentsQuery, {\n    fetchPolicy: \"no-cache\"\n  }),\n        _useLazyQuery4 = _slicedToArray(_useLazyQuery3, 2),\n        getOwnPastAppointments = _useLazyQuery4[0],\n        getOwnPastAppointmentsData = _useLazyQuery4[1].data;\n\n  useEffect(() => {\n    if (!splashScreenComplete) {\n      dispatch(ACTION_SPLASH_SCREEN_COMPLETE());\n    }\n\n    if (!splashScreenHalfway) {\n      dispatch(ACTION_SPLASH_SCREEN_HALFWAY());\n    }\n  }, [dispatch, splashScreenComplete, splashScreenHalfway]);\n\n  const redirectToAdminLogInPage = () => {\n    if (!adminAuthenticated) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/admin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 14\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      if (pdfLoading) {\n        changePDFLoading(false);\n      }\n    };\n  }, [pdfLoading]);\n\n  const handleChangeClientFilter = e => {\n    changeClientFilter(e.currentTarget.value);\n  };\n\n  const handleDeletedPreviewImage = () => {\n    const deleteImageClass = document.getElementsByClassName(\"deleteImage\");\n    const uploadPictureClass = document.getElementsByClassName(\"uploadPicture\");\n\n    if (deleteImageClass) {\n      if (deleteImageClass[0]) {\n        deleteImageClass[0].style.display = \"none\";\n      }\n    }\n\n    if (uploadPictureClass) {\n      if (uploadPictureClass[0]) {\n        uploadPictureClass[0].style.display = \"none\";\n      }\n    }\n  };\n\n  const handleImageUploaded = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(picture) {\n      var reader, compressedImage;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            dispatch(ACTION_IMAGE_LOADING());\n\n            if (!(picture[0] || typeof picture === \"string\")) {\n              _context3.next = 24;\n              break;\n            }\n\n            reader = new FileReader();\n            changeImagePreviewAvailable(true);\n            _context3.prev = 4;\n\n            if (!(typeof picture === \"object\")) {\n              _context3.next = 11;\n              break;\n            }\n\n            _context3.next = 8;\n            return imageCompression(picture[0], {\n              maxSizeMB: 0.3,\n              maxWidthOrHeight: 300\n            });\n\n          case 8:\n            compressedImage = _context3.sent;\n            _context3.next = 14;\n            break;\n\n          case 11:\n            if (!(typeof picture === \"string\")) {\n              _context3.next = 14;\n              break;\n            }\n\n            _context3.next = 14;\n            return fetch(picture).then(res => {\n              return res.blob();\n            }).then( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(blob) {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.next = 2;\n                      return imageCompression(blob, {\n                        maxSizeMB: 0.3,\n                        maxWidthOrHeight: 300\n                      });\n\n                    case 2:\n                      compressedImage = _context.sent;\n\n                    case 3:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }, _callee);\n              }));\n\n              return function (_x2) {\n                return _ref2.apply(this, arguments);\n              };\n            }());\n\n          case 14:\n            reader.readAsDataURL(compressedImage);\n            reader.onloadend = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n              var base64data, compressedBase64data;\n              return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                while (1) switch (_context2.prev = _context2.next) {\n                  case 0:\n                    base64data = reader.result;\n                    compressedBase64data = LZString.compressToEncodedURIComponent(base64data);\n                    dispatch(ACTION_IMAGE_LOADING_RESET());\n                    changeImageUploaded(compressedBase64data);\n\n                  case 4:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }, _callee2);\n            }));\n            _context3.next = 22;\n            break;\n\n          case 18:\n            _context3.prev = 18;\n            _context3.t0 = _context3[\"catch\"](4);\n            dispatch(ACTION_IMAGE_LOADING_RESET());\n            console.log(_context3.t0);\n\n          case 22:\n            _context3.next = 28;\n            break;\n\n          case 24:\n            dispatch(ACTION_IMAGE_LOADING_RESET());\n            changeImageUploaded(\"\");\n            changeImagePreviewAvailable(false);\n            handleDeletedPreviewImage();\n\n          case 28:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3, null, [[4, 18]]);\n    }));\n\n    return function handleImageUploaded(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const preventKeys = e => {\n    if (e.key === \")\" || e.key === \"(\" || e.key === \"[\" || e.key === \"]\" || e.key === \"\\\\\" || e.key === \"/\") {\n      e.preventDefault();\n    }\n  };\n\n  useMemo(() => {\n    if (getClientsData) {\n      if (getClientsData.clients.length > 0) {\n        if (changeClientFilter) {\n          changeFilteredAllClients([...getClientsData.clients].filter(x => {\n            return new RegExp(clientFilter, \"gi\").test(x.firstName + \" \" + x.lastName) || new RegExp(clientFilter, \"gi\").test(x.email) || new RegExp(clientFilter, \"gi\").test(x.phoneNumber) || new RegExp(clientFilter, \"gi\").test(x.phoneNumber.split(/[\\W_]+/g).join(\"\"));\n          }));\n        }\n      }\n    }\n  }, [clientFilter, getClientsData]);\n  useMemo(() => {\n    if (clientToggled) {\n      const clientEmail = [...getClientsData.clients].filter(x => x._id === clientToggled)[0].email;\n      getOwnAppointments({\n        variables: {\n          _id: clientToggled,\n          email: clientEmail\n        }\n      });\n      getOwnPastAppointments({\n        variables: {\n          _id: clientToggled,\n          email: clientEmail\n        }\n      });\n    }\n  }, [clientToggled, getOwnAppointments, getOwnPastAppointments, getClientsData]); // Allows click only if selected client modal is not active\n\n  const handleClientToggled = (e, item) => {\n    if (e.currentTarget && individualClientRef) {\n      if (individualClientRef.current) {\n        if (individualClientRef.current.className === e.currentTarget.className) {\n          if (selectedClientBackRef) {\n            if (!selectedClientBackRef.current) {\n              if (item) {\n                if (item._id) {\n                  changeClientToggled(item._id);\n                }\n              }\n            }\n          }\n        }\n      } else {\n        if (e.currentTarget.innerText.includes(item.email) && e.currentTarget.innerText.includes(item.firstName[0].toUpperCase() + item.firstName.slice(1).toLowerCase()) && e.currentTarget.innerText.includes(item.lastName[0].toUpperCase() + item.lastName.slice(1).toLowerCase())) {\n          if (selectedClientBackRef) {\n            if (!selectedClientBackRef.current) {\n              if (item) {\n                if (item._id) {\n                  changeClientToggled(item._id);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }; // Function for back arrow click to reset selected toggled client\n\n\n  const handleClientUntoggled = e => {\n    if (e.currentTarget && selectedClientBackRef || e.currentTarget && backToClientsRef) {\n      if (selectedClientBackRef.current || backToClientsRef.current) {\n        if (selectedClientBackRef.current.className === e.currentTarget.className || backToClientsRef.current.className === e.currentTarget.className) {\n          changeClientToggled(\"\");\n\n          if (pdfLoading) {\n            changePDFLoading(false);\n          }\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (onActivityPage) {\n      resetNotifications();\n      dispatch(ACTION_ON_ACTIVITY_PAGE_RESET());\n    }\n  }, [onActivityPage, dispatch, resetNotifications]);\n  useEffect(() => {\n    if (location.pathname || addProfilePhotoClicked || loadingSpinnerActive) {\n      window.scrollTo(0, 0);\n    }\n  }, [location.pathname, addProfilePhotoClicked, loadingSpinnerActive]); // When account screen unmounts, allow navbar\n\n  useEffect(() => {\n    if (loginIsActive) {\n      dispatch(ACTION_LOGIN_IS_NOT_ACTIVE());\n    }\n  }, [dispatch, loginIsActive]);\n\n  const handleConfirmPhotoSubmit = () => {\n    updateClientProfilePicture({\n      variables: {\n        id: clientToggled,\n        profilePicture: imageUploaded\n      }\n    });\n    dispatch(ACTION_IMAGE_LOADING());\n    changeImageUploaded(\"\");\n    dispatch(ACTION_ADD_PROFILE_PHOTO_CLICKED_RESET());\n    changeImagePreviewAvailable(false);\n    changeTakeAPhotoSelected(false);\n    changeWebcamURI(\"\");\n  };\n\n  useMemo(() => {\n    if (updateClientProfilePictureData) {\n      getClientsRefetch();\n    }\n  }, [getClientsRefetch, updateClientProfilePictureData]);\n\n  const handleProfilePictureRender = item => {\n    if (item.profilePicture) {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        className: \"admin_individual_client_picture_profile_avatar\",\n        src: LZString.decompressFromEncodedURIComponent(item.profilePicture),\n        alt: item.firstName[0].toUpperCase() + item.firstName.slice(1).toLowerCase() + \" \" + item.lastName[0].toUpperCase() + item.lastName.slice(1).toLowerCase() + \" Profile Picture\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 9\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"admin_individual_client_initials_profile_avatar\",\n        style: {\n          background: randomColorArray[getClientsData.clients.sort((a, b) => a.firstName.localeCompare(b.firstName)).map(x => x.email).indexOf(item.email)]\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }\n      }, item.firstName[0].toUpperCase() + item.lastName[0].toUpperCase()));\n    }\n  };\n\n  useEffect(() => {\n    if (imageLoading) {\n      if (updateClientProfilePictureData) {\n        const imageDataReceived = setTimeout(() => {\n          dispatch(ACTION_IMAGE_LOADING_RESET());\n        }, 500);\n        return () => {\n          clearTimeout(imageDataReceived);\n        };\n      }\n    }\n  }, [imageLoading, updateClientProfilePictureData, dispatch]);\n  useEffect(() => {\n    if (location.state) {\n      if (location.state.changedAdminPassword) {\n        window.location.reload();\n      }\n    }\n  }, [location.state]);\n  useEffect(() => {\n    if (loadingSpinnerActive) {\n      const loadingSpinnerDuration = setTimeout(() => {\n        if (pdfDownloadRef) {\n          if (pdfDownloadRef.current) {\n            pdfDownloadRef.current.click();\n          }\n        }\n\n        dispatch(ACTION_LOADING_SPINNER_RESET());\n        changePDFLoading(false);\n      }, 3000);\n      return () => {\n        clearTimeout(loadingSpinnerDuration);\n      };\n    }\n  }, [loadingSpinnerActive, dispatch]);\n  const loadingCompleted = useCallback(() => {\n    dispatch(ACTION_LOADING_SPINNER_ACTIVE());\n\n    if (!pdfLoading) {\n      changePDFLoading(true);\n    } else {\n      return null;\n    }\n  }, [pdfLoading, dispatch]);\n\n  const consentFormOnFile = item => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile_button_container\",\n      onClick: () => loadingCompleted(),\n      style: {\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      className: \"profile_button_icon\",\n      icon: faFileDownload,\n      style: {\n        color: \"rgba(0, 129, 177, 0.9)\",\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        color: \"rgba(0, 129, 177, 0.9)\",\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 9\n      }\n    }, \"Download Latest Consent Form\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }\n    }, \"(\" + moment.unix(item.consentForm.createdAt / 1000).format(\"l\") + \")\"));\n  };\n\n  const noConsentFormOnFile = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile_button_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      className: \"profile_button_icon\",\n      icon: faFilePdf,\n      style: {\n        color: \"rgba(177, 48, 0, 0.9)\",\n        cursor: \"default\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        color: \"rgba(177, 48, 0, 0.9)\",\n        cursor: \"default\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 9\n      }\n    }, \"No Consent Form on File\"));\n  };\n\n  const renderBarInContactInfo = () => {\n    if (!currentScreenSize) {\n      if (initialScreenSize >= 1200) {\n        return null;\n      } else {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            color: \"rgb(200, 200, 200)\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 16\n          }\n        }, \"|\");\n      }\n    } else {\n      if (currentScreenSize >= 1200) {\n        return null;\n      } else {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            color: \"rgb(200, 200, 200)\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 16\n          }\n        }, \"|\");\n      }\n    }\n  };\n\n  const renderDownloadConsentFormButton = item => {\n    if (item) {\n      if (item.consentForm) {\n        if (item.consentForm.date) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, pdfLoading ? /*#__PURE__*/React.createElement(PDFDownloadLink, {\n            document: /*#__PURE__*/React.createElement(ConsentFormPDF, {\n              getClientData: {\n                client: item\n              },\n              signature: signature ? signature.current ? signature.current.canvasContainer.children[1].toDataURL() : null : null,\n              consentFormLastUpdated: moment.unix(item.consentForm.createdAt / 1000).format(\"l\"),\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 21\n              }\n            }),\n            fileName: item.firstName[0].toUpperCase() + item.firstName.slice(1).toLowerCase() + \"_\" + item.lastName[0].toUpperCase() + item.lastName.slice(1).toLowerCase() + \"_\" + \"High_End_Consent_Form.pdf\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"profile_button_container\",\n            ref: pdfDownloadRef,\n            style: {\n              cursor: item.consentForm ? item.consentForm.date ? \"pointer\" : \"default\" : \"default\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n            className: \"profile_button_icon\",\n            icon: item.consentForm ? item.consentForm.date ? faFileDownload : faFilePdf : faFilePdf,\n            style: {\n              color: item.consentForm ? item.consentForm.date ? \"rgba(0, 129, 177, 0.9)\" : \"rgba(177, 48, 0, 0.9)\" : \"rgba(177, 48, 0, 0.9)\",\n              cursor: item.consentForm ? item.consentForm.date ? \"pointer\" : \"default\" : \"default\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 21\n            }\n          }), /*#__PURE__*/React.createElement(\"h2\", {\n            style: {\n              color: item.consentForm ? item.consentForm.date ? \"rgba(0, 129, 177, 0.9)\" : \"rgba(177, 48, 0, 0.9)\" : \"rgba(177, 48, 0, 0.9)\",\n              cursor: item.consentForm ? item.consentForm.date ? \"pointer\" : \"default\" : \"default\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 21\n            }\n          }, item.consentForm ? item.consentForm.date ? \"Download Latest Consent Form\" : \"No Consent Form on File\" : \"No Consent Form on File\"), item.consentForm ? item.consentForm.date ? /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 25\n            }\n          }, \"(\" + moment.unix(item.consentForm.createdAt / 1000).format(\"l\") + \")\") : null : null)) : consentFormOnFile(item));\n        } else {\n          return noConsentFormOnFile();\n        }\n      } else {\n        return noConsentFormOnFile();\n      }\n    } else {\n      return noConsentFormOnFile();\n    }\n  };\n\n  useEffect(() => {\n    if (getClientsLoading) {\n      dispatch(ACTION_LOADING_SPINNER_ACTIVE());\n    } else {\n      dispatch(ACTION_LOADING_SPINNER_RESET());\n    }\n  }, [dispatch, getClientsLoading]);\n  useEffect(() => {\n    if (getEmployeeError) {\n      employeeDataRefetch();\n    }\n  }, [getEmployeeError, employeeDataRefetch]);\n  useEffect(() => {\n    if (getEmployeesError) {\n      getEmployeesRefetch();\n    }\n  }, [getEmployeesError, getEmployeesRefetch]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_clients_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 5\n    }\n  }, redirectToAdminLogInPage(), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: imageLoading || loadingSpinnerActive || getClientsLoading,\n    style: {\n      content: {\n        position: \"fixed\",\n        zIndex: \"10000\",\n        height: \"100%\",\n        backdropFilter: \"blur(5px)\",\n        WebkitBackdropFilter: \"blur(5px)\",\n        paddingBottom: \"10%\",\n        borderRadius: \"none\",\n        width: \"100vw\",\n        top: \"0\",\n        left: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        border: \"none\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        background: \"rgba(0, 0, 0, 0.5)\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 702,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BounceLoader, {\n    size: 100,\n    css: override,\n    color: \"rgb(44, 44, 52)\",\n    loading: imageLoading || loadingSpinnerActive || getClientsLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_clients_header\",\n    style: {\n      zIndex: logoutClicked || addProfilePhotoClicked || loadingSpinnerActive || imageLoading || cancelAppointmentClicked || getClientsLoading ? 0 : 5,\n      filter: cancelAppointmentClicked || getClientsLoading ? \"blur(5px)\" : \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 734,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 752,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"admin_clients_back_arrow\",\n    icon: faChevronLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 753,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 758,\n      columnNumber: 9\n    }\n  }, \"CLIENTS\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 760,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_clients_searchbar_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 761,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"admin_clients_searchbar_input_field\",\n    placeholder: \"Filter by client name, email, or phone #\",\n    onChange: handleChangeClientFilter,\n    maxLength: 128,\n    onKeyDown: preventKeys,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 762,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"admin_clients_searchbar_icon\",\n    icon: faSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 769,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_clients_content_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 7\n    }\n  }, getClientsData ? getClientsData.clients.length > 0 ? filteredAllClients.sort((a, b) => a.firstName.localeCompare(b.firstName)).map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_individual_client_container\",\n      key: i,\n      onClick: e => handleClientToggled(e, item),\n      ref: individualClientRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 782,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      isOpen: addProfilePhotoClicked && clientToggled === item._id,\n      className: \"admin_individual_client_add_photo_modal\",\n      style: {\n        content: {\n          position: \"fixed\",\n          zIndex: 10000,\n          opacity: 0.99,\n          height: \"100%\",\n          backdropFilter: \"blur(5px)\",\n          WebkitBackdropFilter: \"blur(5px)\",\n          paddingBottom: \"10%\",\n          borderRadius: \"none\",\n          width: \"100vw\",\n          top: \"0\",\n          left: \"0\",\n          right: \"0\",\n          bottom: \"0\",\n          border: \"none\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          background: \"rgba(0, 0, 0, 0.5)\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 788,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Transition, {\n      items: addProfilePhotoClicked,\n      from: {\n        transform: \"translate3d(0, -65%, 0)\"\n      },\n      enter: {\n        transform: \"translate3d(0, 0, 0)\"\n      },\n      leave: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 817,\n        columnNumber: 25\n      }\n    }, addProfilePhotoClicked => addProfilePhotoClicked && (styleprops => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_individual_client_add_photo_modal_content_container\",\n      style: styleprops,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 826,\n        columnNumber: 31\n      }\n    }, takeAPhotoSelected && !imagePreviewAvailable ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Camera, {\n      isSilentMode: true,\n      onTakePhotoAnimationDone: dataUri => {\n        handleImageUploaded(dataUri);\n        changeWebcamURI(dataUri);\n      },\n      imageType: IMAGE_TYPES.JPG,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 833,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_individual_client_add_photo_modal_contents\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 841,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      className: \"modal_x\",\n      icon: faTimes,\n      onClick: () => {\n        dispatch(ACTION_ADD_PROFILE_PHOTO_CLICKED_RESET());\n        changeTakeAPhotoSelected(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 842,\n        columnNumber: 39\n      }\n    }))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_individual_client_add_photo_modal_contents\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 855,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      className: \"modal_x\",\n      icon: faTimes,\n      onClick: () => {\n        dispatch(ACTION_ADD_PROFILE_PHOTO_CLICKED_RESET());\n        changeTakeAPhotoSelected(false);\n        changeImageUploaded(\"\");\n        changeImagePreviewAvailable(false);\n        changeWebcamURI(\"\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 856,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 869,\n        columnNumber: 37\n      }\n    }, \"Update client profile picture\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"admin_individual_client_add_photo_modal_buttons_container\",\n      style: {\n        top: imageUploaded || imagePreviewAvailable ? \"35%\" : \"45%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 870,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(ImageUploader, {\n      withIcon: imageUploaded || imagePreviewAvailable ? false : true,\n      withLabel: false,\n      buttonStyles: {\n        display: imageUploaded || imagePreviewAvailable ? \"none\" : \"block\"\n      },\n      buttonText: \"Choose image\",\n      imgExtension: [\".jpg\", \".png\", \".jpeg\"],\n      maxFileSize: 5242880,\n      onChange: handleImageUploaded,\n      singleImage: true,\n      withPreview: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 879,\n        columnNumber: 39\n      }\n    }), (imageUploaded || imagePreviewAvailable) && takeAPhotoSelected ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fileContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 903,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"uploadPictureContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 904,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"deleteImage\",\n      onClick: () => {\n        changeWebcamURI(\"\");\n        changeImagePreviewAvailable(false);\n        dispatch(ACTION_IMAGE_LOADING_RESET());\n        changeImagePreviewAvailable(false);\n        changeTakeAPhotoSelected(false);\n        changeImageUploaded(\"\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 905,\n        columnNumber: 45\n      }\n    }, \"X\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: webcamURI,\n      className: \"uploadPicture\",\n      alt: \"preview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 924,\n        columnNumber: 45\n      }\n    }))) : null, imageUploaded || imagePreviewAvailable ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_individual_client_confirm_photo_button\",\n      onClick: handleConfirmPhotoSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 934,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 938,\n        columnNumber: 43\n      }\n    }, \"Confirm photo\")) : null, initialScreenSize >= 1200 && !imageUploaded && !imagePreviewAvailable || currentScreenSize >= 1200 && !imageUploaded && !imagePreviewAvailable ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        display: !currentScreenSize ? initialScreenSize >= 1200 ? \"block\" : \"none\" : currentScreenSize >= 1200 ? \"block\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 948,\n        columnNumber: 43\n      }\n    }, \"OR\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_individual_client_take_a_photo_button\",\n      onClick: () => changeTakeAPhotoSelected(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 961,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 967,\n        columnNumber: 45\n      }\n    }, \"Take a photo\")), \" \") : null)))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_individual_client_initials_square\",\n      style: {\n        background: randomColorArray[getClientsData.clients.sort((a, b) => a.firstName.localeCompare(b.firstName)).map(x => x.email).indexOf(item.email)]\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 979,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 993,\n        columnNumber: 25\n      }\n    }, item.firstName[0].toUpperCase() + item.lastName[0].toUpperCase())), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_individual_client_full_name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 998,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 999,\n        columnNumber: 25\n      }\n    }, item.firstName[0].toUpperCase() + item.firstName.slice(1).toLowerCase() + \" \" + item.lastName[0].toUpperCase() + item.lastName.slice(1).toLowerCase()), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1006,\n        columnNumber: 25\n      }\n    }, item.email ? item.email : null), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1007,\n        columnNumber: 25\n      }\n    }, item.phoneNumber ? item.phoneNumber : null)), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"admin_individual_client_spacer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1009,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      style: {\n        zIndex: logoutClicked || clientToggled ? 0 : 1,\n        transitionDelay: logoutClicked ? \"initial\" : !clientToggled ? \"0.5s\" : \"initial\"\n      },\n      icon: faEllipsisH,\n      className: \"admin_individual_client_expand_icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1010,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(Transition, {\n      items: clientToggled,\n      from: {\n        transform: \"translateX(-100%)\"\n      },\n      enter: {\n        transform: \"translateX(0%)\"\n      },\n      leave: {\n        transform: \"translateX(-100%)\"\n      },\n      config: {\n        duration: 200\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1022,\n        columnNumber: 23\n      }\n    }, clientToggled => clientToggled === item._id && (styleprops => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_individual_selected_client_container\",\n      style: _objectSpread(_objectSpread({}, styleprops), {\n        zIndex: logoutClicked || addProfilePhotoClicked || loadingSpinnerActive || imageLoading || cancelAppointmentClicked ? 0 : 1\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1032,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CanvasDraw, {\n      className: \"consent_form_signature\",\n      saveData: item.consentForm ? item.consentForm.consentFormSignature ? LZString.decompressFromEncodedURIComponent(item.consentForm.consentFormSignature) : null : null,\n      hideGrid: true,\n      hideInterface: true,\n      disabled: true,\n      canvasHeight: \"100%\",\n      canvasWidth: \"100%\",\n      immediateLoading: true,\n      ref: signature ? signature : null,\n      style: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1048,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_individual_selected_client_contents_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1068,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_individual_selected_client_back_container\",\n      ref: selectedClientBackRef,\n      onClick: e => {\n        adminClientSectionSelected === \"\" ? handleClientUntoggled(e) : dispatch(ACTION_ADMIN_CLIENT_PROFILE_SELECTED());\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1069,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faLongArrowAltLeft,\n      className: \"admin_individual_selected_client_back_arrow_icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1080,\n        columnNumber: 35\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1084,\n        columnNumber: 35\n      }\n    }, adminClientSectionSelected === \"\" ? \"Back to all clients\" : \"Back to \" + item.firstName[0].toUpperCase() + item.firstName.slice(1).toLowerCase() + \" \" + item.lastName[0].toUpperCase() + item.lastName.slice(1).toLowerCase() + \"'s Profile\")), adminClientSectionSelected === \"\" ? /*#__PURE__*/React.createElement(AdminClientIndividualProfile, {\n      item: item,\n      clientToggled: clientToggled,\n      changeClientToggled: changeClientToggled,\n      handleProfilePictureRender: handleProfilePictureRender,\n      renderBarInContactInfo: renderBarInContactInfo,\n      renderDownloadConsentFormButton: renderDownloadConsentFormButton,\n      getClientsData: getClientsData,\n      getClientsRefetch: getClientsRefetch,\n      getEmployeeData: getEmployeeData ? getEmployeeData : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1098,\n        columnNumber: 35\n      }\n    }) : adminClientSectionSelected === \"UpcomingAppointments\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_side_my_appointments_content_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1119,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(AdminRenderUpcomingAppointments, {\n      data: getOwnAppointmentsData,\n      getOwnAppointmentsRefetch: getOwnAppointmentsRefetch,\n      item: item,\n      override: override,\n      loadingSpinnerActive: loadingSpinnerActive,\n      currentScreenSize: currentScreenSize,\n      initialScreenSize: initialScreenSize,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1120,\n        columnNumber: 37\n      }\n    })) : adminClientSectionSelected === \"PastAppointments\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_side_my_appointments_content_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1136,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(AdminRenderPastAppointments, {\n      data: getOwnPastAppointmentsData,\n      item: item,\n      currentScreenSize: currentScreenSize,\n      initialScreenSize: initialScreenSize,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1137,\n        columnNumber: 37\n      }\n    })) : null)))));\n  }) : null : null));\n};\n\nexport default AdminClients;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/MERN-barberShops/backup-July4/Client/src/components/admin/AdminClients/AdminClients.js"],"names":["React","useEffect","useState","useMemo","useRef","useCallback","useSelector","useDispatch","Redirect","Link","useLocation","FormGroup","Input","Modal","Transition","imageCompression","ImageUploader","Camera","IMAGE_TYPES","useMutation","useLazyQuery","getOwnPastAppointmentsQuery","getOwnAppointmentsQuery","updateClientProfilePictureMutation","moment","LZString","css","BounceLoader","CanvasDraw","PDFDownloadLink","ConsentFormPDF","FontAwesomeIcon","faChevronLeft","faSearch","faEllipsisH","faLongArrowAltLeft","faTimes","faFilePdf","faFileDownload","AdminClientIndividualProfile","AdminRenderUpcomingAppointments","AdminRenderPastAppointments","ACTION_ADD_PROFILE_PHOTO_CLICKED_RESET","ACTION_LOADING_SPINNER_RESET","ACTION_LOADING_SPINNER_ACTIVE","ACTION_IMAGE_LOADING","ACTION_IMAGE_LOADING_RESET","ACTION_SPLASH_SCREEN_COMPLETE","ACTION_SPLASH_SCREEN_HALFWAY","ACTION_LOGIN_IS_NOT_ACTIVE","ACTION_ADMIN_CLIENT_PROFILE_SELECTED","ACTION_ON_ACTIVITY_PAGE_RESET","AdminClients","props","dispatch","location","getClientsData","getEmployeeError","getEmployeesError","employeeDataRefetch","getEmployeesRefetch","getClientsLoading","initialScreenSize","currentScreenSize","resetNotifications","getClientsRefetch","getEmployeeData","randomColorArray","signature","pdfDownloadRef","selectedClientBackRef","backToClientsRef","individualClientRef","splashScreenHalfway","state","splashScreenComplete","adminAuthenticated","admin_authenticated","logoutClicked","log_out_clicked","loginIsActive","login_is_active","adminClientSectionSelected","admin_client_section_selected","addProfilePhotoClicked","add_profile_photo_clicked","loadingSpinnerActive","loading_spinner","imageLoading","image_loading","cancelAppointmentClicked","onActivityPage","on_activity_page","filteredAllClients","changeFilteredAllClients","clientFilter","changeClientFilter","clientToggled","changeClientToggled","takeAPhotoSelected","changeTakeAPhotoSelected","webcamURI","changeWebcamURI","imageUploaded","changeImageUploaded","imagePreviewAvailable","changeImagePreviewAvailable","pdfLoading","changePDFLoading","updateClientProfilePicture","updateClientProfilePictureData","data","override","fetchPolicy","getOwnAppointments","getOwnAppointmentsData","getOwnAppointmentsRefetch","refetch","getOwnPastAppointments","getOwnPastAppointmentsData","redirectToAdminLogInPage","handleChangeClientFilter","e","currentTarget","value","handleDeletedPreviewImage","deleteImageClass","document","getElementsByClassName","uploadPictureClass","style","display","handleImageUploaded","picture","reader","FileReader","maxSizeMB","maxWidthOrHeight","compressedImage","fetch","then","res","blob","readAsDataURL","onloadend","base64data","result","compressedBase64data","compressToEncodedURIComponent","console","log","preventKeys","key","preventDefault","clients","length","filter","x","RegExp","test","firstName","lastName","email","phoneNumber","split","join","clientEmail","_id","variables","handleClientToggled","item","current","className","innerText","includes","toUpperCase","slice","toLowerCase","handleClientUntoggled","pathname","window","scrollTo","handleConfirmPhotoSubmit","id","profilePicture","handleProfilePictureRender","decompressFromEncodedURIComponent","background","sort","a","b","localeCompare","map","indexOf","imageDataReceived","setTimeout","clearTimeout","changedAdminPassword","reload","loadingSpinnerDuration","click","loadingCompleted","consentFormOnFile","cursor","color","unix","consentForm","createdAt","format","noConsentFormOnFile","renderBarInContactInfo","renderDownloadConsentFormButton","date","client","canvasContainer","children","toDataURL","content","position","zIndex","height","backdropFilter","WebkitBackdropFilter","paddingBottom","borderRadius","width","top","left","right","bottom","border","flexDirection","alignItems","justifyContent","i","opacity","transform","styleprops","dataUri","JPG","transitionDelay","duration","consentFormSignature"],"mappings":"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","sourcesContent":["import React, {\r\n  useEffect,\r\n  useState,\r\n  useMemo,\r\n  useRef,\r\n  useCallback,\r\n} from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\r\nimport { FormGroup, Input } from \"reactstrap\";\r\nimport Modal from \"react-modal\";\r\nimport { Transition } from \"react-spring/renderprops\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport ImageUploader from \"react-images-upload\";\r\nimport Camera, { IMAGE_TYPES } from \"react-html5-camera-photo\";\r\nimport { useMutation, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport getOwnPastAppointmentsQuery from \"../../../graphql/queries/getOwnPastAppointmentsQuery\";\r\nimport getOwnAppointmentsQuery from \"../../../graphql/queries/getOwnAppointmentsQuery\";\r\nimport updateClientProfilePictureMutation from \"../../../graphql/mutations/updateClientProfilePictureMutation\";\r\nimport moment from \"moment\";\r\nimport LZString from \"lz-string\";\r\nimport { css } from \"@emotion/css\";\r\nimport BounceLoader from \"react-spinners/BounceLoader\";\r\nimport CanvasDraw from \"react-canvas-draw\";\r\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\r\nimport ConsentFormPDF from \"../../account/clientprofile/ConsentForm/ConsentFormPDF\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faChevronLeft,\r\n  faSearch,\r\n  faEllipsisH,\r\n  faLongArrowAltLeft,\r\n  faTimes,\r\n  faFilePdf,\r\n  faFileDownload,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport AdminClientIndividualProfile from \"./AdminClientIndividualProfile\";\r\nimport AdminRenderUpcomingAppointments from \"./AdminRenderUpcomingAppointments\";\r\nimport AdminRenderPastAppointments from \"./AdminRenderPastAppointments\";\r\nimport ACTION_ADD_PROFILE_PHOTO_CLICKED_RESET from \"../../../actions/Admin/AddProfilePhotoClicked/ACTION_ADD_PROFILE_CLICKED_RESET\";\r\nimport ACTION_LOADING_SPINNER_RESET from \"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_RESET\";\r\nimport ACTION_LOADING_SPINNER_ACTIVE from \"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_ACTIVE\";\r\nimport ACTION_IMAGE_LOADING from \"../../../actions/Admin/ImageLoading/ACTION_IMAGE_LOADING\";\r\nimport ACTION_IMAGE_LOADING_RESET from \"../../../actions/Admin/ImageLoading/ACTION_IMAGE_LOADING_RESET\";\r\nimport ACTION_SPLASH_SCREEN_COMPLETE from \"../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";\r\nimport ACTION_SPLASH_SCREEN_HALFWAY from \"../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";\r\nimport ACTION_LOGIN_IS_NOT_ACTIVE from \"../../../actions/Login/ACTION_LOGIN_IS_NOT_ACTIVE\";\r\nimport ACTION_ADMIN_CLIENT_PROFILE_SELECTED from \"../../../actions/Admin/AdminLogin/AdminClientSectionSelected/ACTION_ADMIN_CLIENT_PROFILE_SELECTED.js\";\r\nimport ACTION_ON_ACTIVITY_PAGE_RESET from \"../../../actions/Admin/OnActivityPage/ACTION_ON_ACTIVITY_PAGE_RESET\";\r\nimport \"react-html5-camera-photo/build/css/index.css\";\r\nimport \"./AdminClients.css\";\r\n\r\nconst AdminClients = (props) => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n\r\n  const {\r\n    getClientsData,\r\n    getEmployeeError,\r\n    getEmployeesError,\r\n    employeeDataRefetch,\r\n    getEmployeesRefetch,\r\n    getClientsLoading,\r\n    initialScreenSize,\r\n    currentScreenSize,\r\n    resetNotifications,\r\n    getClientsRefetch,\r\n    getEmployeeData,\r\n    randomColorArray,\r\n  } = props;\r\n\r\n  let signature = useRef(null);\r\n  let pdfDownloadRef = useRef(null);\r\n\r\n  const selectedClientBackRef = useRef(null);\r\n  const backToClientsRef = useRef(null);\r\n  let individualClientRef = useRef(null);\r\n\r\n  const splashScreenHalfway = useSelector(\r\n    (state) => state.splashScreenHalfway.splashScreenHalfway\r\n  );\r\n  const splashScreenComplete = useSelector(\r\n    (state) => state.splashScreenComplete.splashScreenComplete\r\n  );\r\n  const adminAuthenticated = useSelector(\r\n    (state) => state.adminAuthenticated.admin_authenticated\r\n  );\r\n  const logoutClicked = useSelector(\r\n    (state) => state.logoutClicked.log_out_clicked\r\n  );\r\n  const loginIsActive = useSelector(\r\n    (state) => state.loginIsActive.login_is_active\r\n  );\r\n  const adminClientSectionSelected = useSelector(\r\n    (state) => state.adminClientSectionSelected.admin_client_section_selected\r\n  );\r\n  const addProfilePhotoClicked = useSelector(\r\n    (state) => state.addProfilePhotoClicked.add_profile_photo_clicked\r\n  );\r\n  const loadingSpinnerActive = useSelector(\r\n    (state) => state.loadingSpinnerActive.loading_spinner\r\n  );\r\n  const imageLoading = useSelector((state) => state.imageLoading.image_loading);\r\n  const cancelAppointmentClicked = useSelector(\r\n    (state) => state.cancelAppointmentClicked.cancelAppointmentClicked\r\n  );\r\n  const onActivityPage = useSelector(\r\n    (state) => state.onActivityPage.on_activity_page\r\n  );\r\n\r\n  const [filteredAllClients, changeFilteredAllClients] = useState([]);\r\n  const [clientFilter, changeClientFilter] = useState(\"\");\r\n  const [clientToggled, changeClientToggled] = useState(\"\");\r\n\r\n  const [takeAPhotoSelected, changeTakeAPhotoSelected] = useState(false);\r\n  const [webcamURI, changeWebcamURI] = useState(\"\");\r\n  const [imageUploaded, changeImageUploaded] = useState(\"\");\r\n  const [imagePreviewAvailable, changeImagePreviewAvailable] = useState(false);\r\n  const [pdfLoading, changePDFLoading] = useState(false);\r\n\r\n  const [\r\n    updateClientProfilePicture,\r\n    { data: updateClientProfilePictureData },\r\n  ] = useMutation(updateClientProfilePictureMutation);\r\n\r\n  const override = css`\r\n    display: block;\r\n    position: absolute;\r\n    left: 25%;\r\n    right: 25%;\r\n  `;\r\n\r\n  const [\r\n    getOwnAppointments,\r\n    { data: getOwnAppointmentsData, refetch: getOwnAppointmentsRefetch },\r\n  ] = useLazyQuery(getOwnAppointmentsQuery, {\r\n    fetchPolicy: \"no-cache\",\r\n  });\r\n\r\n  const [\r\n    getOwnPastAppointments,\r\n    { data: getOwnPastAppointmentsData },\r\n  ] = useLazyQuery(getOwnPastAppointmentsQuery, {\r\n    fetchPolicy: \"no-cache\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!splashScreenComplete) {\r\n      dispatch(ACTION_SPLASH_SCREEN_COMPLETE());\r\n    }\r\n    if (!splashScreenHalfway) {\r\n      dispatch(ACTION_SPLASH_SCREEN_HALFWAY());\r\n    }\r\n  }, [dispatch, splashScreenComplete, splashScreenHalfway]);\r\n\r\n  const redirectToAdminLogInPage = () => {\r\n    if (!adminAuthenticated) {\r\n      return <Redirect to=\"/admin\" />;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (pdfLoading) {\r\n        changePDFLoading(false);\r\n      }\r\n    };\r\n  }, [pdfLoading]);\r\n\r\n  const handleChangeClientFilter = (e) => {\r\n    changeClientFilter(e.currentTarget.value);\r\n  };\r\n\r\n  const handleDeletedPreviewImage = () => {\r\n    const deleteImageClass = document.getElementsByClassName(\"deleteImage\");\r\n    const uploadPictureClass = document.getElementsByClassName(\"uploadPicture\");\r\n\r\n    if (deleteImageClass) {\r\n      if (deleteImageClass[0]) {\r\n        deleteImageClass[0].style.display = \"none\";\r\n      }\r\n    }\r\n    if (uploadPictureClass) {\r\n      if (uploadPictureClass[0]) {\r\n        uploadPictureClass[0].style.display = \"none\";\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleImageUploaded = async (picture) => {\r\n    dispatch(ACTION_IMAGE_LOADING());\r\n    if (picture[0] || typeof picture === \"string\") {\r\n      const reader = new FileReader();\r\n      changeImagePreviewAvailable(true);\r\n      try {\r\n        let compressedImage;\r\n\r\n        if (typeof picture === \"object\") {\r\n          compressedImage = await imageCompression(picture[0], {\r\n            maxSizeMB: 0.3,\r\n            maxWidthOrHeight: 300,\r\n          });\r\n        } else if (typeof picture === \"string\") {\r\n          await fetch(picture)\r\n            .then((res) => {\r\n              return res.blob();\r\n            })\r\n            .then(async (blob) => {\r\n              compressedImage = await imageCompression(blob, {\r\n                maxSizeMB: 0.3,\r\n                maxWidthOrHeight: 300,\r\n              });\r\n            });\r\n        }\r\n\r\n        reader.readAsDataURL(compressedImage);\r\n\r\n        reader.onloadend = async () => {\r\n          const base64data = reader.result;\r\n\r\n          const compressedBase64data = LZString.compressToEncodedURIComponent(\r\n            base64data\r\n          );\r\n          dispatch(ACTION_IMAGE_LOADING_RESET());\r\n          changeImageUploaded(compressedBase64data);\r\n        };\r\n      } catch (error) {\r\n        dispatch(ACTION_IMAGE_LOADING_RESET());\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      dispatch(ACTION_IMAGE_LOADING_RESET());\r\n      changeImageUploaded(\"\");\r\n      changeImagePreviewAvailable(false);\r\n      handleDeletedPreviewImage();\r\n    }\r\n  };\r\n\r\n  const preventKeys = (e) => {\r\n    if (\r\n      e.key === \")\" ||\r\n      e.key === \"(\" ||\r\n      e.key === \"[\" ||\r\n      e.key === \"]\" ||\r\n      e.key === \"\\\\\" ||\r\n      e.key === \"/\"\r\n    ) {\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  useMemo(() => {\r\n    if (getClientsData) {\r\n      if (getClientsData.clients.length > 0) {\r\n        if (changeClientFilter) {\r\n          changeFilteredAllClients(\r\n            [...getClientsData.clients].filter((x) => {\r\n              return (\r\n                new RegExp(clientFilter, \"gi\").test(\r\n                  x.firstName + \" \" + x.lastName\r\n                ) ||\r\n                new RegExp(clientFilter, \"gi\").test(x.email) ||\r\n                new RegExp(clientFilter, \"gi\").test(x.phoneNumber) ||\r\n                new RegExp(clientFilter, \"gi\").test(\r\n                  x.phoneNumber.split(/[\\W_]+/g).join(\"\")\r\n                )\r\n              );\r\n            })\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }, [clientFilter, getClientsData]);\r\n\r\n  useMemo(() => {\r\n    if (clientToggled) {\r\n      const clientEmail = [...getClientsData.clients].filter(\r\n        (x) => x._id === clientToggled\r\n      )[0].email;\r\n\r\n      getOwnAppointments({\r\n        variables: { _id: clientToggled, email: clientEmail },\r\n      });\r\n\r\n      getOwnPastAppointments({\r\n        variables: { _id: clientToggled, email: clientEmail },\r\n      });\r\n    }\r\n  }, [\r\n    clientToggled,\r\n    getOwnAppointments,\r\n    getOwnPastAppointments,\r\n    getClientsData,\r\n  ]);\r\n\r\n  // Allows click only if selected client modal is not active\r\n\r\n  const handleClientToggled = (e, item) => {\r\n    if (e.currentTarget && individualClientRef) {\r\n      if (individualClientRef.current) {\r\n        if (\r\n          individualClientRef.current.className === e.currentTarget.className\r\n        ) {\r\n          if (selectedClientBackRef) {\r\n            if (!selectedClientBackRef.current) {\r\n              if (item) {\r\n                if (item._id) {\r\n                  changeClientToggled(item._id);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if (\r\n          e.currentTarget.innerText.includes(item.email) &&\r\n          e.currentTarget.innerText.includes(\r\n            item.firstName[0].toUpperCase() +\r\n              item.firstName.slice(1).toLowerCase()\r\n          ) &&\r\n          e.currentTarget.innerText.includes(\r\n            item.lastName[0].toUpperCase() +\r\n              item.lastName.slice(1).toLowerCase()\r\n          )\r\n        ) {\r\n          if (selectedClientBackRef) {\r\n            if (!selectedClientBackRef.current) {\r\n              if (item) {\r\n                if (item._id) {\r\n                  changeClientToggled(item._id);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Function for back arrow click to reset selected toggled client\r\n\r\n  const handleClientUntoggled = (e) => {\r\n    if (\r\n      (e.currentTarget && selectedClientBackRef) ||\r\n      (e.currentTarget && backToClientsRef)\r\n    ) {\r\n      if (selectedClientBackRef.current || backToClientsRef.current) {\r\n        if (\r\n          selectedClientBackRef.current.className ===\r\n            e.currentTarget.className ||\r\n          backToClientsRef.current.className === e.currentTarget.className\r\n        ) {\r\n          changeClientToggled(\"\");\r\n\r\n          if (pdfLoading) {\r\n            changePDFLoading(false);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (onActivityPage) {\r\n      resetNotifications();\r\n      dispatch(ACTION_ON_ACTIVITY_PAGE_RESET());\r\n    }\r\n  }, [onActivityPage, dispatch, resetNotifications]);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname || addProfilePhotoClicked || loadingSpinnerActive) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }, [location.pathname, addProfilePhotoClicked, loadingSpinnerActive]);\r\n\r\n  // When account screen unmounts, allow navbar\r\n  useEffect(() => {\r\n    if (loginIsActive) {\r\n      dispatch(ACTION_LOGIN_IS_NOT_ACTIVE());\r\n    }\r\n  }, [dispatch, loginIsActive]);\r\n\r\n  const handleConfirmPhotoSubmit = () => {\r\n    updateClientProfilePicture({\r\n      variables: {\r\n        id: clientToggled,\r\n        profilePicture: imageUploaded,\r\n      },\r\n    });\r\n\r\n    dispatch(ACTION_IMAGE_LOADING());\r\n    changeImageUploaded(\"\");\r\n    dispatch(ACTION_ADD_PROFILE_PHOTO_CLICKED_RESET());\r\n    changeImagePreviewAvailable(false);\r\n    changeTakeAPhotoSelected(false);\r\n    changeWebcamURI(\"\");\r\n  };\r\n\r\n  useMemo(() => {\r\n    if (updateClientProfilePictureData) {\r\n      getClientsRefetch();\r\n    }\r\n  }, [getClientsRefetch, updateClientProfilePictureData]);\r\n\r\n  const handleProfilePictureRender = (item) => {\r\n    if (item.profilePicture) {\r\n      return (\r\n        <img\r\n          className=\"admin_individual_client_picture_profile_avatar\"\r\n          src={LZString.decompressFromEncodedURIComponent(item.profilePicture)}\r\n          alt={\r\n            item.firstName[0].toUpperCase() +\r\n            item.firstName.slice(1).toLowerCase() +\r\n            \" \" +\r\n            item.lastName[0].toUpperCase() +\r\n            item.lastName.slice(1).toLowerCase() +\r\n            \" Profile Picture\"\r\n          }\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <div\r\n          className=\"admin_individual_client_initials_profile_avatar\"\r\n          style={{\r\n            background:\r\n              randomColorArray[\r\n                getClientsData.clients\r\n                  .sort((a, b) => a.firstName.localeCompare(b.firstName))\r\n                  .map((x) => x.email)\r\n                  .indexOf(item.email)\r\n              ],\r\n          }}\r\n        >\r\n          <p>\r\n            {item.firstName[0].toUpperCase() + item.lastName[0].toUpperCase()}\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (imageLoading) {\r\n      if (updateClientProfilePictureData) {\r\n        const imageDataReceived = setTimeout(() => {\r\n          dispatch(ACTION_IMAGE_LOADING_RESET());\r\n        }, 500);\r\n        return () => {\r\n          clearTimeout(imageDataReceived);\r\n        };\r\n      }\r\n    }\r\n  }, [imageLoading, updateClientProfilePictureData, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (location.state) {\r\n      if (location.state.changedAdminPassword) {\r\n        window.location.reload();\r\n      }\r\n    }\r\n  }, [location.state]);\r\n\r\n  useEffect(() => {\r\n    if (loadingSpinnerActive) {\r\n      const loadingSpinnerDuration = setTimeout(() => {\r\n        if (pdfDownloadRef) {\r\n          if (pdfDownloadRef.current) {\r\n            pdfDownloadRef.current.click();\r\n          }\r\n        }\r\n        dispatch(ACTION_LOADING_SPINNER_RESET());\r\n        changePDFLoading(false);\r\n      }, 3000);\r\n      return () => {\r\n        clearTimeout(loadingSpinnerDuration);\r\n      };\r\n    }\r\n  }, [loadingSpinnerActive, dispatch]);\r\n\r\n  const loadingCompleted = useCallback(() => {\r\n    dispatch(ACTION_LOADING_SPINNER_ACTIVE());\r\n\r\n    if (!pdfLoading) {\r\n      changePDFLoading(true);\r\n    } else {\r\n      return null;\r\n    }\r\n  }, [pdfLoading, dispatch]);\r\n\r\n  const consentFormOnFile = (item) => {\r\n    return (\r\n      <div\r\n        className=\"profile_button_container\"\r\n        onClick={() => loadingCompleted()}\r\n        style={{\r\n          cursor: \"pointer\",\r\n        }}\r\n      >\r\n        <FontAwesomeIcon\r\n          className=\"profile_button_icon\"\r\n          icon={faFileDownload}\r\n          style={{\r\n            color: \"rgba(0, 129, 177, 0.9)\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        />\r\n        <h2\r\n          style={{\r\n            color: \"rgba(0, 129, 177, 0.9)\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Download Latest Consent Form\r\n        </h2>\r\n        <p>\r\n          {\"(\" +\r\n            moment.unix(item.consentForm.createdAt / 1000).format(\"l\") +\r\n            \")\"}\r\n        </p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const noConsentFormOnFile = () => {\r\n    return (\r\n      <div className=\"profile_button_container\">\r\n        <FontAwesomeIcon\r\n          className=\"profile_button_icon\"\r\n          icon={faFilePdf}\r\n          style={{\r\n            color: \"rgba(177, 48, 0, 0.9)\",\r\n            cursor: \"default\",\r\n          }}\r\n        />\r\n        <h2\r\n          style={{\r\n            color: \"rgba(177, 48, 0, 0.9)\",\r\n            cursor: \"default\",\r\n          }}\r\n        >\r\n          No Consent Form on File\r\n        </h2>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderBarInContactInfo = () => {\r\n    if (!currentScreenSize) {\r\n      if (initialScreenSize >= 1200) {\r\n        return null;\r\n      } else {\r\n        return <p style={{ color: \"rgb(200, 200, 200)\" }}>|</p>;\r\n      }\r\n    } else {\r\n      if (currentScreenSize >= 1200) {\r\n        return null;\r\n      } else {\r\n        return <p style={{ color: \"rgb(200, 200, 200)\" }}>|</p>;\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderDownloadConsentFormButton = (item) => {\r\n    if (item) {\r\n      if (item.consentForm) {\r\n        if (item.consentForm.date) {\r\n          return (\r\n            <>\r\n              {pdfLoading ? (\r\n                <PDFDownloadLink\r\n                  document={\r\n                    <ConsentFormPDF\r\n                      getClientData={{ client: item }}\r\n                      signature={\r\n                        signature\r\n                          ? signature.current\r\n                            ? signature.current.canvasContainer.children[1].toDataURL()\r\n                            : null\r\n                          : null\r\n                      }\r\n                      consentFormLastUpdated={moment\r\n                        .unix(item.consentForm.createdAt / 1000)\r\n                        .format(\"l\")}\r\n                    />\r\n                  }\r\n                  fileName={\r\n                    item.firstName[0].toUpperCase() +\r\n                    item.firstName.slice(1).toLowerCase() +\r\n                    \"_\" +\r\n                    item.lastName[0].toUpperCase() +\r\n                    item.lastName.slice(1).toLowerCase() +\r\n                    \"_\" +\r\n                    \"High_End_Consent_Form.pdf\"\r\n                  }\r\n                >\r\n                  <div\r\n                    className=\"profile_button_container\"\r\n                    ref={pdfDownloadRef}\r\n                    style={{\r\n                      cursor: item.consentForm\r\n                        ? item.consentForm.date\r\n                          ? \"pointer\"\r\n                          : \"default\"\r\n                        : \"default\",\r\n                    }}\r\n                  >\r\n                    <FontAwesomeIcon\r\n                      className=\"profile_button_icon\"\r\n                      icon={\r\n                        item.consentForm\r\n                          ? item.consentForm.date\r\n                            ? faFileDownload\r\n                            : faFilePdf\r\n                          : faFilePdf\r\n                      }\r\n                      style={{\r\n                        color: item.consentForm\r\n                          ? item.consentForm.date\r\n                            ? \"rgba(0, 129, 177, 0.9)\"\r\n                            : \"rgba(177, 48, 0, 0.9)\"\r\n                          : \"rgba(177, 48, 0, 0.9)\",\r\n                        cursor: item.consentForm\r\n                          ? item.consentForm.date\r\n                            ? \"pointer\"\r\n                            : \"default\"\r\n                          : \"default\",\r\n                      }}\r\n                    />\r\n                    <h2\r\n                      style={{\r\n                        color: item.consentForm\r\n                          ? item.consentForm.date\r\n                            ? \"rgba(0, 129, 177, 0.9)\"\r\n                            : \"rgba(177, 48, 0, 0.9)\"\r\n                          : \"rgba(177, 48, 0, 0.9)\",\r\n                        cursor: item.consentForm\r\n                          ? item.consentForm.date\r\n                            ? \"pointer\"\r\n                            : \"default\"\r\n                          : \"default\",\r\n                      }}\r\n                    >\r\n                      {item.consentForm\r\n                        ? item.consentForm.date\r\n                          ? \"Download Latest Consent Form\"\r\n                          : \"No Consent Form on File\"\r\n                        : \"No Consent Form on File\"}\r\n                    </h2>\r\n                    {item.consentForm ? (\r\n                      item.consentForm.date ? (\r\n                        <p>\r\n                          {\"(\" +\r\n                            moment\r\n                              .unix(item.consentForm.createdAt / 1000)\r\n                              .format(\"l\") +\r\n                            \")\"}\r\n                        </p>\r\n                      ) : null\r\n                    ) : null}\r\n                  </div>\r\n                </PDFDownloadLink>\r\n              ) : (\r\n                consentFormOnFile(item)\r\n              )}\r\n            </>\r\n          );\r\n        } else {\r\n          return noConsentFormOnFile();\r\n        }\r\n      } else {\r\n        return noConsentFormOnFile();\r\n      }\r\n    } else {\r\n      return noConsentFormOnFile();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getClientsLoading) {\r\n      dispatch(ACTION_LOADING_SPINNER_ACTIVE());\r\n    } else {\r\n      dispatch(ACTION_LOADING_SPINNER_RESET());\r\n    }\r\n  }, [dispatch, getClientsLoading]);\r\n\r\n  useEffect(() => {\r\n    if (getEmployeeError) {\r\n      employeeDataRefetch();\r\n    }\r\n  }, [getEmployeeError, employeeDataRefetch]);\r\n\r\n  useEffect(() => {\r\n    if (getEmployeesError) {\r\n      getEmployeesRefetch();\r\n    }\r\n  }, [getEmployeesError, getEmployeesRefetch]);\r\n\r\n  return (\r\n    <div className=\"admin_clients_container\">\r\n      {redirectToAdminLogInPage()}\r\n      <Modal\r\n        isOpen={imageLoading || loadingSpinnerActive || getClientsLoading}\r\n        style={{\r\n          content: {\r\n            position: \"fixed\",\r\n            zIndex: \"10000\",\r\n            height: \"100%\",\r\n            backdropFilter: \"blur(5px)\",\r\n            WebkitBackdropFilter: \"blur(5px)\",\r\n            paddingBottom: \"10%\",\r\n            borderRadius: \"none\",\r\n            width: \"100vw\",\r\n            top: \"0\",\r\n            left: \"0\",\r\n            right: \"0\",\r\n            bottom: \"0\",\r\n            border: \"none\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            background: \"rgba(0, 0, 0, 0.5)\",\r\n          },\r\n        }}\r\n      >\r\n        <BounceLoader\r\n          size={100}\r\n          css={override}\r\n          color={\"rgb(44, 44, 52)\"}\r\n          loading={imageLoading || loadingSpinnerActive || getClientsLoading}\r\n        />\r\n      </Modal>\r\n      <div\r\n        className=\"admin_clients_header\"\r\n        style={{\r\n          zIndex:\r\n            logoutClicked ||\r\n            addProfilePhotoClicked ||\r\n            loadingSpinnerActive ||\r\n            imageLoading ||\r\n            cancelAppointmentClicked ||\r\n            getClientsLoading\r\n              ? 0\r\n              : 5,\r\n          filter:\r\n            cancelAppointmentClicked || getClientsLoading\r\n              ? \"blur(5px)\"\r\n              : \"none\",\r\n        }}\r\n      >\r\n        <Link to=\"/admin/menu\">\r\n          <FontAwesomeIcon\r\n            className=\"admin_clients_back_arrow\"\r\n            icon={faChevronLeft}\r\n          />\r\n        </Link>\r\n        <h1>CLIENTS</h1>\r\n      </div>\r\n      <FormGroup>\r\n        <div className=\"admin_clients_searchbar_container\">\r\n          <Input\r\n            className=\"admin_clients_searchbar_input_field\"\r\n            placeholder=\"Filter by client name, email, or phone #\"\r\n            onChange={handleChangeClientFilter}\r\n            maxLength={128}\r\n            onKeyDown={preventKeys}\r\n          />\r\n          <FontAwesomeIcon\r\n            className=\"admin_clients_searchbar_icon\"\r\n            icon={faSearch}\r\n          />\r\n        </div>\r\n      </FormGroup>\r\n      <div className=\"admin_clients_content_container\">\r\n        {getClientsData\r\n          ? getClientsData.clients.length > 0\r\n            ? filteredAllClients\r\n                .sort((a, b) => a.firstName.localeCompare(b.firstName))\r\n                .map((item, i) => {\r\n                  return (\r\n                    <div\r\n                      className=\"admin_individual_client_container\"\r\n                      key={i}\r\n                      onClick={(e) => handleClientToggled(e, item)}\r\n                      ref={individualClientRef}\r\n                    >\r\n                      <Modal\r\n                        isOpen={\r\n                          addProfilePhotoClicked && clientToggled === item._id\r\n                        }\r\n                        className=\"admin_individual_client_add_photo_modal\"\r\n                        style={{\r\n                          content: {\r\n                            position: \"fixed\",\r\n                            zIndex: 10000,\r\n                            opacity: 0.99,\r\n                            height: \"100%\",\r\n                            backdropFilter: \"blur(5px)\",\r\n                            WebkitBackdropFilter: \"blur(5px)\",\r\n                            paddingBottom: \"10%\",\r\n                            borderRadius: \"none\",\r\n                            width: \"100vw\",\r\n                            top: \"0\",\r\n                            left: \"0\",\r\n                            right: \"0\",\r\n                            bottom: \"0\",\r\n                            border: \"none\",\r\n                            display: \"flex\",\r\n                            flexDirection: \"column\",\r\n                            alignItems: \"center\",\r\n                            justifyContent: \"center\",\r\n                            background: \"rgba(0, 0, 0, 0.5)\",\r\n                          },\r\n                        }}\r\n                      >\r\n                        <Transition\r\n                          items={addProfilePhotoClicked}\r\n                          from={{ transform: \"translate3d(0, -65%, 0)\" }}\r\n                          enter={{ transform: \"translate3d(0, 0, 0)\" }}\r\n                          leave={{ display: \"none\" }}\r\n                        >\r\n                          {(addProfilePhotoClicked) =>\r\n                            addProfilePhotoClicked &&\r\n                            ((styleprops) => (\r\n                              <div\r\n                                className=\"admin_individual_client_add_photo_modal_content_container\"\r\n                                style={styleprops}\r\n                              >\r\n                                {takeAPhotoSelected &&\r\n                                !imagePreviewAvailable ? (\r\n                                  <>\r\n                                    <Camera\r\n                                      isSilentMode={true}\r\n                                      onTakePhotoAnimationDone={(dataUri) => {\r\n                                        handleImageUploaded(dataUri);\r\n                                        changeWebcamURI(dataUri);\r\n                                      }}\r\n                                      imageType={IMAGE_TYPES.JPG}\r\n                                    />\r\n                                    <div className=\"admin_individual_client_add_photo_modal_contents\">\r\n                                      <FontAwesomeIcon\r\n                                        className=\"modal_x\"\r\n                                        icon={faTimes}\r\n                                        onClick={() => {\r\n                                          dispatch(\r\n                                            ACTION_ADD_PROFILE_PHOTO_CLICKED_RESET()\r\n                                          );\r\n                                          changeTakeAPhotoSelected(false);\r\n                                        }}\r\n                                      />\r\n                                    </div>\r\n                                  </>\r\n                                ) : (\r\n                                  <div className=\"admin_individual_client_add_photo_modal_contents\">\r\n                                    <FontAwesomeIcon\r\n                                      className=\"modal_x\"\r\n                                      icon={faTimes}\r\n                                      onClick={() => {\r\n                                        dispatch(\r\n                                          ACTION_ADD_PROFILE_PHOTO_CLICKED_RESET()\r\n                                        );\r\n                                        changeTakeAPhotoSelected(false);\r\n                                        changeImageUploaded(\"\");\r\n                                        changeImagePreviewAvailable(false);\r\n                                        changeWebcamURI(\"\");\r\n                                      }}\r\n                                    />\r\n                                    <h2>Update client profile picture</h2>\r\n                                    <span\r\n                                      className=\"admin_individual_client_add_photo_modal_buttons_container\"\r\n                                      style={{\r\n                                        top:\r\n                                          imageUploaded || imagePreviewAvailable\r\n                                            ? \"35%\"\r\n                                            : \"45%\",\r\n                                      }}\r\n                                    >\r\n                                      <ImageUploader\r\n                                        withIcon={\r\n                                          imageUploaded || imagePreviewAvailable\r\n                                            ? false\r\n                                            : true\r\n                                        }\r\n                                        withLabel={false}\r\n                                        buttonStyles={{\r\n                                          display:\r\n                                            imageUploaded ||\r\n                                            imagePreviewAvailable\r\n                                              ? \"none\"\r\n                                              : \"block\",\r\n                                        }}\r\n                                        buttonText=\"Choose image\"\r\n                                        imgExtension={[\".jpg\", \".png\", \".jpeg\"]}\r\n                                        maxFileSize={5242880}\r\n                                        onChange={handleImageUploaded}\r\n                                        singleImage={true}\r\n                                        withPreview={true}\r\n                                      />\r\n                                      {(imageUploaded ||\r\n                                        imagePreviewAvailable) &&\r\n                                      takeAPhotoSelected ? (\r\n                                        <div className=\"fileContainer\">\r\n                                          <div className=\"uploadPictureContainer\">\r\n                                            <div\r\n                                              className=\"deleteImage\"\r\n                                              onClick={() => {\r\n                                                changeWebcamURI(\"\");\r\n                                                changeImagePreviewAvailable(\r\n                                                  false\r\n                                                );\r\n                                                dispatch(\r\n                                                  ACTION_IMAGE_LOADING_RESET()\r\n                                                );\r\n                                                changeImagePreviewAvailable(\r\n                                                  false\r\n                                                );\r\n                                                changeTakeAPhotoSelected(false);\r\n                                                changeImageUploaded(\"\");\r\n                                              }}\r\n                                            >\r\n                                              X\r\n                                            </div>\r\n                                            <img\r\n                                              src={webcamURI}\r\n                                              className=\"uploadPicture\"\r\n                                              alt=\"preview\"\r\n                                            />\r\n                                          </div>\r\n                                        </div>\r\n                                      ) : null}\r\n                                      {imageUploaded ||\r\n                                      imagePreviewAvailable ? (\r\n                                        <div\r\n                                          className=\"admin_individual_client_confirm_photo_button\"\r\n                                          onClick={handleConfirmPhotoSubmit}\r\n                                        >\r\n                                          <p>Confirm photo</p>\r\n                                        </div>\r\n                                      ) : null}\r\n                                      {(initialScreenSize >= 1200 &&\r\n                                        !imageUploaded &&\r\n                                        !imagePreviewAvailable) ||\r\n                                      (currentScreenSize >= 1200 &&\r\n                                        !imageUploaded &&\r\n                                        !imagePreviewAvailable) ? (\r\n                                        <>\r\n                                          <p\r\n                                            style={{\r\n                                              display: !currentScreenSize\r\n                                                ? initialScreenSize >= 1200\r\n                                                  ? \"block\"\r\n                                                  : \"none\"\r\n                                                : currentScreenSize >= 1200\r\n                                                ? \"block\"\r\n                                                : \"none\",\r\n                                            }}\r\n                                          >\r\n                                            OR\r\n                                          </p>\r\n                                          <div\r\n                                            className=\"admin_individual_client_take_a_photo_button\"\r\n                                            onClick={() =>\r\n                                              changeTakeAPhotoSelected(true)\r\n                                            }\r\n                                          >\r\n                                            <p>Take a photo</p>\r\n                                          </div>{\" \"}\r\n                                        </>\r\n                                      ) : null}\r\n                                    </span>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            ))\r\n                          }\r\n                        </Transition>\r\n                      </Modal>\r\n                      <div\r\n                        className=\"admin_individual_client_initials_square\"\r\n                        style={{\r\n                          background:\r\n                            randomColorArray[\r\n                              getClientsData.clients\r\n                                .sort((a, b) =>\r\n                                  a.firstName.localeCompare(b.firstName)\r\n                                )\r\n                                .map((x) => x.email)\r\n                                .indexOf(item.email)\r\n                            ],\r\n                        }}\r\n                      >\r\n                        <p>\r\n                          {item.firstName[0].toUpperCase() +\r\n                            item.lastName[0].toUpperCase()}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"admin_individual_client_full_name\">\r\n                        <p>\r\n                          {item.firstName[0].toUpperCase() +\r\n                            item.firstName.slice(1).toLowerCase() +\r\n                            \" \" +\r\n                            item.lastName[0].toUpperCase() +\r\n                            item.lastName.slice(1).toLowerCase()}\r\n                        </p>\r\n                        <p>{item.email ? item.email : null}</p>\r\n                        <p>{item.phoneNumber ? item.phoneNumber : null}</p>\r\n                      </div>\r\n                      <span className=\"admin_individual_client_spacer\" />\r\n                      <FontAwesomeIcon\r\n                        style={{\r\n                          zIndex: logoutClicked || clientToggled ? 0 : 1,\r\n                          transitionDelay: logoutClicked\r\n                            ? \"initial\"\r\n                            : !clientToggled\r\n                            ? \"0.5s\"\r\n                            : \"initial\",\r\n                        }}\r\n                        icon={faEllipsisH}\r\n                        className=\"admin_individual_client_expand_icon\"\r\n                      />\r\n                      <Transition\r\n                        items={clientToggled}\r\n                        from={{ transform: \"translateX(-100%)\" }}\r\n                        enter={{ transform: \"translateX(0%)\" }}\r\n                        leave={{ transform: \"translateX(-100%)\" }}\r\n                        config={{ duration: 200 }}\r\n                      >\r\n                        {(clientToggled) =>\r\n                          clientToggled === item._id &&\r\n                          ((styleprops) => (\r\n                            <div\r\n                              className=\"admin_individual_selected_client_container\"\r\n                              style={{\r\n                                ...styleprops,\r\n                                ...{\r\n                                  zIndex:\r\n                                    logoutClicked ||\r\n                                    addProfilePhotoClicked ||\r\n                                    loadingSpinnerActive ||\r\n                                    imageLoading ||\r\n                                    cancelAppointmentClicked\r\n                                      ? 0\r\n                                      : 1,\r\n                                },\r\n                              }}\r\n                            >\r\n                              <CanvasDraw\r\n                                className=\"consent_form_signature\"\r\n                                saveData={\r\n                                  item.consentForm\r\n                                    ? item.consentForm.consentFormSignature\r\n                                      ? LZString.decompressFromEncodedURIComponent(\r\n                                          item.consentForm.consentFormSignature\r\n                                        )\r\n                                      : null\r\n                                    : null\r\n                                }\r\n                                hideGrid={true}\r\n                                hideInterface={true}\r\n                                disabled\r\n                                canvasHeight=\"100%\"\r\n                                canvasWidth=\"100%\"\r\n                                immediateLoading={true}\r\n                                ref={signature ? signature : null}\r\n                                style={{ display: \"none\" }}\r\n                              />\r\n                              <div className=\"admin_individual_selected_client_contents_container\">\r\n                                <div\r\n                                  className=\"admin_individual_selected_client_back_container\"\r\n                                  ref={selectedClientBackRef}\r\n                                  onClick={(e) => {\r\n                                    adminClientSectionSelected === \"\"\r\n                                      ? handleClientUntoggled(e)\r\n                                      : dispatch(\r\n                                          ACTION_ADMIN_CLIENT_PROFILE_SELECTED()\r\n                                        );\r\n                                  }}\r\n                                >\r\n                                  <FontAwesomeIcon\r\n                                    icon={faLongArrowAltLeft}\r\n                                    className=\"admin_individual_selected_client_back_arrow_icon\"\r\n                                  />\r\n                                  <p>\r\n                                    {adminClientSectionSelected === \"\"\r\n                                      ? \"Back to all clients\"\r\n                                      : \"Back to \" +\r\n                                        item.firstName[0].toUpperCase() +\r\n                                        item.firstName.slice(1).toLowerCase() +\r\n                                        \" \" +\r\n                                        item.lastName[0].toUpperCase() +\r\n                                        item.lastName.slice(1).toLowerCase() +\r\n                                        \"'s Profile\"}\r\n                                  </p>\r\n                                </div>\r\n\r\n                                {adminClientSectionSelected === \"\" ? (\r\n                                  <AdminClientIndividualProfile\r\n                                    item={item}\r\n                                    clientToggled={clientToggled}\r\n                                    changeClientToggled={changeClientToggled}\r\n                                    handleProfilePictureRender={\r\n                                      handleProfilePictureRender\r\n                                    }\r\n                                    renderBarInContactInfo={\r\n                                      renderBarInContactInfo\r\n                                    }\r\n                                    renderDownloadConsentFormButton={\r\n                                      renderDownloadConsentFormButton\r\n                                    }\r\n                                    getClientsData={getClientsData}\r\n                                    getClientsRefetch={getClientsRefetch}\r\n                                    getEmployeeData={\r\n                                      getEmployeeData ? getEmployeeData : null\r\n                                    }\r\n                                  />\r\n                                ) : adminClientSectionSelected ===\r\n                                  \"UpcomingAppointments\" ? (\r\n                                  <div className=\"admin_side_my_appointments_content_container\">\r\n                                    <AdminRenderUpcomingAppointments\r\n                                      data={getOwnAppointmentsData}\r\n                                      getOwnAppointmentsRefetch={\r\n                                        getOwnAppointmentsRefetch\r\n                                      }\r\n                                      item={item}\r\n                                      override={override}\r\n                                      loadingSpinnerActive={\r\n                                        loadingSpinnerActive\r\n                                      }\r\n                                      currentScreenSize={currentScreenSize}\r\n                                      initialScreenSize={initialScreenSize}\r\n                                    />\r\n                                  </div>\r\n                                ) : adminClientSectionSelected ===\r\n                                  \"PastAppointments\" ? (\r\n                                  <div className=\"admin_side_my_appointments_content_container\">\r\n                                    <AdminRenderPastAppointments\r\n                                      data={getOwnPastAppointmentsData}\r\n                                      item={item}\r\n                                      currentScreenSize={currentScreenSize}\r\n                                      initialScreenSize={initialScreenSize}\r\n                                    />\r\n                                  </div>\r\n                                ) : null}\r\n                              </div>\r\n                            </div>\r\n                          ))\r\n                        }\r\n                      </Transition>\r\n                    </div>\r\n                  );\r\n                })\r\n            : null\r\n          : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminClients;\r\n"]},"metadata":{},"sourceType":"module"}