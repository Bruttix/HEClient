{"ast":null,"code":"import _slicedToArray from\"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useCallback,useState,useEffect}from\"react\";import{Link,Redirect,useLocation}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import moment from\"moment\";import{Collapse}from\"reactstrap\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faChevronLeft,faChevronRight}from\"@fortawesome/free-solid-svg-icons\";import{useQuery}from\"@apollo/react-hooks\";import getAllAppointmentsQuery from\"../../../graphql/queries/getAllAppointmentsQuery\";import getAllPersonalEventsQuery from\"../../../graphql/queries/getAllPersonalEventsQuery\";import{animateScroll}from\"react-scroll\";import ACTION_DAY_OF_THE_WEEK from\"../../../actions/SelectedDay/DayOfTheWeek/ACTION_DAY_OF_THE_WEEK\";import ACTION_REFORMATTED_DAY_CLONE_RESET from\"../../../actions/SelectedDay/ReformattedDayClone/ACTION_REFORMATTED_DAY_CLONE_RESET\";import ACTION_SELECTED_TIME from\"../../../actions/SelectedTime/ACTION_SELECTED_TIME\";import ACTION_SELECTED_TIME_RESET from\"../../../actions/SelectedTime/ACTION_SELECTED_TIME_RESET\";import ACTION_AFTERNOON_OPEN from\"../../../actions/SelectedTime/CollapseIsOpen/Afternoon/ACTION_AFTERNOON_OPEN\";import ACTION_AFTERNOON_CLOSED from\"../../../actions/SelectedTime/CollapseIsOpen/Afternoon/ACTION_AFTERNOON_CLOSED\";import ACTION_LATE_AFTERNOON_OPEN from\"../../../actions/SelectedTime/CollapseIsOpen/LateAfternoon/ACTION_LATE_AFTERNOON_OPEN\";import ACTION_LATE_AFTERNOON_CLOSED from\"../../../actions/SelectedTime/CollapseIsOpen/LateAfternoon/ACTION_LATE_AFTERNOON_CLOSED\";import ACTION_MORNING_OPEN from\"../../../actions/SelectedTime/CollapseIsOpen/Morning/ACTION_MORNING_OPEN\";import ACTION_MORNING_CLOSED from\"../../../actions/SelectedTime/CollapseIsOpen/Morning/ACTION_MORNING_CLOSED\";import ACTION_EVENING_OPEN from\"../../../actions/SelectedTime/CollapseIsOpen/Evening/ACTION_EVENING_OPEN\";import ACTION_EVENING_CLOSED from\"../../../actions/SelectedTime/CollapseIsOpen/Evening/ACTION_EVENING_CLOSED\";import ACTION_CONTINUE_BUTTON_ACTIVE from\"../../../actions/ContinueToCheckoutButtonActive/ACTION_CONTINUE_BUTTON_ACTIVE\";import ACTION_CONTINUE_BUTTON_RESET from\"../../../actions/ContinueToCheckoutButtonActive/ACTION_CONTINUE_BUTTON_RESET\";import ACTION_FIRST_NAME_RESET from\"../../../actions/GuestCheckoutForm/FirstName/ACTION_FIRST_NAME_RESET\";import ACTION_LAST_NAME_RESET from\"../../../actions/GuestCheckoutForm/LastName/ACTION_LAST_NAME_RESET\";import ACTION_EMAIL_RESET from\"../../../actions/GuestCheckoutForm/Email/ACTION_EMAIL_RESET\";import ACTION_EMAIL_NOT_INVALID from\"../../../actions/EmailValidation/Invalid/ACTION_EMAIL_NOT_INVALID\";import ACTION_EMAIL_NOT_VALID from\"../../../actions/EmailValidation/Valid/ACTION_EMAIL_NOT_VALID\";import ACTION_PHONE_NUMBER_RESET from\"../../../actions/GuestCheckoutForm/PhoneNumber/ACTION_PHONE_NUMBER_RESET\";import ACTION_PHONE_NOT_INVALID from\"../../../actions/PhoneNumberValidation/Invalid/ACTION_PHONE_NOT_INVALID\";import ACTION_PHONE_NOT_VALID from\"../../../actions/PhoneNumberValidation/Valid/ACTION_PHONE_NOT_VALID\";import ACTION_APPOINTMENT_NOTES_RESET from\"../../../actions/GuestCheckoutForm/AppointmentNotes/ACTION_APPOINTMENT_NOTES_RESET\";import ACTION_APPOINTMENT_END_TIME from\"../../../actions/AppointmentEndTime/ACTION_APPOINTMENT_END_TIME\";import ACTION_TOTAL_DURATION from\"../../../actions/TotalDuration/ACTION_TOTAL_DURATION\";import ACTION_AVAILABILITY_PAGE_OPENED from\"../../../actions/InCart/CartPageOpened/ACTION_AVAILABILITY_PAGE_OPENED\";import ACTION_PAYMENT_INFO_PAGE_OPENED from\"../../../actions/InCart/CartPageOpened/ACTION_PAYMENT_INFO_PAGE_OPENED\";import ACTION_GUEST_CHECKOUT_FORM_PAGE_OPENED from\"../../../actions/InCart/CartPageOpened/ACTION_GUEST_CHECKOUT_FORM_PAGE_OPENED\";import\"./TimePreference.css\";// Minified Bootstrap CSS file (for Collapse feature)\nimport\"../../../bootstrap.min.css\";const TimePreference=props=>{const dispatch=useDispatch();const location=useLocation();const addOnsArr=useSelector(state=>state.addOnsArr.add_ons_arr);const treatmentsArr=useSelector(state=>state.treatmentsArr.treatments_arr);const reformattedDay=useSelector(state=>state.reformattedDay.reformattedDay);const selectedDay=useSelector(state=>state.selectedDay.selectedDay);const dayOfTheWeek=useSelector(state=>state.dayOfTheWeek.dayOfTheWeek);const selectedTime=useSelector(state=>state.selectedTime.selectedTime);const totalDuration=useSelector(state=>state.totalDuration.totalDuration);const continueToCheckoutButton=useSelector(state=>state.continueToCheckoutButton.continueButtonActive);const morningCollapseIsOpen=useSelector(state=>state.morningCollapse.collapseIsOpen);const afternoonCollapseIsOpen=useSelector(state=>state.afternoonCollapse.collapseIsOpen);const lateAfternoonCollapseIsOpen=useSelector(state=>state.lateAfternoonCollapse.collapseIsOpen);const eveningCollapseIsOpen=useSelector(state=>state.eveningCollapse.collapseIsOpen);const splashScreenComplete=useSelector(state=>state.splashScreenComplete.splashScreenComplete);const userAuthenticated=useSelector(state=>state.userAuthenticated.user_authenticated);const selectedEsthetician=useSelector(state=>state.selectedEsthetician.selectedEsthetician);const saltCaveInCart=useSelector(state=>state.saltCaveInCart.in_cart);const _useState=useState(null),_useState2=_slicedToArray(_useState,2),bookedTimes=_useState2[0],changeBookedTimes=_useState2[1];// Checkout Form States\nconst firstName=useSelector(state=>state.firstName.first_name);const lastName=useSelector(state=>state.lastName.last_name);const appointmentNotes=useSelector(state=>state.appointmentNotes.appointment_notes);// Email States\nconst email=useSelector(state=>state.email.email);const emailIsValid=useSelector(state=>state.emailIsValid.email_valid);const emailIsInvalid=useSelector(state=>state.emailIsInvalid.email_invalid);// Phone Number States\nconst phoneNumber=useSelector(state=>state.phoneNumber.phone_number);const phoneIsValid=useSelector(state=>state.phoneIsValid.phone_valid);const phoneIsInvalid=useSelector(state=>state.phoneIsInvalid.phone_invalid);const _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),individualItemHovered=_useState4[0],changeIndividualItemHovered=_useState4[1];const _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),checkedForBlockedTimes=_useState6[0],changeCheckedForBlockedTimes=_useState6[1];const _useQuery=useQuery(getAllAppointmentsQuery,{fetchPolicy:\"no-cache\"}),appointmentsData=_useQuery.data,appointmentsLoading=_useQuery.loading;const _useQuery2=useQuery(getAllPersonalEventsQuery,{fetchPolicy:\"no-cache\"}),personalEventsData=_useQuery2.data,personalEventsLoading=_useQuery2.loading;useEffect(()=>{if(location.pathname.includes(\"/availability/timepreference\")){animateScroll.scrollToTop({containerId:\"time_page\"});}},[location.pathname]);const alreadyBookedAppointments=appointmentsData?appointmentsData.all_appointments.filter(item=>item.date===reformattedDay&&item.esthetician===selectedEsthetician):null;const blockedTimeForPersonalEvent=personalEventsData?personalEventsData.all_personal_events.filter(item=>moment(item.date,\"L\").format(\"MMMM D, YYYY\")===reformattedDay&&item.staff.split(\" \")[0]+\" \"+item.staff.split(\" \")[1][0]+\".\"===selectedEsthetician&&item.blockTime):null;const alreadyBookedTimes=useCallback(()=>{const alreadyBookedTimesArr=[];let minutesArr=[\"00\",\"15\",\"30\",\"45\"];if(alreadyBookedAppointments!==null){for(let i=0;i<alreadyBookedAppointments.length;i++){if(alreadyBookedAppointments){const startMinutes=Number(alreadyBookedAppointments[i].startTime.slice(-2));const minutes=startMinutes+Math.ceil(alreadyBookedAppointments[i].duration/15)*15;const currentDurationMinutes=totalDuration-Math.floor(totalDuration/60)*60>30?Math.ceil(totalDuration/15)*15:Math.floor(totalDuration/15)*15;const currentDurationEndHour=Math.ceil(currentDurationMinutes/60);const endHour=(Number(alreadyBookedAppointments[i].startTime.split(\":\")[0])+Number((minutes/60).toString().slice(0,1))).toString();const endMinutes=(minutes/60).toString().length>1?(Number((minutes/60).toString().slice(1,minutes.length))*60).toString():\"00\";const calendarEndTime=(Number(endHour)>12?(Number(endHour)-12).toString():endHour)+\":\"+endMinutes;const intervalArr=new Array(Math.ceil(Math.ceil(alreadyBookedAppointments[i].duration/15)/minutesArr.length)).fill(minutesArr).reduce((accumulator,currentValue)=>accumulator.concat(currentValue),[]);const hourArr=[];for(let j=Number(alreadyBookedAppointments[i].startTime.split(\":\")[0])-currentDurationEndHour;j<Number(endHour)+1;j++){if(j>12){hourArr.push(j-12);}else{hourArr.push(j);}}const quadrupleHourArr=hourArr.map(e=>{return[e.toString()+\":\"+intervalArr[0],e.toString()+\":\"+intervalArr[1],e.toString()+\":\"+intervalArr[2],e.toString()+\":\"+intervalArr[3]];}).reduce((accumulator,currentValue)=>accumulator.concat(currentValue),[]);const startSliceBasedOnDuration=Number.isInteger(totalDuration/15)?// Rounds available apppointment time up if total duration is divisibile by 15\n(Number(alreadyBookedAppointments[i].startTime.split(\":\")[0])*60+Number(alreadyBookedAppointments[i].startTime.split(\":\")[1])-totalDuration)/60:// Rounds available apppointment time down if total duration is not divisibile by 15\nMath.floor((Number(alreadyBookedAppointments[i].startTime.split(\":\")[0])*60+(Number(alreadyBookedAppointments[i].startTime.split(\":\")[1])-totalDuration))/60/0.25)*0.25;const endSliceBasedOnDuration=()=>{let emptyArr=[];emptyArr.push(startSliceBasedOnDuration.toString().split(\".\")[1]);emptyArr.unshift(\".\");emptyArr=(Number(emptyArr.join(\"\"))*60).toString();return emptyArr;};alreadyBookedTimesArr.push(alreadyBookedAppointments[i].startTime,quadrupleHourArr.slice(quadrupleHourArr.indexOf(Number.isInteger(startSliceBasedOnDuration)?startSliceBasedOnDuration.toString()+\":00\":startSliceBasedOnDuration.toString().split(\".\")[0]+\":\"+endSliceBasedOnDuration()),quadrupleHourArr.length-(Number(alreadyBookedAppointments[i].endTime.split(\":\")[1])===30||Number(alreadyBookedAppointments[i].endTime.split(\":\")[1])===35||Number(alreadyBookedAppointments[i].endTime.split(\":\")[1])===40||Number(alreadyBookedAppointments[i].endTime.split(\":\")[1])===45?0:4-minutesArr.indexOf(Math.floor((Number(alreadyBookedAppointments[i].endTime.split(\":\")[1])+25)/15)*15>60?(Math.floor((Number(alreadyBookedAppointments[i].endTime.split(\":\")[1])+25)/15)*15-60).toString():(Math.floor((Number(alreadyBookedAppointments[i].endTime.split(\":\")[1])+25)/15)*15).toString()))).sort(),calendarEndTime);}else{return null;}}changeBookedTimes(alreadyBookedTimesArr.reduce((accumulator,currentValue)=>accumulator.concat(currentValue),[]));}},[alreadyBookedAppointments,totalDuration]);const blockPersonalEventTimes=useCallback(()=>{const blockedTimeArr=[];if(blockedTimeForPersonalEvent!==null){for(let i=0;i<blockedTimeForPersonalEvent.length;i++){const allDay=blockedTimeForPersonalEvent[i].allDay;let start=\"\";let end=\"\";if(!allDay){start=moment(blockedTimeForPersonalEvent[i].startTime,\"h:mm A\");end=moment(blockedTimeForPersonalEvent[i].endTime,\"h:mm A\");}else{start=moment(\"12:00 AM\",\"h:mm A\");end=moment(\"11:30 PM\",\"h:mm A\");}let current=moment(start);while(current<=end){blockedTimeArr.push(current.format(\"h:mm\"));current.add(15,\"minutes\");}if(bookedTimes){changeBookedTimes(bookedTimes.concat(blockedTimeArr));}else{changeBookedTimes(blockedTimeArr);}}}},[blockedTimeForPersonalEvent,bookedTimes]);useEffect(()=>{if(!appointmentsLoading&&!personalEventsLoading){if(!checkedForBlockedTimes){alreadyBookedTimes();blockPersonalEventTimes();changeCheckedForBlockedTimes(true);}}},[checkedForBlockedTimes,appointmentsLoading,personalEventsLoading,alreadyBookedTimes,blockPersonalEventTimes]);const redirectToHome=()=>{if(!splashScreenComplete){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else if(!props.currentScreenSize){if(props.initialScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}}else if(props.currentScreenSize>=1200){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}};const daysOfTheWeekArr=[{Mon:\"Monday\"},{Tue:\"Tuesday\"},{Wed:\"Wednesday\"},{Thu:\"Thursday\"},{Fri:\"Friday\"},{Sat:\"Saturday\"},{Sun:\"Sunday\"}];const getFullDayOfTheWeek=useCallback(()=>{if(selectedDay){const dayThreeLetters=selectedDay.toString().slice(0,3);let fullDayName=\"\";for(let i=0;i<daysOfTheWeekArr.length;i++){if(daysOfTheWeekArr[i][dayThreeLetters]){fullDayName=daysOfTheWeekArr[i][dayThreeLetters];}}return fullDayName;}},[daysOfTheWeekArr,selectedDay]);useEffect(()=>{if(!dayOfTheWeek){dispatch(ACTION_DAY_OF_THE_WEEK(getFullDayOfTheWeek()));}},[dayOfTheWeek,dispatch,getFullDayOfTheWeek]);const handleMorningCollapse=()=>{if(morningCollapseIsOpen){dispatch(ACTION_MORNING_CLOSED());}else{dispatch(ACTION_MORNING_OPEN());}if(afternoonCollapseIsOpen){dispatch(ACTION_AFTERNOON_CLOSED());}if(eveningCollapseIsOpen){dispatch(ACTION_EVENING_CLOSED());}if(lateAfternoonCollapseIsOpen){dispatch(ACTION_LATE_AFTERNOON_CLOSED());}};const handleAfternoonCollapse=()=>{if(afternoonCollapseIsOpen){dispatch(ACTION_AFTERNOON_CLOSED());}else{dispatch(ACTION_AFTERNOON_OPEN());}if(morningCollapseIsOpen){dispatch(ACTION_MORNING_CLOSED());}if(eveningCollapseIsOpen){dispatch(ACTION_EVENING_CLOSED());}if(lateAfternoonCollapseIsOpen){dispatch(ACTION_LATE_AFTERNOON_CLOSED());}};const handleLateAfternoonCollapse=()=>{if(lateAfternoonCollapseIsOpen){dispatch(ACTION_LATE_AFTERNOON_CLOSED());}else{dispatch(ACTION_LATE_AFTERNOON_OPEN());}if(morningCollapseIsOpen){dispatch(ACTION_MORNING_CLOSED());}if(afternoonCollapseIsOpen){dispatch(ACTION_AFTERNOON_CLOSED());}if(eveningCollapseIsOpen){dispatch(ACTION_EVENING_CLOSED());}};const handleEveningCollapse=()=>{if(eveningCollapseIsOpen){dispatch(ACTION_EVENING_CLOSED());}else{dispatch(ACTION_EVENING_OPEN());}if(morningCollapseIsOpen){dispatch(ACTION_MORNING_CLOSED());}if(afternoonCollapseIsOpen){dispatch(ACTION_AFTERNOON_CLOSED());}if(lateAfternoonCollapseIsOpen){dispatch(ACTION_LATE_AFTERNOON_CLOSED());}};const handleContinueCheckoutButtonClick=()=>{dispatch(ACTION_CONTINUE_BUTTON_ACTIVE());dispatch(ACTION_DAY_OF_THE_WEEK(dayOfTheWeek));};const fifteenMinuteIntervals=[\"00\",\"15\",\"30\",\"45\"];const morningTimesArr=[];const createMorningTimeInstances=()=>{let hours=[];let minutes=fifteenMinuteIntervals.concat(fifteenMinuteIntervals);for(let i=10;i<12;i++){hours.push(i);}const multipleHours=hours.map(e=>[e,e,e,e]).reduce((accumulator,currentValue)=>accumulator.concat(currentValue),[]);for(let i=0;i<multipleHours.length;i++){morningTimesArr.push(multipleHours[i].toString()+\":\"+minutes[i].toString());}};createMorningTimeInstances();const afternoonTimesArr=[];const createAfternoonTimeInstances=()=>{let hours=[];let minutes=new Array(20).fill(fifteenMinuteIntervals).reduce((accumulator,currentValue)=>accumulator.concat(currentValue),[]);for(let i=12;i<17;i++){hours.push(i);}const multipleHours=hours.map(e=>e>12?[e-12,e-12,e-12,e-12]:[e,e,e,e]).reduce((accumulator,currentValue)=>accumulator.concat(currentValue),[]);for(let i=0;i<multipleHours.length;i++){afternoonTimesArr.push(multipleHours[i].toString()+\":\"+minutes[i].toString());}};createAfternoonTimeInstances();let lateAfternoonTimesArr=afternoonTimesArr.splice(12,10);const eveningTimesArr=[];const createEveningTimeInstances=()=>{let hours=[];let minutes=new Array(dayOfTheWeek===\"Sunday\"?5:12).fill(fifteenMinuteIntervals).reduce((accumulator,currentValue)=>accumulator.concat(currentValue),[]);for(let i=17;i<(dayOfTheWeek===\"Sunday\"?19:20);i++){hours.push(i);}const multipleHours=hours.map(e=>[e-12,e-12,e-12,e-12]).reduce((accumulator,currentValue)=>accumulator.concat(currentValue),[]);for(let i=0;i<multipleHours.length;i++){eveningTimesArr.push(multipleHours[i].toString()+\":\"+minutes[i].toString());}};createEveningTimeInstances();const handleTimeClick=e=>{let renderedTime=\"\";// Required for button border click to trigger selected time on mobile\nif(e.target.lastChild.innerText){renderedTime=e.target.lastChild.innerText;}else{renderedTime=e.target.innerText;}dispatch(ACTION_SELECTED_TIME(renderedTime));if(selectedTime===renderedTime){dispatch(ACTION_SELECTED_TIME_RESET());dispatch(ACTION_CONTINUE_BUTTON_RESET());if(firstName){dispatch(ACTION_FIRST_NAME_RESET());}if(lastName){dispatch(ACTION_LAST_NAME_RESET());}if(email){dispatch(ACTION_EMAIL_RESET());}if(emailIsInvalid){dispatch(ACTION_EMAIL_NOT_INVALID());}if(emailIsValid){dispatch(ACTION_EMAIL_NOT_VALID());}if(phoneNumber){dispatch(ACTION_PHONE_NUMBER_RESET());}if(phoneIsInvalid){dispatch(ACTION_PHONE_NOT_INVALID());}if(phoneIsValid){dispatch(ACTION_PHONE_NOT_VALID());}if(appointmentNotes){dispatch(ACTION_APPOINTMENT_NOTES_RESET());}}};useEffect(()=>{const treatmentDurationArr=treatmentsArr.map(item=>item.duration);const addOnsDurationArr=addOnsArr.map(item=>item.duration);const totalDurationArr=treatmentDurationArr.concat(addOnsDurationArr);let totalDurationValue;totalDurationArr[0]===undefined?totalDurationValue=null:totalDurationValue=totalDurationArr.reduce((a,b)=>a+b);if(totalDuration!==totalDurationValue){dispatch(ACTION_TOTAL_DURATION(totalDurationValue));}},[addOnsArr,dispatch,treatmentsArr,totalDuration]);useEffect(()=>{if(selectedTime){let endTotalTime=\"\";let endMinutes=Number(selectedTime.slice(selectedTime.length-2,selectedTime.length))+totalDuration;let endHours=Number(selectedTime.slice(0,selectedTime.indexOf(\":\")));if(endMinutes>=240){endMinutes-=240;endHours+=4;}else{if(endMinutes>=180){endMinutes-=180;endHours+=3;}else{if(endMinutes>=120){endMinutes-=120;endHours+=2;}else{if(endMinutes>=60){endMinutes-=60;endHours+=1;}}}}if(endHours>12){endHours-=12;}endMinutes=endMinutes.toString().split(\"\");if(endMinutes.toString().length<2){endMinutes.splice(0,0,\"0\");}endTotalTime=endHours.toString()+\":\"+endMinutes.join(\"\");dispatch(ACTION_APPOINTMENT_END_TIME(endTotalTime));}},[selectedTime,totalDuration,dispatch]);return/*#__PURE__*/React.createElement(\"div\",{className:\"select_time_container\",id:\"time_page\"},redirectToHome(),/*#__PURE__*/React.createElement(\"div\",{className:\"select_time_container_header\"},/*#__PURE__*/React.createElement(Link,{to:()=>{if(!props.currentScreenSize){if(props.initialScreenSize>=1200){return\"/\";}else{return\"/availability\";}}else{if(props.currentScreenSize>=1200){return\"/\";}else{return\"/availability\";}}}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"select_time_back_arrow\",icon:faChevronLeft,onClick:()=>{dispatch(ACTION_AVAILABILITY_PAGE_OPENED());dispatch(ACTION_REFORMATTED_DAY_CLONE_RESET);}})),/*#__PURE__*/React.createElement(\"h1\",null,\"AVAILABILITY\"),/*#__PURE__*/React.createElement(Link,{to:()=>{if(!props.currentScreenSize){if(props.initialScreenSize>=1200){return\"/\";}else{if(userAuthenticated){return\"/paymentinfo\";}else{return\"/checkout\";}}}else{if(props.currentScreenSize>=1200){return\"/\";}else{if(userAuthenticated){return\"/paymentinfo\";}else{return\"/checkout\";}}}},onClick:()=>{if(userAuthenticated){dispatch(ACTION_PAYMENT_INFO_PAGE_OPENED());}else{dispatch(ACTION_GUEST_CHECKOUT_FORM_PAGE_OPENED());}}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"select_time_forward_arrow\",style:{display:continueToCheckoutButton?\"block\":\"none\"},icon:faChevronRight}))),/*#__PURE__*/React.createElement(\"div\",{className:\"select_a_time_header\"},/*#__PURE__*/React.createElement(\"h2\",null,\"SELECT A TIME\",saltCaveInCart?null:selectedEsthetician?\" WITH \"+selectedEsthetician.split(\" \")[0].toUpperCase()+\" \"+selectedEsthetician.split(\" \")[1][0].toUpperCase()+\".\":null)),/*#__PURE__*/React.createElement(\"p\",{className:\"time_statement\"},\"Choose a time for your appointment on \",getFullDayOfTheWeek(),\",\",\" \",reformattedDay,\".\"),/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_selectors_wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_card_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_card_top_wrapping\"},/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_heading\"},/*#__PURE__*/React.createElement(\"p\",null,\"Morning\")),/*#__PURE__*/React.createElement(\"p\",{className:\"time_of_day_card_show_more\",onClick:handleMorningCollapse},\"Show \",morningCollapseIsOpen?\"Less\":\"Times\")),/*#__PURE__*/React.createElement(Collapse,{isOpen:morningCollapseIsOpen},/*#__PURE__*/React.createElement(\"div\",{className:\"inner_times_wrapper\"},morningTimesArr.map((item,i)=>/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"individual_time_wrapper\",onClick:handleTimeClick,onMouseOver:()=>{if(!props.currentScreenSize){if(props.initialScreenSize>=1200){changeIndividualItemHovered({arr:\"morningTimesArr\",index:i});}}else{if(props.currentScreenSize>=1200){changeIndividualItemHovered({arr:\"morningTimesArr\",index:i});}}},onMouseOut:()=>{if(individualItemHovered!==\"\"){changeIndividualItemHovered(\"\");}},style:{background:bookedTimes?item===selectedTime?\"rgb(44, 44, 52)\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"#f0f0f0\":individualItemHovered.arr===\"morningTimesArr\"&&individualItemHovered.index===i?\"rgba(0, 129, 177, 0.4)\":\"rgb(255, 255, 255)\":\"rgb(255, 255, 255)\",color:bookedTimes?item===selectedTime?\"rgb(255, 255, 255)\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"rgb(201, 201, 201)\":\"rgb(0, 0, 0)\":\"rgb(0, 0, 0)\",border:bookedTimes?item===selectedTime?\"2px solid transparent\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"rgb(201, 201, 201)\":individualItemHovered.arr===\"morningTimesArr\"&&individualItemHovered.index===i?\"2px solid rgba(0, 129, 177, 0.4)\":\"2px solid rgb(0, 0, 0)\":\"2px solid rgb(0, 0, 0)\",pointerEvents:bookedTimes?bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"none\":\"auto\":\"auto\"}},/*#__PURE__*/React.createElement(\"p\",null,item)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_card_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_card_top_wrapping\"},/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_heading\"},/*#__PURE__*/React.createElement(\"p\",null,\"Afternoon\")),/*#__PURE__*/React.createElement(\"p\",{className:\"time_of_day_card_show_more\",onClick:handleAfternoonCollapse},\"Show \",afternoonCollapseIsOpen?\"Less\":\"Times\")),/*#__PURE__*/React.createElement(Collapse,{isOpen:afternoonCollapseIsOpen},/*#__PURE__*/React.createElement(\"div\",{className:\"inner_times_wrapper\"},afternoonTimesArr.map((item,i)=>/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"individual_time_wrapper\",onClick:handleTimeClick,onMouseOver:()=>{if(!props.currentScreenSize){if(props.initialScreenSize>=1200){changeIndividualItemHovered({arr:\"afternoonTimesArr\",index:i});}}else{if(props.currentScreenSize>=1200){changeIndividualItemHovered({arr:\"afternoonTimesArr\",index:i});}}},onMouseOut:()=>{if(individualItemHovered!==\"\"){changeIndividualItemHovered(\"\");}},style:{background:bookedTimes?item===selectedTime?\"rgb(44, 44, 52)\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"#f0f0f0\":individualItemHovered.arr===\"afternoonTimesArr\"&&individualItemHovered.index===i?\"rgba(0, 129, 177, 0.4)\":\"rgb(255, 255, 255)\":\"rgb(255, 255, 255)\",color:bookedTimes?item===selectedTime?\"rgb(255, 255, 255)\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"rgb(201, 201, 201)\":\"rgb(0, 0, 0)\":\"rgb(0, 0, 0)\",border:bookedTimes?item===selectedTime?\"2px solid transparent\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"rgb(201, 201, 201)\":individualItemHovered.arr===\"afternoonTimesArr\"&&individualItemHovered.index===i?\"2px solid rgba(0, 129, 177, 0.4)\":\"2px solid rgb(0, 0, 0)\":\"2px solid rgb(0, 0, 0)\",pointerEvents:bookedTimes?bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"none\":\"auto\":\"auto\"}},/*#__PURE__*/React.createElement(\"p\",null,item)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_card_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_card_top_wrapping\"},/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_heading\"},/*#__PURE__*/React.createElement(\"p\",null,\"Late Afternoon\")),/*#__PURE__*/React.createElement(\"p\",{className:\"time_of_day_card_show_more\",onClick:handleLateAfternoonCollapse},\"Show \",lateAfternoonCollapseIsOpen?\"Less\":\"Times\")),/*#__PURE__*/React.createElement(Collapse,{isOpen:lateAfternoonCollapseIsOpen},/*#__PURE__*/React.createElement(\"div\",{className:\"inner_times_wrapper\"},lateAfternoonTimesArr.map((item,i)=>/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"individual_time_wrapper\",onClick:handleTimeClick,onMouseOver:()=>{if(!props.currentScreenSize){if(props.initialScreenSize>=1200){changeIndividualItemHovered({arr:\"lateAfternoonTimesArr\",index:i});}}else{if(props.currentScreenSize>=1200){changeIndividualItemHovered({arr:\"lateAfternoonTimesArr\",index:i});}}},onMouseOut:()=>{if(individualItemHovered!==\"\"){changeIndividualItemHovered(\"\");}},style:{opacity:dayOfTheWeek===\"Friday\"?parseInt(item[0],10)>3?0:1:1,pointerEvents:bookedTimes?dayOfTheWeek===\"Friday\"?parseInt(item[0],10)>3?\"none\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"none\":\"auto\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"none\":\"auto\":\"auto\",background:bookedTimes?item===selectedTime?\"rgb(44, 44, 52)\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"#f0f0f0\":individualItemHovered.arr===\"lateAfternoonTimesArr\"&&individualItemHovered.index===i?\"rgba(0, 129, 177, 0.4)\":\"rgb(255, 255, 255)\":\"rgb(255, 255, 255)\",color:bookedTimes?item===selectedTime?\"rgb(255, 255, 255)\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"rgb(201, 201, 201)\":\"rgb(0, 0, 0)\":\"rgb(0, 0, 0)\",border:bookedTimes?item===selectedTime?\"2px solid transparent\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"rgb(201, 201, 201)\":individualItemHovered.arr===\"lateAfternoonTimesArr\"&&individualItemHovered.index===i?\"2px solid rgba(0, 129, 177, 0.4)\":\"2px solid rgb(0, 0, 0)\":\"2px solid rgb(0, 0, 0)\"}},/*#__PURE__*/React.createElement(\"p\",null,item)))))),dayOfTheWeek===\"Friday\"?null:/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_card_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_card_top_wrapping\"},/*#__PURE__*/React.createElement(\"div\",{className:\"time_of_day_heading\"},/*#__PURE__*/React.createElement(\"p\",null,\"Evening\")),/*#__PURE__*/React.createElement(\"p\",{className:\"time_of_day_card_show_more\",onClick:handleEveningCollapse},\"Show \",eveningCollapseIsOpen?\"Less\":\"Times\")),/*#__PURE__*/React.createElement(Collapse,{isOpen:eveningCollapseIsOpen},/*#__PURE__*/React.createElement(\"div\",{className:\"inner_times_wrapper\"},eveningTimesArr.map((item,i)=>/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"individual_time_wrapper\",onClick:handleTimeClick,onMouseOver:()=>{if(!props.currentScreenSize){if(props.initialScreenSize>=1200){changeIndividualItemHovered({arr:\"eveningTimesArr\",index:i});}}else{if(props.currentScreenSize>=1200){changeIndividualItemHovered({arr:\"eveningTimesArr\",index:i});}}},onMouseOut:()=>{if(individualItemHovered!==\"\"){changeIndividualItemHovered(\"\");}},style:{opacity:dayOfTheWeek===\"Sunday\"?parseInt(item[0],10)>5?0:1:1,pointerEvents:bookedTimes?dayOfTheWeek===\"Sunday\"?parseInt(item[0],10)>5?\"none\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"none\":\"auto\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"none\":\"auto\":\"auto\",background:bookedTimes?item===selectedTime?\"rgb(44, 44, 52)\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"#f0f0f0\":individualItemHovered.arr===\"eveningTimesArr\"&&individualItemHovered.index===i?\"rgba(0, 129, 177, 0.4)\":\"rgb(255, 255, 255)\":\"rgb(255, 255, 255)\",color:bookedTimes?item===selectedTime?\"rgb(255, 255, 255)\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"rgb(201, 201, 201)\":\"rgb(0, 0, 0)\":\"rgb(0, 0, 0)\",border:bookedTimes?item===selectedTime?\"2px solid transparent\":bookedTimes.includes(item)||moment(dayOfTheWeek+\", \"+reformattedDay+\" \"+item+\" \"+(Number(item.split(\":\")[0])>=12||Number(item.split(\":\")[0])<9?\"PM\":\"AM\"),\"LLLL\").utc().subtract(12,\"hours\").valueOf()<=moment().utc().valueOf()?\"rgb(201, 201, 201)\":individualItemHovered.arr===\"eveningTimesArr\"&&individualItemHovered.index===i?\"2px solid rgba(0, 129, 177, 0.4)\":\"2px solid rgb(0, 0, 0)\":\"2px solid rgb(0, 0, 0)\"}},/*#__PURE__*/React.createElement(\"p\",null,item)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"time_preference_bottom_buttons_container\",style:{paddingTop:\"5vh\",marginTop:dayOfTheWeek===\"Sunday\"?eveningCollapseIsOpen?\"-10vh\":\"0vh\":dayOfTheWeek===\"Friday\"?lateAfternoonCollapseIsOpen?\"-10vh\":\"0vh\":eveningCollapseIsOpen?\"-4vh\":\"0vh\",transition:\"margin-top 0.4s ease, padding-top 0.4s ease\"}},/*#__PURE__*/React.createElement(Link,{to:()=>{if(!props.currentScreenSize){if(props.initialScreenSize>=1200){return\"/\";}else{if(userAuthenticated){return\"/paymentinfo\";}else{return\"/checkout\";}}}else{if(props.currentScreenSize>=1200){return\"/\";}else{if(userAuthenticated){return\"/paymentinfo\";}else{return\"/checkout\";}}}},style:{display:\"block\",pointerEvents:selectedTime!==\"\"?\"auto\":\"none\"},onClick:handleContinueCheckoutButtonClick},/*#__PURE__*/React.createElement(\"div\",{className:\"time_preference_continue_button\",style:{background:selectedTime?\"rgb(44, 44, 52)\":\"#f0f0f0\",color:selectedTime?\"rgb(255, 255, 255)\":\"rgb(201, 201, 201)\",transition:\"background 0.5s ease, color 0.5s ease\"},onClick:()=>{if(userAuthenticated){dispatch(ACTION_PAYMENT_INFO_PAGE_OPENED());}else{dispatch(ACTION_GUEST_CHECKOUT_FORM_PAGE_OPENED());}}},/*#__PURE__*/React.createElement(\"p\",null,\"Continue Checkout\"))),/*#__PURE__*/React.createElement(Link,{to:()=>{if(!props.currentScreenSize){if(props.initialScreenSize>=1200){return\"/\";}else{return\"/availability\";}}else{if(props.currentScreenSize>=1200){return\"/\";}else{return\"/availability\";}}}},/*#__PURE__*/React.createElement(\"div\",{className:\"change_date_button\",onClick:()=>dispatch(ACTION_AVAILABILITY_PAGE_OPENED())},/*#__PURE__*/React.createElement(\"p\",null,\"Change Date\"))))));};export default TimePreference;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/HighEnd/Client/src/components/availability/Time/TimePreference.js"],"names":["React","useCallback","useState","useEffect","Link","Redirect","useLocation","useDispatch","useSelector","moment","Collapse","FontAwesomeIcon","faChevronLeft","faChevronRight","useQuery","getAllAppointmentsQuery","getAllPersonalEventsQuery","animateScroll","ACTION_DAY_OF_THE_WEEK","ACTION_REFORMATTED_DAY_CLONE_RESET","ACTION_SELECTED_TIME","ACTION_SELECTED_TIME_RESET","ACTION_AFTERNOON_OPEN","ACTION_AFTERNOON_CLOSED","ACTION_LATE_AFTERNOON_OPEN","ACTION_LATE_AFTERNOON_CLOSED","ACTION_MORNING_OPEN","ACTION_MORNING_CLOSED","ACTION_EVENING_OPEN","ACTION_EVENING_CLOSED","ACTION_CONTINUE_BUTTON_ACTIVE","ACTION_CONTINUE_BUTTON_RESET","ACTION_FIRST_NAME_RESET","ACTION_LAST_NAME_RESET","ACTION_EMAIL_RESET","ACTION_EMAIL_NOT_INVALID","ACTION_EMAIL_NOT_VALID","ACTION_PHONE_NUMBER_RESET","ACTION_PHONE_NOT_INVALID","ACTION_PHONE_NOT_VALID","ACTION_APPOINTMENT_NOTES_RESET","ACTION_APPOINTMENT_END_TIME","ACTION_TOTAL_DURATION","ACTION_AVAILABILITY_PAGE_OPENED","ACTION_PAYMENT_INFO_PAGE_OPENED","ACTION_GUEST_CHECKOUT_FORM_PAGE_OPENED","TimePreference","props","dispatch","location","addOnsArr","state","add_ons_arr","treatmentsArr","treatments_arr","reformattedDay","selectedDay","dayOfTheWeek","selectedTime","totalDuration","continueToCheckoutButton","continueButtonActive","morningCollapseIsOpen","morningCollapse","collapseIsOpen","afternoonCollapseIsOpen","afternoonCollapse","lateAfternoonCollapseIsOpen","lateAfternoonCollapse","eveningCollapseIsOpen","eveningCollapse","splashScreenComplete","userAuthenticated","user_authenticated","selectedEsthetician","saltCaveInCart","in_cart","bookedTimes","changeBookedTimes","firstName","first_name","lastName","last_name","appointmentNotes","appointment_notes","email","emailIsValid","email_valid","emailIsInvalid","email_invalid","phoneNumber","phone_number","phoneIsValid","phone_valid","phoneIsInvalid","phone_invalid","individualItemHovered","changeIndividualItemHovered","checkedForBlockedTimes","changeCheckedForBlockedTimes","fetchPolicy","appointmentsData","data","appointmentsLoading","loading","personalEventsData","personalEventsLoading","pathname","includes","scrollToTop","containerId","alreadyBookedAppointments","all_appointments","filter","item","date","esthetician","blockedTimeForPersonalEvent","all_personal_events","format","staff","split","blockTime","alreadyBookedTimes","alreadyBookedTimesArr","minutesArr","i","length","startMinutes","Number","startTime","slice","minutes","Math","ceil","duration","currentDurationMinutes","floor","currentDurationEndHour","endHour","toString","endMinutes","calendarEndTime","intervalArr","Array","fill","reduce","accumulator","currentValue","concat","hourArr","j","push","quadrupleHourArr","map","e","startSliceBasedOnDuration","isInteger","endSliceBasedOnDuration","emptyArr","unshift","join","indexOf","endTime","sort","blockPersonalEventTimes","blockedTimeArr","allDay","start","end","current","add","redirectToHome","currentScreenSize","initialScreenSize","daysOfTheWeekArr","Mon","Tue","Wed","Thu","Fri","Sat","Sun","getFullDayOfTheWeek","dayThreeLetters","fullDayName","handleMorningCollapse","handleAfternoonCollapse","handleLateAfternoonCollapse","handleEveningCollapse","handleContinueCheckoutButtonClick","fifteenMinuteIntervals","morningTimesArr","createMorningTimeInstances","hours","multipleHours","afternoonTimesArr","createAfternoonTimeInstances","lateAfternoonTimesArr","splice","eveningTimesArr","createEveningTimeInstances","handleTimeClick","renderedTime","target","lastChild","innerText","treatmentDurationArr","addOnsDurationArr","totalDurationArr","totalDurationValue","undefined","a","b","endTotalTime","endHours","display","toUpperCase","arr","index","background","utc","subtract","valueOf","color","border","pointerEvents","opacity","parseInt","paddingTop","marginTop","transition"],"mappings":"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","sourcesContent":["import React, { useCallback, useState, useEffect } from \"react\";\r\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { Collapse } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faChevronLeft,\r\n  faChevronRight,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport getAllAppointmentsQuery from \"../../../graphql/queries/getAllAppointmentsQuery\";\r\nimport getAllPersonalEventsQuery from \"../../../graphql/queries/getAllPersonalEventsQuery\";\r\nimport { animateScroll } from \"react-scroll\";\r\nimport ACTION_DAY_OF_THE_WEEK from \"../../../actions/SelectedDay/DayOfTheWeek/ACTION_DAY_OF_THE_WEEK\";\r\nimport ACTION_REFORMATTED_DAY_CLONE_RESET from \"../../../actions/SelectedDay/ReformattedDayClone/ACTION_REFORMATTED_DAY_CLONE_RESET\";\r\nimport ACTION_SELECTED_TIME from \"../../../actions/SelectedTime/ACTION_SELECTED_TIME\";\r\nimport ACTION_SELECTED_TIME_RESET from \"../../../actions/SelectedTime/ACTION_SELECTED_TIME_RESET\";\r\nimport ACTION_AFTERNOON_OPEN from \"../../../actions/SelectedTime/CollapseIsOpen/Afternoon/ACTION_AFTERNOON_OPEN\";\r\nimport ACTION_AFTERNOON_CLOSED from \"../../../actions/SelectedTime/CollapseIsOpen/Afternoon/ACTION_AFTERNOON_CLOSED\";\r\nimport ACTION_LATE_AFTERNOON_OPEN from \"../../../actions/SelectedTime/CollapseIsOpen/LateAfternoon/ACTION_LATE_AFTERNOON_OPEN\";\r\nimport ACTION_LATE_AFTERNOON_CLOSED from \"../../../actions/SelectedTime/CollapseIsOpen/LateAfternoon/ACTION_LATE_AFTERNOON_CLOSED\";\r\nimport ACTION_MORNING_OPEN from \"../../../actions/SelectedTime/CollapseIsOpen/Morning/ACTION_MORNING_OPEN\";\r\nimport ACTION_MORNING_CLOSED from \"../../../actions/SelectedTime/CollapseIsOpen/Morning/ACTION_MORNING_CLOSED\";\r\nimport ACTION_EVENING_OPEN from \"../../../actions/SelectedTime/CollapseIsOpen/Evening/ACTION_EVENING_OPEN\";\r\nimport ACTION_EVENING_CLOSED from \"../../../actions/SelectedTime/CollapseIsOpen/Evening/ACTION_EVENING_CLOSED\";\r\nimport ACTION_CONTINUE_BUTTON_ACTIVE from \"../../../actions/ContinueToCheckoutButtonActive/ACTION_CONTINUE_BUTTON_ACTIVE\";\r\nimport ACTION_CONTINUE_BUTTON_RESET from \"../../../actions/ContinueToCheckoutButtonActive/ACTION_CONTINUE_BUTTON_RESET\";\r\nimport ACTION_FIRST_NAME_RESET from \"../../../actions/GuestCheckoutForm/FirstName/ACTION_FIRST_NAME_RESET\";\r\nimport ACTION_LAST_NAME_RESET from \"../../../actions/GuestCheckoutForm/LastName/ACTION_LAST_NAME_RESET\";\r\nimport ACTION_EMAIL_RESET from \"../../../actions/GuestCheckoutForm/Email/ACTION_EMAIL_RESET\";\r\nimport ACTION_EMAIL_NOT_INVALID from \"../../../actions/EmailValidation/Invalid/ACTION_EMAIL_NOT_INVALID\";\r\nimport ACTION_EMAIL_NOT_VALID from \"../../../actions/EmailValidation/Valid/ACTION_EMAIL_NOT_VALID\";\r\nimport ACTION_PHONE_NUMBER_RESET from \"../../../actions/GuestCheckoutForm/PhoneNumber/ACTION_PHONE_NUMBER_RESET\";\r\nimport ACTION_PHONE_NOT_INVALID from \"../../../actions/PhoneNumberValidation/Invalid/ACTION_PHONE_NOT_INVALID\";\r\nimport ACTION_PHONE_NOT_VALID from \"../../../actions/PhoneNumberValidation/Valid/ACTION_PHONE_NOT_VALID\";\r\nimport ACTION_APPOINTMENT_NOTES_RESET from \"../../../actions/GuestCheckoutForm/AppointmentNotes/ACTION_APPOINTMENT_NOTES_RESET\";\r\nimport ACTION_APPOINTMENT_END_TIME from \"../../../actions/AppointmentEndTime/ACTION_APPOINTMENT_END_TIME\";\r\nimport ACTION_TOTAL_DURATION from \"../../../actions/TotalDuration/ACTION_TOTAL_DURATION\";\r\nimport ACTION_AVAILABILITY_PAGE_OPENED from \"../../../actions/InCart/CartPageOpened/ACTION_AVAILABILITY_PAGE_OPENED\";\r\nimport ACTION_PAYMENT_INFO_PAGE_OPENED from \"../../../actions/InCart/CartPageOpened/ACTION_PAYMENT_INFO_PAGE_OPENED\";\r\nimport ACTION_GUEST_CHECKOUT_FORM_PAGE_OPENED from \"../../../actions/InCart/CartPageOpened/ACTION_GUEST_CHECKOUT_FORM_PAGE_OPENED\";\r\nimport \"./TimePreference.css\";\r\n// Minified Bootstrap CSS file (for Collapse feature)\r\nimport \"../../../bootstrap.min.css\";\r\n\r\nconst TimePreference = (props) => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n\r\n  const addOnsArr = useSelector((state) => state.addOnsArr.add_ons_arr);\r\n  const treatmentsArr = useSelector(\r\n    (state) => state.treatmentsArr.treatments_arr\r\n  );\r\n  const reformattedDay = useSelector(\r\n    (state) => state.reformattedDay.reformattedDay\r\n  );\r\n  const selectedDay = useSelector((state) => state.selectedDay.selectedDay);\r\n  const dayOfTheWeek = useSelector((state) => state.dayOfTheWeek.dayOfTheWeek);\r\n  const selectedTime = useSelector((state) => state.selectedTime.selectedTime);\r\n  const totalDuration = useSelector(\r\n    (state) => state.totalDuration.totalDuration\r\n  );\r\n  const continueToCheckoutButton = useSelector(\r\n    (state) => state.continueToCheckoutButton.continueButtonActive\r\n  );\r\n  const morningCollapseIsOpen = useSelector(\r\n    (state) => state.morningCollapse.collapseIsOpen\r\n  );\r\n  const afternoonCollapseIsOpen = useSelector(\r\n    (state) => state.afternoonCollapse.collapseIsOpen\r\n  );\r\n  const lateAfternoonCollapseIsOpen = useSelector(\r\n    (state) => state.lateAfternoonCollapse.collapseIsOpen\r\n  );\r\n  const eveningCollapseIsOpen = useSelector(\r\n    (state) => state.eveningCollapse.collapseIsOpen\r\n  );\r\n  const splashScreenComplete = useSelector(\r\n    (state) => state.splashScreenComplete.splashScreenComplete\r\n  );\r\n  const userAuthenticated = useSelector(\r\n    (state) => state.userAuthenticated.user_authenticated\r\n  );\r\n  const selectedEsthetician = useSelector(\r\n    (state) => state.selectedEsthetician.selectedEsthetician\r\n  );\r\n  const saltCaveInCart = useSelector((state) => state.saltCaveInCart.in_cart);\r\n\r\n  const [bookedTimes, changeBookedTimes] = useState(null);\r\n\r\n  // Checkout Form States\r\n  const firstName = useSelector((state) => state.firstName.first_name);\r\n  const lastName = useSelector((state) => state.lastName.last_name);\r\n  const appointmentNotes = useSelector(\r\n    (state) => state.appointmentNotes.appointment_notes\r\n  );\r\n\r\n  // Email States\r\n  const email = useSelector((state) => state.email.email);\r\n  const emailIsValid = useSelector((state) => state.emailIsValid.email_valid);\r\n  const emailIsInvalid = useSelector(\r\n    (state) => state.emailIsInvalid.email_invalid\r\n  );\r\n\r\n  // Phone Number States\r\n  const phoneNumber = useSelector((state) => state.phoneNumber.phone_number);\r\n  const phoneIsValid = useSelector((state) => state.phoneIsValid.phone_valid);\r\n  const phoneIsInvalid = useSelector(\r\n    (state) => state.phoneIsInvalid.phone_invalid\r\n  );\r\n\r\n  const [individualItemHovered, changeIndividualItemHovered] = useState(\"\");\r\n  const [checkedForBlockedTimes, changeCheckedForBlockedTimes] = useState(\r\n    false\r\n  );\r\n\r\n  const { data: appointmentsData, loading: appointmentsLoading } = useQuery(\r\n    getAllAppointmentsQuery,\r\n    {\r\n      fetchPolicy: \"no-cache\",\r\n    }\r\n  );\r\n\r\n  const { data: personalEventsData, loading: personalEventsLoading } = useQuery(\r\n    getAllPersonalEventsQuery,\r\n    {\r\n      fetchPolicy: \"no-cache\",\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.includes(\"/availability/timepreference\")) {\r\n      animateScroll.scrollToTop({ containerId: \"time_page\" });\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  const alreadyBookedAppointments = appointmentsData\r\n    ? appointmentsData.all_appointments.filter(\r\n        (item) =>\r\n          item.date === reformattedDay &&\r\n          item.esthetician === selectedEsthetician\r\n      )\r\n    : null;\r\n\r\n  const blockedTimeForPersonalEvent = personalEventsData\r\n    ? personalEventsData.all_personal_events.filter(\r\n        (item) =>\r\n          moment(item.date, \"L\").format(\"MMMM D, YYYY\") === reformattedDay &&\r\n          item.staff.split(\" \")[0] + \" \" + item.staff.split(\" \")[1][0] + \".\" ===\r\n            selectedEsthetician &&\r\n          item.blockTime\r\n      )\r\n    : null;\r\n\r\n  const alreadyBookedTimes = useCallback(() => {\r\n    const alreadyBookedTimesArr = [];\r\n    let minutesArr = [\"00\", \"15\", \"30\", \"45\"];\r\n\r\n    if (alreadyBookedAppointments !== null) {\r\n      for (let i = 0; i < alreadyBookedAppointments.length; i++) {\r\n        if (alreadyBookedAppointments) {\r\n          const startMinutes = Number(\r\n            alreadyBookedAppointments[i].startTime.slice(-2)\r\n          );\r\n          const minutes =\r\n            startMinutes +\r\n            Math.ceil(alreadyBookedAppointments[i].duration / 15) * 15;\r\n\r\n          const currentDurationMinutes =\r\n            totalDuration - Math.floor(totalDuration / 60) * 60 > 30\r\n              ? Math.ceil(totalDuration / 15) * 15\r\n              : Math.floor(totalDuration / 15) * 15;\r\n\r\n          const currentDurationEndHour = Math.ceil(currentDurationMinutes / 60);\r\n\r\n          const endHour = (\r\n            Number(alreadyBookedAppointments[i].startTime.split(\":\")[0]) +\r\n            Number((minutes / 60).toString().slice(0, 1))\r\n          ).toString();\r\n\r\n          const endMinutes =\r\n            (minutes / 60).toString().length > 1\r\n              ? (\r\n                  Number((minutes / 60).toString().slice(1, minutes.length)) *\r\n                  60\r\n                ).toString()\r\n              : \"00\";\r\n\r\n          const calendarEndTime =\r\n            (Number(endHour) > 12\r\n              ? (Number(endHour) - 12).toString()\r\n              : endHour) +\r\n            \":\" +\r\n            endMinutes;\r\n\r\n          const intervalArr = new Array(\r\n            Math.ceil(\r\n              Math.ceil(alreadyBookedAppointments[i].duration / 15) /\r\n                minutesArr.length\r\n            )\r\n          )\r\n            .fill(minutesArr)\r\n            .reduce(\r\n              (accumulator, currentValue) => accumulator.concat(currentValue),\r\n              []\r\n            );\r\n\r\n          const hourArr = [];\r\n\r\n          for (\r\n            let j =\r\n              Number(alreadyBookedAppointments[i].startTime.split(\":\")[0]) -\r\n              currentDurationEndHour;\r\n            j < Number(endHour) + 1;\r\n            j++\r\n          ) {\r\n            if (j > 12) {\r\n              hourArr.push(j - 12);\r\n            } else {\r\n              hourArr.push(j);\r\n            }\r\n          }\r\n\r\n          const quadrupleHourArr = hourArr\r\n            .map((e) => {\r\n              return [\r\n                e.toString() + \":\" + intervalArr[0],\r\n                e.toString() + \":\" + intervalArr[1],\r\n                e.toString() + \":\" + intervalArr[2],\r\n                e.toString() + \":\" + intervalArr[3],\r\n              ];\r\n            })\r\n            .reduce(\r\n              (accumulator, currentValue) => accumulator.concat(currentValue),\r\n              []\r\n            );\r\n\r\n          const startSliceBasedOnDuration = Number.isInteger(totalDuration / 15)\r\n            ? // Rounds available apppointment time up if total duration is divisibile by 15\r\n              (Number(alreadyBookedAppointments[i].startTime.split(\":\")[0]) *\r\n                60 +\r\n                Number(alreadyBookedAppointments[i].startTime.split(\":\")[1]) -\r\n                totalDuration) /\r\n              60\r\n            : // Rounds available apppointment time down if total duration is not divisibile by 15\r\n              Math.floor(\r\n                (Number(alreadyBookedAppointments[i].startTime.split(\":\")[0]) *\r\n                  60 +\r\n                  (Number(\r\n                    alreadyBookedAppointments[i].startTime.split(\":\")[1]\r\n                  ) -\r\n                    totalDuration)) /\r\n                  60 /\r\n                  0.25\r\n              ) * 0.25;\r\n\r\n          const endSliceBasedOnDuration = () => {\r\n            let emptyArr = [];\r\n\r\n            emptyArr.push(startSliceBasedOnDuration.toString().split(\".\")[1]);\r\n            emptyArr.unshift(\".\");\r\n            emptyArr = (Number(emptyArr.join(\"\")) * 60).toString();\r\n            return emptyArr;\r\n          };\r\n\r\n          alreadyBookedTimesArr.push(\r\n            alreadyBookedAppointments[i].startTime,\r\n            quadrupleHourArr\r\n              .slice(\r\n                quadrupleHourArr.indexOf(\r\n                  Number.isInteger(startSliceBasedOnDuration)\r\n                    ? startSliceBasedOnDuration.toString() + \":00\"\r\n                    : startSliceBasedOnDuration.toString().split(\".\")[0] +\r\n                        \":\" +\r\n                        endSliceBasedOnDuration()\r\n                ),\r\n                quadrupleHourArr.length -\r\n                  (Number(\r\n                    alreadyBookedAppointments[i].endTime.split(\":\")[1]\r\n                  ) === 30 ||\r\n                  Number(alreadyBookedAppointments[i].endTime.split(\":\")[1]) ===\r\n                    35 ||\r\n                  Number(alreadyBookedAppointments[i].endTime.split(\":\")[1]) ===\r\n                    40 ||\r\n                  Number(alreadyBookedAppointments[i].endTime.split(\":\")[1]) ===\r\n                    45\r\n                    ? 0\r\n                    : 4 -\r\n                      minutesArr.indexOf(\r\n                        Math.floor(\r\n                          (Number(\r\n                            alreadyBookedAppointments[i].endTime.split(\":\")[1]\r\n                          ) +\r\n                            25) /\r\n                            15\r\n                        ) *\r\n                          15 >\r\n                          60\r\n                          ? (\r\n                              Math.floor(\r\n                                (Number(\r\n                                  alreadyBookedAppointments[i].endTime.split(\r\n                                    \":\"\r\n                                  )[1]\r\n                                ) +\r\n                                  25) /\r\n                                  15\r\n                              ) *\r\n                                15 -\r\n                              60\r\n                            ).toString()\r\n                          : (\r\n                              Math.floor(\r\n                                (Number(\r\n                                  alreadyBookedAppointments[i].endTime.split(\r\n                                    \":\"\r\n                                  )[1]\r\n                                ) +\r\n                                  25) /\r\n                                  15\r\n                              ) * 15\r\n                            ).toString()\r\n                      ))\r\n              )\r\n              .sort(),\r\n            calendarEndTime\r\n          );\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n      changeBookedTimes(\r\n        alreadyBookedTimesArr.reduce(\r\n          (accumulator, currentValue) => accumulator.concat(currentValue),\r\n          []\r\n        )\r\n      );\r\n    }\r\n  }, [alreadyBookedAppointments, totalDuration]);\r\n\r\n  const blockPersonalEventTimes = useCallback(() => {\r\n    const blockedTimeArr = [];\r\n\r\n    if (blockedTimeForPersonalEvent !== null) {\r\n      for (let i = 0; i < blockedTimeForPersonalEvent.length; i++) {\r\n        const allDay = blockedTimeForPersonalEvent[i].allDay;\r\n\r\n        let start = \"\";\r\n        let end = \"\";\r\n\r\n        if (!allDay) {\r\n          start = moment(blockedTimeForPersonalEvent[i].startTime, \"h:mm A\");\r\n          end = moment(blockedTimeForPersonalEvent[i].endTime, \"h:mm A\");\r\n        } else {\r\n          start = moment(\"12:00 AM\", \"h:mm A\");\r\n          end = moment(\"11:30 PM\", \"h:mm A\");\r\n        }\r\n\r\n        let current = moment(start);\r\n\r\n        while (current <= end) {\r\n          blockedTimeArr.push(current.format(\"h:mm\"));\r\n          current.add(15, \"minutes\");\r\n        }\r\n\r\n        if (bookedTimes) {\r\n          changeBookedTimes(bookedTimes.concat(blockedTimeArr));\r\n        } else {\r\n          changeBookedTimes(blockedTimeArr);\r\n        }\r\n      }\r\n    }\r\n  }, [blockedTimeForPersonalEvent, bookedTimes]);\r\n\r\n  useEffect(() => {\r\n    if (!appointmentsLoading && !personalEventsLoading) {\r\n      if (!checkedForBlockedTimes) {\r\n        alreadyBookedTimes();\r\n        blockPersonalEventTimes();\r\n\r\n        changeCheckedForBlockedTimes(true);\r\n      }\r\n    }\r\n  }, [\r\n    checkedForBlockedTimes,\r\n    appointmentsLoading,\r\n    personalEventsLoading,\r\n    alreadyBookedTimes,\r\n    blockPersonalEventTimes,\r\n  ]);\r\n\r\n  const redirectToHome = () => {\r\n    if (!splashScreenComplete) {\r\n      return <Redirect to=\"/\" />;\r\n    } else if (!props.currentScreenSize) {\r\n      if (props.initialScreenSize >= 1200) {\r\n        return <Redirect to=\"/\" />;\r\n      }\r\n    } else if (props.currentScreenSize >= 1200) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const daysOfTheWeekArr = [\r\n    { Mon: \"Monday\" },\r\n    { Tue: \"Tuesday\" },\r\n    { Wed: \"Wednesday\" },\r\n    { Thu: \"Thursday\" },\r\n    { Fri: \"Friday\" },\r\n    { Sat: \"Saturday\" },\r\n    { Sun: \"Sunday\" },\r\n  ];\r\n\r\n  const getFullDayOfTheWeek = useCallback(() => {\r\n    if (selectedDay) {\r\n      const dayThreeLetters = selectedDay.toString().slice(0, 3);\r\n\r\n      let fullDayName = \"\";\r\n\r\n      for (let i = 0; i < daysOfTheWeekArr.length; i++) {\r\n        if (daysOfTheWeekArr[i][dayThreeLetters]) {\r\n          fullDayName = daysOfTheWeekArr[i][dayThreeLetters];\r\n        }\r\n      }\r\n\r\n      return fullDayName;\r\n    }\r\n  }, [daysOfTheWeekArr, selectedDay]);\r\n\r\n  useEffect(() => {\r\n    if (!dayOfTheWeek) {\r\n      dispatch(ACTION_DAY_OF_THE_WEEK(getFullDayOfTheWeek()));\r\n    }\r\n  }, [dayOfTheWeek, dispatch, getFullDayOfTheWeek]);\r\n\r\n  const handleMorningCollapse = () => {\r\n    if (morningCollapseIsOpen) {\r\n      dispatch(ACTION_MORNING_CLOSED());\r\n    } else {\r\n      dispatch(ACTION_MORNING_OPEN());\r\n    }\r\n    if (afternoonCollapseIsOpen) {\r\n      dispatch(ACTION_AFTERNOON_CLOSED());\r\n    }\r\n    if (eveningCollapseIsOpen) {\r\n      dispatch(ACTION_EVENING_CLOSED());\r\n    }\r\n    if (lateAfternoonCollapseIsOpen) {\r\n      dispatch(ACTION_LATE_AFTERNOON_CLOSED());\r\n    }\r\n  };\r\n\r\n  const handleAfternoonCollapse = () => {\r\n    if (afternoonCollapseIsOpen) {\r\n      dispatch(ACTION_AFTERNOON_CLOSED());\r\n    } else {\r\n      dispatch(ACTION_AFTERNOON_OPEN());\r\n    }\r\n    if (morningCollapseIsOpen) {\r\n      dispatch(ACTION_MORNING_CLOSED());\r\n    }\r\n    if (eveningCollapseIsOpen) {\r\n      dispatch(ACTION_EVENING_CLOSED());\r\n    }\r\n    if (lateAfternoonCollapseIsOpen) {\r\n      dispatch(ACTION_LATE_AFTERNOON_CLOSED());\r\n    }\r\n  };\r\n\r\n  const handleLateAfternoonCollapse = () => {\r\n    if (lateAfternoonCollapseIsOpen) {\r\n      dispatch(ACTION_LATE_AFTERNOON_CLOSED());\r\n    } else {\r\n      dispatch(ACTION_LATE_AFTERNOON_OPEN());\r\n    }\r\n    if (morningCollapseIsOpen) {\r\n      dispatch(ACTION_MORNING_CLOSED());\r\n    }\r\n    if (afternoonCollapseIsOpen) {\r\n      dispatch(ACTION_AFTERNOON_CLOSED());\r\n    }\r\n    if (eveningCollapseIsOpen) {\r\n      dispatch(ACTION_EVENING_CLOSED());\r\n    }\r\n  };\r\n\r\n  const handleEveningCollapse = () => {\r\n    if (eveningCollapseIsOpen) {\r\n      dispatch(ACTION_EVENING_CLOSED());\r\n    } else {\r\n      dispatch(ACTION_EVENING_OPEN());\r\n    }\r\n    if (morningCollapseIsOpen) {\r\n      dispatch(ACTION_MORNING_CLOSED());\r\n    }\r\n    if (afternoonCollapseIsOpen) {\r\n      dispatch(ACTION_AFTERNOON_CLOSED());\r\n    }\r\n    if (lateAfternoonCollapseIsOpen) {\r\n      dispatch(ACTION_LATE_AFTERNOON_CLOSED());\r\n    }\r\n  };\r\n\r\n  const handleContinueCheckoutButtonClick = () => {\r\n    dispatch(ACTION_CONTINUE_BUTTON_ACTIVE());\r\n    dispatch(ACTION_DAY_OF_THE_WEEK(dayOfTheWeek));\r\n  };\r\n\r\n  const fifteenMinuteIntervals = [\"00\", \"15\", \"30\", \"45\"];\r\n  const morningTimesArr = [];\r\n\r\n  const createMorningTimeInstances = () => {\r\n    let hours = [];\r\n    let minutes = fifteenMinuteIntervals.concat(fifteenMinuteIntervals);\r\n\r\n    for (let i = 10; i < 12; i++) {\r\n      hours.push(i);\r\n    }\r\n\r\n    const multipleHours = hours\r\n      .map((e) => [e, e, e, e])\r\n      .reduce(\r\n        (accumulator, currentValue) => accumulator.concat(currentValue),\r\n        []\r\n      );\r\n\r\n    for (let i = 0; i < multipleHours.length; i++) {\r\n      morningTimesArr.push(\r\n        multipleHours[i].toString() + \":\" + minutes[i].toString()\r\n      );\r\n    }\r\n  };\r\n\r\n  createMorningTimeInstances();\r\n\r\n  const afternoonTimesArr = [];\r\n\r\n  const createAfternoonTimeInstances = () => {\r\n    let hours = [];\r\n    let minutes = new Array(20)\r\n      .fill(fifteenMinuteIntervals)\r\n      .reduce(\r\n        (accumulator, currentValue) => accumulator.concat(currentValue),\r\n        []\r\n      );\r\n\r\n    for (let i = 12; i < 17; i++) {\r\n      hours.push(i);\r\n    }\r\n\r\n    const multipleHours = hours\r\n      .map((e) => (e > 12 ? [e - 12, e - 12, e - 12, e - 12] : [e, e, e, e]))\r\n      .reduce(\r\n        (accumulator, currentValue) => accumulator.concat(currentValue),\r\n        []\r\n      );\r\n\r\n    for (let i = 0; i < multipleHours.length; i++) {\r\n      afternoonTimesArr.push(\r\n        multipleHours[i].toString() + \":\" + minutes[i].toString()\r\n      );\r\n    }\r\n  };\r\n\r\n  createAfternoonTimeInstances();\r\n\r\n  let lateAfternoonTimesArr = afternoonTimesArr.splice(12, 10);\r\n\r\n  const eveningTimesArr = [];\r\n\r\n  const createEveningTimeInstances = () => {\r\n    let hours = [];\r\n    let minutes = new Array(dayOfTheWeek === \"Sunday\" ? 5 : 12)\r\n      .fill(fifteenMinuteIntervals)\r\n      .reduce(\r\n        (accumulator, currentValue) => accumulator.concat(currentValue),\r\n        []\r\n      );\r\n\r\n    for (let i = 17; i < (dayOfTheWeek === \"Sunday\" ? 19 : 20); i++) {\r\n      hours.push(i);\r\n    }\r\n\r\n    const multipleHours = hours\r\n      .map((e) => [e - 12, e - 12, e - 12, e - 12])\r\n      .reduce(\r\n        (accumulator, currentValue) => accumulator.concat(currentValue),\r\n        []\r\n      );\r\n\r\n    for (let i = 0; i < multipleHours.length; i++) {\r\n      eveningTimesArr.push(\r\n        multipleHours[i].toString() + \":\" + minutes[i].toString()\r\n      );\r\n    }\r\n  };\r\n\r\n  createEveningTimeInstances();\r\n\r\n  const handleTimeClick = (e) => {\r\n    let renderedTime = \"\";\r\n\r\n    // Required for button border click to trigger selected time on mobile\r\n    if (e.target.lastChild.innerText) {\r\n      renderedTime = e.target.lastChild.innerText;\r\n    } else {\r\n      renderedTime = e.target.innerText;\r\n    }\r\n\r\n    dispatch(ACTION_SELECTED_TIME(renderedTime));\r\n    if (selectedTime === renderedTime) {\r\n      dispatch(ACTION_SELECTED_TIME_RESET());\r\n      dispatch(ACTION_CONTINUE_BUTTON_RESET());\r\n      if (firstName) {\r\n        dispatch(ACTION_FIRST_NAME_RESET());\r\n      }\r\n      if (lastName) {\r\n        dispatch(ACTION_LAST_NAME_RESET());\r\n      }\r\n      if (email) {\r\n        dispatch(ACTION_EMAIL_RESET());\r\n      }\r\n      if (emailIsInvalid) {\r\n        dispatch(ACTION_EMAIL_NOT_INVALID());\r\n      }\r\n      if (emailIsValid) {\r\n        dispatch(ACTION_EMAIL_NOT_VALID());\r\n      }\r\n      if (phoneNumber) {\r\n        dispatch(ACTION_PHONE_NUMBER_RESET());\r\n      }\r\n      if (phoneIsInvalid) {\r\n        dispatch(ACTION_PHONE_NOT_INVALID());\r\n      }\r\n      if (phoneIsValid) {\r\n        dispatch(ACTION_PHONE_NOT_VALID());\r\n      }\r\n      if (appointmentNotes) {\r\n        dispatch(ACTION_APPOINTMENT_NOTES_RESET());\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const treatmentDurationArr = treatmentsArr.map((item) => item.duration);\r\n    const addOnsDurationArr = addOnsArr.map((item) => item.duration);\r\n    const totalDurationArr = treatmentDurationArr.concat(addOnsDurationArr);\r\n\r\n    let totalDurationValue;\r\n    totalDurationArr[0] === undefined\r\n      ? (totalDurationValue = null)\r\n      : (totalDurationValue = totalDurationArr.reduce((a, b) => a + b));\r\n\r\n    if (totalDuration !== totalDurationValue) {\r\n      dispatch(ACTION_TOTAL_DURATION(totalDurationValue));\r\n    }\r\n  }, [addOnsArr, dispatch, treatmentsArr, totalDuration]);\r\n\r\n  useEffect(() => {\r\n    if (selectedTime) {\r\n      let endTotalTime = \"\";\r\n      let endMinutes =\r\n        Number(\r\n          selectedTime.slice(selectedTime.length - 2, selectedTime.length)\r\n        ) + totalDuration;\r\n      let endHours = Number(selectedTime.slice(0, selectedTime.indexOf(\":\")));\r\n\r\n      if (endMinutes >= 240) {\r\n        endMinutes -= 240;\r\n        endHours += 4;\r\n      } else {\r\n        if (endMinutes >= 180) {\r\n          endMinutes -= 180;\r\n          endHours += 3;\r\n        } else {\r\n          if (endMinutes >= 120) {\r\n            endMinutes -= 120;\r\n            endHours += 2;\r\n          } else {\r\n            if (endMinutes >= 60) {\r\n              endMinutes -= 60;\r\n              endHours += 1;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (endHours > 12) {\r\n        endHours -= 12;\r\n      }\r\n\r\n      endMinutes = endMinutes.toString().split(\"\");\r\n      if (endMinutes.toString().length < 2) {\r\n        endMinutes.splice(0, 0, \"0\");\r\n      }\r\n\r\n      endTotalTime = endHours.toString() + \":\" + endMinutes.join(\"\");\r\n\r\n      dispatch(ACTION_APPOINTMENT_END_TIME(endTotalTime));\r\n    }\r\n  }, [selectedTime, totalDuration, dispatch]);\r\n\r\n  return (\r\n    <div className=\"select_time_container\" id=\"time_page\">\r\n      {redirectToHome()}\r\n      <div className=\"select_time_container_header\">\r\n        <Link\r\n          to={() => {\r\n            if (!props.currentScreenSize) {\r\n              if (props.initialScreenSize >= 1200) {\r\n                return \"/\";\r\n              } else {\r\n                return \"/availability\";\r\n              }\r\n            } else {\r\n              if (props.currentScreenSize >= 1200) {\r\n                return \"/\";\r\n              } else {\r\n                return \"/availability\";\r\n              }\r\n            }\r\n          }}\r\n        >\r\n          <FontAwesomeIcon\r\n            className=\"select_time_back_arrow\"\r\n            icon={faChevronLeft}\r\n            onClick={() => {\r\n              dispatch(ACTION_AVAILABILITY_PAGE_OPENED());\r\n              dispatch(ACTION_REFORMATTED_DAY_CLONE_RESET);\r\n            }}\r\n          />\r\n        </Link>\r\n        <h1>AVAILABILITY</h1>\r\n        <Link\r\n          to={() => {\r\n            if (!props.currentScreenSize) {\r\n              if (props.initialScreenSize >= 1200) {\r\n                return \"/\";\r\n              } else {\r\n                if (userAuthenticated) {\r\n                  return \"/paymentinfo\";\r\n                } else {\r\n                  return \"/checkout\";\r\n                }\r\n              }\r\n            } else {\r\n              if (props.currentScreenSize >= 1200) {\r\n                return \"/\";\r\n              } else {\r\n                if (userAuthenticated) {\r\n                  return \"/paymentinfo\";\r\n                } else {\r\n                  return \"/checkout\";\r\n                }\r\n              }\r\n            }\r\n          }}\r\n          onClick={() => {\r\n            if (userAuthenticated) {\r\n              dispatch(ACTION_PAYMENT_INFO_PAGE_OPENED());\r\n            } else {\r\n              dispatch(ACTION_GUEST_CHECKOUT_FORM_PAGE_OPENED());\r\n            }\r\n          }}\r\n        >\r\n          <FontAwesomeIcon\r\n            className=\"select_time_forward_arrow\"\r\n            style={{ display: continueToCheckoutButton ? \"block\" : \"none\" }}\r\n            icon={faChevronRight}\r\n          />\r\n        </Link>\r\n      </div>\r\n      <div className=\"select_a_time_header\">\r\n        <h2>\r\n          SELECT A TIME\r\n          {saltCaveInCart\r\n            ? null\r\n            : selectedEsthetician\r\n            ? \" WITH \" +\r\n              selectedEsthetician.split(\" \")[0].toUpperCase() +\r\n              \" \" +\r\n              selectedEsthetician.split(\" \")[1][0].toUpperCase() +\r\n              \".\"\r\n            : null}\r\n        </h2>\r\n      </div>\r\n      <p className=\"time_statement\">\r\n        Choose a time for your appointment on {getFullDayOfTheWeek()},{\" \"}\r\n        {reformattedDay}.\r\n      </p>\r\n      <div className=\"time_of_day_selectors_wrapper\">\r\n        <div className=\"time_of_day_card_container\">\r\n          <div className=\"time_of_day_card_top_wrapping\">\r\n            <div className=\"time_of_day_heading\">\r\n              <p>Morning</p>\r\n            </div>\r\n            <p\r\n              className=\"time_of_day_card_show_more\"\r\n              onClick={handleMorningCollapse}\r\n            >\r\n              Show {morningCollapseIsOpen ? \"Less\" : \"Times\"}\r\n            </p>\r\n          </div>\r\n          <Collapse isOpen={morningCollapseIsOpen}>\r\n            <div className=\"inner_times_wrapper\">\r\n              {morningTimesArr.map((item, i) => (\r\n                <div\r\n                  key={i}\r\n                  className=\"individual_time_wrapper\"\r\n                  onClick={handleTimeClick}\r\n                  onMouseOver={() => {\r\n                    if (!props.currentScreenSize) {\r\n                      if (props.initialScreenSize >= 1200) {\r\n                        changeIndividualItemHovered({\r\n                          arr: \"morningTimesArr\",\r\n                          index: i,\r\n                        });\r\n                      }\r\n                    } else {\r\n                      if (props.currentScreenSize >= 1200) {\r\n                        changeIndividualItemHovered({\r\n                          arr: \"morningTimesArr\",\r\n                          index: i,\r\n                        });\r\n                      }\r\n                    }\r\n                  }}\r\n                  onMouseOut={() => {\r\n                    if (individualItemHovered !== \"\") {\r\n                      changeIndividualItemHovered(\"\");\r\n                    }\r\n                  }}\r\n                  style={{\r\n                    background: bookedTimes\r\n                      ? item === selectedTime\r\n                        ? \"rgb(44, 44, 52)\"\r\n                        : bookedTimes.includes(item) ||\r\n                          moment(\r\n                            dayOfTheWeek +\r\n                              \", \" +\r\n                              reformattedDay +\r\n                              \" \" +\r\n                              item +\r\n                              \" \" +\r\n                              (Number(item.split(\":\")[0]) >= 12 ||\r\n                              Number(item.split(\":\")[0]) < 9\r\n                                ? \"PM\"\r\n                                : \"AM\"),\r\n                            \"LLLL\"\r\n                          )\r\n                            .utc()\r\n                            .subtract(12, \"hours\")\r\n                            .valueOf() <=\r\n                            moment()\r\n                              .utc()\r\n                              .valueOf()\r\n                        ? \"#f0f0f0\"\r\n                        : individualItemHovered.arr === \"morningTimesArr\" &&\r\n                          individualItemHovered.index === i\r\n                        ? \"rgba(0, 129, 177, 0.4)\"\r\n                        : \"rgb(255, 255, 255)\"\r\n                      : \"rgb(255, 255, 255)\",\r\n                    color: bookedTimes\r\n                      ? item === selectedTime\r\n                        ? \"rgb(255, 255, 255)\"\r\n                        : bookedTimes.includes(item) ||\r\n                          moment(\r\n                            dayOfTheWeek +\r\n                              \", \" +\r\n                              reformattedDay +\r\n                              \" \" +\r\n                              item +\r\n                              \" \" +\r\n                              (Number(item.split(\":\")[0]) >= 12 ||\r\n                              Number(item.split(\":\")[0]) < 9\r\n                                ? \"PM\"\r\n                                : \"AM\"),\r\n                            \"LLLL\"\r\n                          )\r\n                            .utc()\r\n                            .subtract(12, \"hours\")\r\n                            .valueOf() <=\r\n                            moment()\r\n                              .utc()\r\n                              .valueOf()\r\n                        ? \"rgb(201, 201, 201)\"\r\n                        : \"rgb(0, 0, 0)\"\r\n                      : \"rgb(0, 0, 0)\",\r\n                    border: bookedTimes\r\n                      ? item === selectedTime\r\n                        ? \"2px solid transparent\"\r\n                        : bookedTimes.includes(item) ||\r\n                          moment(\r\n                            dayOfTheWeek +\r\n                              \", \" +\r\n                              reformattedDay +\r\n                              \" \" +\r\n                              item +\r\n                              \" \" +\r\n                              (Number(item.split(\":\")[0]) >= 12 ||\r\n                              Number(item.split(\":\")[0]) < 9\r\n                                ? \"PM\"\r\n                                : \"AM\"),\r\n                            \"LLLL\"\r\n                          )\r\n                            .utc()\r\n                            .subtract(12, \"hours\")\r\n                            .valueOf() <=\r\n                            moment()\r\n                              .utc()\r\n                              .valueOf()\r\n                        ? \"rgb(201, 201, 201)\"\r\n                        : individualItemHovered.arr === \"morningTimesArr\" &&\r\n                          individualItemHovered.index === i\r\n                        ? \"2px solid rgba(0, 129, 177, 0.4)\"\r\n                        : \"2px solid rgb(0, 0, 0)\"\r\n                      : \"2px solid rgb(0, 0, 0)\",\r\n                    pointerEvents: bookedTimes\r\n                      ? bookedTimes.includes(item) ||\r\n                        moment(\r\n                          dayOfTheWeek +\r\n                            \", \" +\r\n                            reformattedDay +\r\n                            \" \" +\r\n                            item +\r\n                            \" \" +\r\n                            (Number(item.split(\":\")[0]) >= 12 ||\r\n                            Number(item.split(\":\")[0]) < 9\r\n                              ? \"PM\"\r\n                              : \"AM\"),\r\n                          \"LLLL\"\r\n                        )\r\n                          .utc()\r\n                          .subtract(12, \"hours\")\r\n                          .valueOf() <=\r\n                          moment()\r\n                            .utc()\r\n                            .valueOf()\r\n                        ? \"none\"\r\n                        : \"auto\"\r\n                      : \"auto\",\r\n                  }}\r\n                >\r\n                  <p>{item}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Collapse>\r\n        </div>\r\n        <div className=\"time_of_day_card_container\">\r\n          <div className=\"time_of_day_card_top_wrapping\">\r\n            <div className=\"time_of_day_heading\">\r\n              <p>Afternoon</p>\r\n            </div>\r\n            <p\r\n              className=\"time_of_day_card_show_more\"\r\n              onClick={handleAfternoonCollapse}\r\n            >\r\n              Show {afternoonCollapseIsOpen ? \"Less\" : \"Times\"}\r\n            </p>\r\n          </div>\r\n          <Collapse isOpen={afternoonCollapseIsOpen}>\r\n            <div className=\"inner_times_wrapper\">\r\n              {afternoonTimesArr.map((item, i) => (\r\n                <div\r\n                  key={i}\r\n                  className=\"individual_time_wrapper\"\r\n                  onClick={handleTimeClick}\r\n                  onMouseOver={() => {\r\n                    if (!props.currentScreenSize) {\r\n                      if (props.initialScreenSize >= 1200) {\r\n                        changeIndividualItemHovered({\r\n                          arr: \"afternoonTimesArr\",\r\n                          index: i,\r\n                        });\r\n                      }\r\n                    } else {\r\n                      if (props.currentScreenSize >= 1200) {\r\n                        changeIndividualItemHovered({\r\n                          arr: \"afternoonTimesArr\",\r\n                          index: i,\r\n                        });\r\n                      }\r\n                    }\r\n                  }}\r\n                  onMouseOut={() => {\r\n                    if (individualItemHovered !== \"\") {\r\n                      changeIndividualItemHovered(\"\");\r\n                    }\r\n                  }}\r\n                  style={{\r\n                    background: bookedTimes\r\n                      ? item === selectedTime\r\n                        ? \"rgb(44, 44, 52)\"\r\n                        : bookedTimes.includes(item) ||\r\n                          moment(\r\n                            dayOfTheWeek +\r\n                              \", \" +\r\n                              reformattedDay +\r\n                              \" \" +\r\n                              item +\r\n                              \" \" +\r\n                              (Number(item.split(\":\")[0]) >= 12 ||\r\n                              Number(item.split(\":\")[0]) < 9\r\n                                ? \"PM\"\r\n                                : \"AM\"),\r\n                            \"LLLL\"\r\n                          )\r\n                            .utc()\r\n                            .subtract(12, \"hours\")\r\n                            .valueOf() <=\r\n                            moment()\r\n                              .utc()\r\n                              .valueOf()\r\n                        ? \"#f0f0f0\"\r\n                        : individualItemHovered.arr === \"afternoonTimesArr\" &&\r\n                          individualItemHovered.index === i\r\n                        ? \"rgba(0, 129, 177, 0.4)\"\r\n                        : \"rgb(255, 255, 255)\"\r\n                      : \"rgb(255, 255, 255)\",\r\n                    color: bookedTimes\r\n                      ? item === selectedTime\r\n                        ? \"rgb(255, 255, 255)\"\r\n                        : bookedTimes.includes(item) ||\r\n                          moment(\r\n                            dayOfTheWeek +\r\n                              \", \" +\r\n                              reformattedDay +\r\n                              \" \" +\r\n                              item +\r\n                              \" \" +\r\n                              (Number(item.split(\":\")[0]) >= 12 ||\r\n                              Number(item.split(\":\")[0]) < 9\r\n                                ? \"PM\"\r\n                                : \"AM\"),\r\n                            \"LLLL\"\r\n                          )\r\n                            .utc()\r\n                            .subtract(12, \"hours\")\r\n                            .valueOf() <=\r\n                            moment()\r\n                              .utc()\r\n                              .valueOf()\r\n                        ? \"rgb(201, 201, 201)\"\r\n                        : \"rgb(0, 0, 0)\"\r\n                      : \"rgb(0, 0, 0)\",\r\n                    border: bookedTimes\r\n                      ? item === selectedTime\r\n                        ? \"2px solid transparent\"\r\n                        : bookedTimes.includes(item) ||\r\n                          moment(\r\n                            dayOfTheWeek +\r\n                              \", \" +\r\n                              reformattedDay +\r\n                              \" \" +\r\n                              item +\r\n                              \" \" +\r\n                              (Number(item.split(\":\")[0]) >= 12 ||\r\n                              Number(item.split(\":\")[0]) < 9\r\n                                ? \"PM\"\r\n                                : \"AM\"),\r\n                            \"LLLL\"\r\n                          )\r\n                            .utc()\r\n                            .subtract(12, \"hours\")\r\n                            .valueOf() <=\r\n                            moment()\r\n                              .utc()\r\n                              .valueOf()\r\n                        ? \"rgb(201, 201, 201)\"\r\n                        : individualItemHovered.arr === \"afternoonTimesArr\" &&\r\n                          individualItemHovered.index === i\r\n                        ? \"2px solid rgba(0, 129, 177, 0.4)\"\r\n                        : \"2px solid rgb(0, 0, 0)\"\r\n                      : \"2px solid rgb(0, 0, 0)\",\r\n                    pointerEvents: bookedTimes\r\n                      ? bookedTimes.includes(item) ||\r\n                        moment(\r\n                          dayOfTheWeek +\r\n                            \", \" +\r\n                            reformattedDay +\r\n                            \" \" +\r\n                            item +\r\n                            \" \" +\r\n                            (Number(item.split(\":\")[0]) >= 12 ||\r\n                            Number(item.split(\":\")[0]) < 9\r\n                              ? \"PM\"\r\n                              : \"AM\"),\r\n                          \"LLLL\"\r\n                        )\r\n                          .utc()\r\n                          .subtract(12, \"hours\")\r\n                          .valueOf() <=\r\n                          moment()\r\n                            .utc()\r\n                            .valueOf()\r\n                        ? \"none\"\r\n                        : \"auto\"\r\n                      : \"auto\",\r\n                  }}\r\n                >\r\n                  <p>{item}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Collapse>\r\n        </div>\r\n        <div className=\"time_of_day_card_container\">\r\n          <div className=\"time_of_day_card_top_wrapping\">\r\n            <div className=\"time_of_day_heading\">\r\n              <p>Late Afternoon</p>\r\n            </div>\r\n            <p\r\n              className=\"time_of_day_card_show_more\"\r\n              onClick={handleLateAfternoonCollapse}\r\n            >\r\n              Show {lateAfternoonCollapseIsOpen ? \"Less\" : \"Times\"}\r\n            </p>\r\n          </div>\r\n          <Collapse isOpen={lateAfternoonCollapseIsOpen}>\r\n            <div className=\"inner_times_wrapper\">\r\n              {lateAfternoonTimesArr.map((item, i) => (\r\n                <div\r\n                  key={i}\r\n                  className=\"individual_time_wrapper\"\r\n                  onClick={handleTimeClick}\r\n                  onMouseOver={() => {\r\n                    if (!props.currentScreenSize) {\r\n                      if (props.initialScreenSize >= 1200) {\r\n                        changeIndividualItemHovered({\r\n                          arr: \"lateAfternoonTimesArr\",\r\n                          index: i,\r\n                        });\r\n                      }\r\n                    } else {\r\n                      if (props.currentScreenSize >= 1200) {\r\n                        changeIndividualItemHovered({\r\n                          arr: \"lateAfternoonTimesArr\",\r\n                          index: i,\r\n                        });\r\n                      }\r\n                    }\r\n                  }}\r\n                  onMouseOut={() => {\r\n                    if (individualItemHovered !== \"\") {\r\n                      changeIndividualItemHovered(\"\");\r\n                    }\r\n                  }}\r\n                  style={{\r\n                    opacity:\r\n                      dayOfTheWeek === \"Friday\"\r\n                        ? parseInt(item[0], 10) > 3\r\n                          ? 0\r\n                          : 1\r\n                        : 1,\r\n                    pointerEvents: bookedTimes\r\n                      ? dayOfTheWeek === \"Friday\"\r\n                        ? parseInt(item[0], 10) > 3\r\n                          ? \"none\"\r\n                          : bookedTimes.includes(item) ||\r\n                            moment(\r\n                              dayOfTheWeek +\r\n                                \", \" +\r\n                                reformattedDay +\r\n                                \" \" +\r\n                                item +\r\n                                \" \" +\r\n                                (Number(item.split(\":\")[0]) >= 12 ||\r\n                                Number(item.split(\":\")[0]) < 9\r\n                                  ? \"PM\"\r\n                                  : \"AM\"),\r\n                              \"LLLL\"\r\n                            )\r\n                              .utc()\r\n                              .subtract(12, \"hours\")\r\n                              .valueOf() <=\r\n                              moment()\r\n                                .utc()\r\n                                .valueOf()\r\n                          ? \"none\"\r\n                          : \"auto\"\r\n                        : bookedTimes.includes(item) ||\r\n                          moment(\r\n                            dayOfTheWeek +\r\n                              \", \" +\r\n                              reformattedDay +\r\n                              \" \" +\r\n                              item +\r\n                              \" \" +\r\n                              (Number(item.split(\":\")[0]) >= 12 ||\r\n                              Number(item.split(\":\")[0]) < 9\r\n                                ? \"PM\"\r\n                                : \"AM\"),\r\n                            \"LLLL\"\r\n                          )\r\n                            .utc()\r\n                            .subtract(12, \"hours\")\r\n                            .valueOf() <=\r\n                            moment()\r\n                              .utc()\r\n                              .valueOf()\r\n                        ? \"none\"\r\n                        : \"auto\"\r\n                      : \"auto\",\r\n                    background: bookedTimes\r\n                      ? item === selectedTime\r\n                        ? \"rgb(44, 44, 52)\"\r\n                        : bookedTimes.includes(item) ||\r\n                          moment(\r\n                            dayOfTheWeek +\r\n                              \", \" +\r\n                              reformattedDay +\r\n                              \" \" +\r\n                              item +\r\n                              \" \" +\r\n                              (Number(item.split(\":\")[0]) >= 12 ||\r\n                              Number(item.split(\":\")[0]) < 9\r\n                                ? \"PM\"\r\n                                : \"AM\"),\r\n                            \"LLLL\"\r\n                          )\r\n                            .utc()\r\n                            .subtract(12, \"hours\")\r\n                            .valueOf() <=\r\n                            moment()\r\n                              .utc()\r\n                              .valueOf()\r\n                        ? \"#f0f0f0\"\r\n                        : individualItemHovered.arr ===\r\n                            \"lateAfternoonTimesArr\" &&\r\n                          individualItemHovered.index === i\r\n                        ? \"rgba(0, 129, 177, 0.4)\"\r\n                        : \"rgb(255, 255, 255)\"\r\n                      : \"rgb(255, 255, 255)\",\r\n                    color: bookedTimes\r\n                      ? item === selectedTime\r\n                        ? \"rgb(255, 255, 255)\"\r\n                        : bookedTimes.includes(item) ||\r\n                          moment(\r\n                            dayOfTheWeek +\r\n                              \", \" +\r\n                              reformattedDay +\r\n                              \" \" +\r\n                              item +\r\n                              \" \" +\r\n                              (Number(item.split(\":\")[0]) >= 12 ||\r\n                              Number(item.split(\":\")[0]) < 9\r\n                                ? \"PM\"\r\n                                : \"AM\"),\r\n                            \"LLLL\"\r\n                          )\r\n                            .utc()\r\n                            .subtract(12, \"hours\")\r\n                            .valueOf() <=\r\n                            moment()\r\n                              .utc()\r\n                              .valueOf()\r\n                        ? \"rgb(201, 201, 201)\"\r\n                        : \"rgb(0, 0, 0)\"\r\n                      : \"rgb(0, 0, 0)\",\r\n                    border: bookedTimes\r\n                      ? item === selectedTime\r\n                        ? \"2px solid transparent\"\r\n                        : bookedTimes.includes(item) ||\r\n                          moment(\r\n                            dayOfTheWeek +\r\n                              \", \" +\r\n                              reformattedDay +\r\n                              \" \" +\r\n                              item +\r\n                              \" \" +\r\n                              (Number(item.split(\":\")[0]) >= 12 ||\r\n                              Number(item.split(\":\")[0]) < 9\r\n                                ? \"PM\"\r\n                                : \"AM\"),\r\n                            \"LLLL\"\r\n                          )\r\n                            .utc()\r\n                            .subtract(12, \"hours\")\r\n                            .valueOf() <=\r\n                            moment()\r\n                              .utc()\r\n                              .valueOf()\r\n                        ? \"rgb(201, 201, 201)\"\r\n                        : individualItemHovered.arr ===\r\n                            \"lateAfternoonTimesArr\" &&\r\n                          individualItemHovered.index === i\r\n                        ? \"2px solid rgba(0, 129, 177, 0.4)\"\r\n                        : \"2px solid rgb(0, 0, 0)\"\r\n                      : \"2px solid rgb(0, 0, 0)\",\r\n                  }}\r\n                >\r\n                  <p>{item}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Collapse>\r\n        </div>\r\n        {dayOfTheWeek === \"Friday\" ? null : (\r\n          <div className=\"time_of_day_card_container\">\r\n            <div className=\"time_of_day_card_top_wrapping\">\r\n              <div className=\"time_of_day_heading\">\r\n                <p>Evening</p>\r\n              </div>\r\n              <p\r\n                className=\"time_of_day_card_show_more\"\r\n                onClick={handleEveningCollapse}\r\n              >\r\n                Show {eveningCollapseIsOpen ? \"Less\" : \"Times\"}\r\n              </p>\r\n            </div>\r\n            <Collapse isOpen={eveningCollapseIsOpen}>\r\n              <div className=\"inner_times_wrapper\">\r\n                {eveningTimesArr.map((item, i) => (\r\n                  <div\r\n                    key={i}\r\n                    className=\"individual_time_wrapper\"\r\n                    onClick={handleTimeClick}\r\n                    onMouseOver={() => {\r\n                      if (!props.currentScreenSize) {\r\n                        if (props.initialScreenSize >= 1200) {\r\n                          changeIndividualItemHovered({\r\n                            arr: \"eveningTimesArr\",\r\n                            index: i,\r\n                          });\r\n                        }\r\n                      } else {\r\n                        if (props.currentScreenSize >= 1200) {\r\n                          changeIndividualItemHovered({\r\n                            arr: \"eveningTimesArr\",\r\n                            index: i,\r\n                          });\r\n                        }\r\n                      }\r\n                    }}\r\n                    onMouseOut={() => {\r\n                      if (individualItemHovered !== \"\") {\r\n                        changeIndividualItemHovered(\"\");\r\n                      }\r\n                    }}\r\n                    style={{\r\n                      opacity:\r\n                        dayOfTheWeek === \"Sunday\"\r\n                          ? parseInt(item[0], 10) > 5\r\n                            ? 0\r\n                            : 1\r\n                          : 1,\r\n                      pointerEvents: bookedTimes\r\n                        ? dayOfTheWeek === \"Sunday\"\r\n                          ? parseInt(item[0], 10) > 5\r\n                            ? \"none\"\r\n                            : bookedTimes.includes(item) ||\r\n                              moment(\r\n                                dayOfTheWeek +\r\n                                  \", \" +\r\n                                  reformattedDay +\r\n                                  \" \" +\r\n                                  item +\r\n                                  \" \" +\r\n                                  (Number(item.split(\":\")[0]) >= 12 ||\r\n                                  Number(item.split(\":\")[0]) < 9\r\n                                    ? \"PM\"\r\n                                    : \"AM\"),\r\n                                \"LLLL\"\r\n                              )\r\n                                .utc()\r\n                                .subtract(12, \"hours\")\r\n                                .valueOf() <=\r\n                                moment()\r\n                                  .utc()\r\n                                  .valueOf()\r\n                            ? \"none\"\r\n                            : \"auto\"\r\n                          : bookedTimes.includes(item) ||\r\n                            moment(\r\n                              dayOfTheWeek +\r\n                                \", \" +\r\n                                reformattedDay +\r\n                                \" \" +\r\n                                item +\r\n                                \" \" +\r\n                                (Number(item.split(\":\")[0]) >= 12 ||\r\n                                Number(item.split(\":\")[0]) < 9\r\n                                  ? \"PM\"\r\n                                  : \"AM\"),\r\n                              \"LLLL\"\r\n                            )\r\n                              .utc()\r\n                              .subtract(12, \"hours\")\r\n                              .valueOf() <=\r\n                              moment()\r\n                                .utc()\r\n                                .valueOf()\r\n                          ? \"none\"\r\n                          : \"auto\"\r\n                        : \"auto\",\r\n                      background: bookedTimes\r\n                        ? item === selectedTime\r\n                          ? \"rgb(44, 44, 52)\"\r\n                          : bookedTimes.includes(item) ||\r\n                            moment(\r\n                              dayOfTheWeek +\r\n                                \", \" +\r\n                                reformattedDay +\r\n                                \" \" +\r\n                                item +\r\n                                \" \" +\r\n                                (Number(item.split(\":\")[0]) >= 12 ||\r\n                                Number(item.split(\":\")[0]) < 9\r\n                                  ? \"PM\"\r\n                                  : \"AM\"),\r\n                              \"LLLL\"\r\n                            )\r\n                              .utc()\r\n                              .subtract(12, \"hours\")\r\n                              .valueOf() <=\r\n                              moment()\r\n                                .utc()\r\n                                .valueOf()\r\n                          ? \"#f0f0f0\"\r\n                          : individualItemHovered.arr === \"eveningTimesArr\" &&\r\n                            individualItemHovered.index === i\r\n                          ? \"rgba(0, 129, 177, 0.4)\"\r\n                          : \"rgb(255, 255, 255)\"\r\n                        : \"rgb(255, 255, 255)\",\r\n                      color: bookedTimes\r\n                        ? item === selectedTime\r\n                          ? \"rgb(255, 255, 255)\"\r\n                          : bookedTimes.includes(item) ||\r\n                            moment(\r\n                              dayOfTheWeek +\r\n                                \", \" +\r\n                                reformattedDay +\r\n                                \" \" +\r\n                                item +\r\n                                \" \" +\r\n                                (Number(item.split(\":\")[0]) >= 12 ||\r\n                                Number(item.split(\":\")[0]) < 9\r\n                                  ? \"PM\"\r\n                                  : \"AM\"),\r\n                              \"LLLL\"\r\n                            )\r\n                              .utc()\r\n                              .subtract(12, \"hours\")\r\n                              .valueOf() <=\r\n                              moment()\r\n                                .utc()\r\n                                .valueOf()\r\n                          ? \"rgb(201, 201, 201)\"\r\n                          : \"rgb(0, 0, 0)\"\r\n                        : \"rgb(0, 0, 0)\",\r\n                      border: bookedTimes\r\n                        ? item === selectedTime\r\n                          ? \"2px solid transparent\"\r\n                          : bookedTimes.includes(item) ||\r\n                            moment(\r\n                              dayOfTheWeek +\r\n                                \", \" +\r\n                                reformattedDay +\r\n                                \" \" +\r\n                                item +\r\n                                \" \" +\r\n                                (Number(item.split(\":\")[0]) >= 12 ||\r\n                                Number(item.split(\":\")[0]) < 9\r\n                                  ? \"PM\"\r\n                                  : \"AM\"),\r\n                              \"LLLL\"\r\n                            )\r\n                              .utc()\r\n                              .subtract(12, \"hours\")\r\n                              .valueOf() <=\r\n                              moment()\r\n                                .utc()\r\n                                .valueOf()\r\n                          ? \"rgb(201, 201, 201)\"\r\n                          : individualItemHovered.arr === \"eveningTimesArr\" &&\r\n                            individualItemHovered.index === i\r\n                          ? \"2px solid rgba(0, 129, 177, 0.4)\"\r\n                          : \"2px solid rgb(0, 0, 0)\"\r\n                        : \"2px solid rgb(0, 0, 0)\",\r\n                    }}\r\n                  >\r\n                    <p>{item}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </Collapse>\r\n          </div>\r\n        )}\r\n        <div\r\n          className=\"time_preference_bottom_buttons_container\"\r\n          style={{\r\n            paddingTop: \"5vh\",\r\n            marginTop:\r\n              dayOfTheWeek === \"Sunday\"\r\n                ? eveningCollapseIsOpen\r\n                  ? \"-10vh\"\r\n                  : \"0vh\"\r\n                : dayOfTheWeek === \"Friday\"\r\n                ? lateAfternoonCollapseIsOpen\r\n                  ? \"-10vh\"\r\n                  : \"0vh\"\r\n                : eveningCollapseIsOpen\r\n                ? \"-4vh\"\r\n                : \"0vh\",\r\n            transition: \"margin-top 0.4s ease, padding-top 0.4s ease\",\r\n          }}\r\n        >\r\n          <Link\r\n            to={() => {\r\n              if (!props.currentScreenSize) {\r\n                if (props.initialScreenSize >= 1200) {\r\n                  return \"/\";\r\n                } else {\r\n                  if (userAuthenticated) {\r\n                    return \"/paymentinfo\";\r\n                  } else {\r\n                    return \"/checkout\";\r\n                  }\r\n                }\r\n              } else {\r\n                if (props.currentScreenSize >= 1200) {\r\n                  return \"/\";\r\n                } else {\r\n                  if (userAuthenticated) {\r\n                    return \"/paymentinfo\";\r\n                  } else {\r\n                    return \"/checkout\";\r\n                  }\r\n                }\r\n              }\r\n            }}\r\n            style={{\r\n              display: \"block\",\r\n              pointerEvents: selectedTime !== \"\" ? \"auto\" : \"none\",\r\n            }}\r\n            onClick={handleContinueCheckoutButtonClick}\r\n          >\r\n            <div\r\n              className=\"time_preference_continue_button\"\r\n              style={{\r\n                background: selectedTime ? \"rgb(44, 44, 52)\" : \"#f0f0f0\",\r\n                color: selectedTime\r\n                  ? \"rgb(255, 255, 255)\"\r\n                  : \"rgb(201, 201, 201)\",\r\n                transition: \"background 0.5s ease, color 0.5s ease\",\r\n              }}\r\n              onClick={() => {\r\n                if (userAuthenticated) {\r\n                  dispatch(ACTION_PAYMENT_INFO_PAGE_OPENED());\r\n                } else {\r\n                  dispatch(ACTION_GUEST_CHECKOUT_FORM_PAGE_OPENED());\r\n                }\r\n              }}\r\n            >\r\n              <p>Continue Checkout</p>\r\n            </div>\r\n          </Link>\r\n          <Link\r\n            to={() => {\r\n              if (!props.currentScreenSize) {\r\n                if (props.initialScreenSize >= 1200) {\r\n                  return \"/\";\r\n                } else {\r\n                  return \"/availability\";\r\n                }\r\n              } else {\r\n                if (props.currentScreenSize >= 1200) {\r\n                  return \"/\";\r\n                } else {\r\n                  return \"/availability\";\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            <div\r\n              className=\"change_date_button\"\r\n              onClick={() => dispatch(ACTION_AVAILABILITY_PAGE_OPENED())}\r\n            >\r\n              <p>Change Date</p>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimePreference;\r\n"]},"metadata":{},"sourceType":"module"}