{"ast":null,"code":"import _taggedTemplateLiteral from \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\HEC\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\HEC\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\HEC\\\\Client\\\\src\\\\components\\\\admin\\\\AdminClients\\\\AdminClientIndividualProfile.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n    display: block;\\n    position: absolute;\\n    left: 25%;\\n    right: 25%;\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport LZString from \"lz-string\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { css } from \"@emotion/css\";\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport { Transition } from \"react-spring/renderprops\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCamera, faChevronRight, faHistory, faCalendarAlt, faTrashAlt, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport deleteClientMutation from \"../../../graphql/mutations/deleteClientMutation\";\nimport ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED from \"../../../actions/Admin/AdminLogin/AdminClientSectionSelected/ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED\";\nimport ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED from \"../../../actions/Admin/AdminLogin/AdminClientSectionSelected/ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED\";\nimport ACTION_ADD_PROFILE_PHOTO_CLICKED from \"../../../actions/Admin/AddProfilePhotoClicked/ACTION_ADD_PROFILE_PHOTO_CLICKED\";\nimport ACTION_LOADING_SPINNER_ACTIVE from \"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_ACTIVE\";\nimport ACTION_LOADING_SPINNER_RESET from \"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_RESET\";\nimport \"./AdminClients.css\";\n\nconst AdminClientIndividualProfile = props => {\n  const dispatch = useDispatch();\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        deleteClientClicked = _useState2[0],\n        changeDeleteClientClicked = _useState2[1];\n\n  const loadingSpinnerActive = useSelector(state => state.loadingSpinnerActive.loading_spinner);\n  const override = css(_templateObject());\n\n  const _useMutation = useMutation(deleteClientMutation),\n        _useMutation2 = _slicedToArray(_useMutation, 2),\n        deleteClient = _useMutation2[0],\n        _useMutation2$ = _useMutation2[1],\n        loading = _useMutation2$.loading,\n        data = _useMutation2$.data;\n\n  const handleDeleteClient = item => {\n    deleteClient({\n      variables: {\n        _id: item\n      }\n    });\n\n    if (deleteClientClicked) {\n      changeDeleteClientClicked(false);\n    }\n  };\n\n  const resetStatesAfterLoading = useCallback(() => {\n    props.getClientsRefetch();\n    dispatch(ACTION_LOADING_SPINNER_RESET());\n    props.changeClientToggled(\"\");\n  }, [props, dispatch]);\n  useEffect(() => {\n    if (data) {\n      const loadingFunction = setTimeout(() => resetStatesAfterLoading(), 2000);\n      return () => {\n        clearTimeout(loadingFunction);\n      };\n    }\n  }, [data, resetStatesAfterLoading]);\n  useEffect(() => {\n    if (loading) {\n      dispatch(ACTION_LOADING_SPINNER_ACTIVE());\n    }\n  }, [loading, data, dispatch]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: deleteClientClicked,\n    className: \"cancel_appointment_modal\",\n    style: {\n      content: {\n        position: \"fixed\",\n        zIndex: 10000,\n        opacity: 0.99,\n        height: \"100%\",\n        backdropFilter: \"blur(5px)\",\n        WebkitBackdropFilter: \"blur(5px)\",\n        paddingBottom: \"10%\",\n        borderRadius: \"none\",\n        width: \"100vw\",\n        top: \"0\",\n        left: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        border: \"none\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        background: \"rgba(0, 0, 0, 0.5)\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BounceLoader, {\n    size: 100,\n    css: override,\n    color: \"rgb(44, 44, 52)\",\n    loading: loadingSpinnerActive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Transition, {\n    items: deleteClientClicked && !loadingSpinnerActive,\n    from: {\n      transform: \"translate3d(0, -65%, 0)\"\n    },\n    enter: {\n      transform: \"translate3d(0, 0, 0)\"\n    },\n    leave: {\n      display: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, deleteClientClicked => deleteClientClicked && (styleprops => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cancel_appointment_modal_content_container\",\n    style: styleprops,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"log_out_modal_contents admin_cancel_appointment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"modal_x\",\n    icon: faTimes,\n    onClick: () => changeDeleteClientClicked(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }, \"Are you sure you want to remove\", \" \", props.item.firstName[0].toUpperCase() + props.item.firstName.slice(1).toLowerCase() + \" \" + props.item.lastName[0].toUpperCase() + props.item.lastName.slice(1).toLowerCase(), \" \", \"as a client?\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"logout_buttons_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logout_button yes_cancel_appointment_button\",\n    onClick: () => handleDeleteClient(props.clientToggled),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }, \"YES, REMOVE\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cancel_logout_button no_dont_cancel_appointment_button\",\n    onClick: () => changeDeleteClientClicked(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 23\n    }\n  }, \"NO, GO BACK\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_client_profile_top_section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_client_profile_client_avatar_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, props.getClientsData ? props.getClientsData.clients.filter(x => x._id === props.clientToggled)[0].profilePicture ? /*#__PURE__*/React.createElement(\"img\", {\n    className: \"admin_individual_client_picture_profile_avatar\" // Uses Encoded URI Component instead of any other compression to support cross-browser compatability\n    ,\n    src: LZString.decompressFromEncodedURIComponent(props.getClientsData.clients.filter(x => x._id === props.clientToggled)[0].profilePicture),\n    alt: props.item.firstName[0].toUpperCase() + props.item.firstName.slice(1).toLowerCase() + \" \" + props.item.lastName[0].toUpperCase() + props.item.lastName.slice(1).toLowerCase() + \" Profile Picture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }) : props.handleProfilePictureRender(props.item) : props.handleProfilePictureRender(props.item), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_individual_selected_client_camera_icon_container\",\n    onClick: () => dispatch(ACTION_ADD_PROFILE_PHOTO_CLICKED()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCamera,\n    className: \"admin_individual_selected_client_camera_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_individual_selected_client_full_name_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, props.item.firstName[0].toUpperCase() + props.item.firstName.slice(1).toLowerCase() + \" \" + props.item.lastName[0].toUpperCase() + props.item.lastName.slice(1).toLowerCase())), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_individual_selected_client_contact_info_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, props.item.email), props.renderBarInContactInfo(), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }, props.item.phoneNumber)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_individual_selected_client_contact_info_container admin_individual_selected_membership_type_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, \"Membership Type: Default\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin_client_profile_bottom_buttons_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile_button_container\",\n    onClick: () => dispatch(ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"profile_button_icon\",\n    icon: faCalendarAlt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }, \"Upcoming Appointments\"), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"profile_button_expand\",\n    icon: faChevronRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile_button_container\",\n    onClick: () => dispatch(ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"profile_button_icon\",\n    icon: faHistory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, \"Past Appointments\"), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"profile_button_expand\",\n    icon: faChevronRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  })), props.renderDownloadConsentFormButton(props.item), props.getEmployeeData ? props.getEmployeeData.employee ? props.getEmployeeData.employee.employeeRole.includes(\"Admin\") ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile_button_container\",\n    onClick: () => changeDeleteClientClicked(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"profile_button_icon\",\n    icon: faTrashAlt,\n    style: {\n      color: \"rgb(177, 48, 0)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      color: \"rgb(177, 48, 0)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 17\n    }\n  }, \"Delete Client\")) : null : null : null));\n};\n\nexport default AdminClientIndividualProfile;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/MERN-barberShops/HEC/Client/src/components/admin/AdminClients/AdminClientIndividualProfile.js"],"names":["React","useCallback","useEffect","useState","LZString","Modal","useDispatch","useSelector","css","BounceLoader","Transition","FontAwesomeIcon","faCamera","faChevronRight","faHistory","faCalendarAlt","faTrashAlt","faTimes","useMutation","deleteClientMutation","ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED","ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED","ACTION_ADD_PROFILE_PHOTO_CLICKED","ACTION_LOADING_SPINNER_ACTIVE","ACTION_LOADING_SPINNER_RESET","AdminClientIndividualProfile","props","dispatch","deleteClientClicked","changeDeleteClientClicked","loadingSpinnerActive","state","loading_spinner","override","deleteClient","loading","data","handleDeleteClient","item","variables","_id","resetStatesAfterLoading","getClientsRefetch","changeClientToggled","loadingFunction","setTimeout","clearTimeout","content","position","zIndex","opacity","height","backdropFilter","WebkitBackdropFilter","paddingBottom","borderRadius","width","top","left","right","bottom","border","display","flexDirection","alignItems","justifyContent","background","transform","styleprops","firstName","toUpperCase","slice","toLowerCase","lastName","clientToggled","getClientsData","clients","filter","x","profilePicture","decompressFromEncodedURIComponent","handleProfilePictureRender","email","renderBarInContactInfo","phoneNumber","renderDownloadConsentFormButton","getEmployeeData","employee","employeeRole","includes","color"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\r\nimport LZString from \"lz-string\";\r\nimport Modal from \"react-modal\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { css } from \"@emotion/css\";\r\nimport BounceLoader from \"react-spinners/BounceLoader\";\r\nimport { Transition } from \"react-spring/renderprops\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCamera,\r\n  faChevronRight,\r\n  faHistory,\r\n  faCalendarAlt,\r\n  faTrashAlt,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport deleteClientMutation from \"../../../graphql/mutations/deleteClientMutation\";\r\nimport ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED from \"../../../actions/Admin/AdminLogin/AdminClientSectionSelected/ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED\";\r\nimport ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED from \"../../../actions/Admin/AdminLogin/AdminClientSectionSelected/ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED\";\r\nimport ACTION_ADD_PROFILE_PHOTO_CLICKED from \"../../../actions/Admin/AddProfilePhotoClicked/ACTION_ADD_PROFILE_PHOTO_CLICKED\";\r\nimport ACTION_LOADING_SPINNER_ACTIVE from \"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_ACTIVE\";\r\nimport ACTION_LOADING_SPINNER_RESET from \"../../../actions/LoadingSpinner/ACTION_LOADING_SPINNER_RESET\";\r\nimport \"./AdminClients.css\";\r\n\r\nconst AdminClientIndividualProfile = (props) => {\r\n  const dispatch = useDispatch();\r\n  const [deleteClientClicked, changeDeleteClientClicked] = useState(false);\r\n  const loadingSpinnerActive = useSelector(\r\n    (state) => state.loadingSpinnerActive.loading_spinner\r\n  );\r\n\r\n  const override = css`\r\n    display: block;\r\n    position: absolute;\r\n    left: 25%;\r\n    right: 25%;\r\n  `;\r\n\r\n  const [deleteClient, { loading, data }] = useMutation(deleteClientMutation);\r\n\r\n  const handleDeleteClient = (item) => {\r\n    deleteClient({\r\n      variables: { _id: item },\r\n    });\r\n\r\n    if (deleteClientClicked) {\r\n      changeDeleteClientClicked(false);\r\n    }\r\n  };\r\n\r\n  const resetStatesAfterLoading = useCallback(() => {\r\n    props.getClientsRefetch();\r\n    dispatch(ACTION_LOADING_SPINNER_RESET());\r\n    props.changeClientToggled(\"\");\r\n  }, [props, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      const loadingFunction = setTimeout(() => resetStatesAfterLoading(), 2000);\r\n      return () => {\r\n        clearTimeout(loadingFunction);\r\n      };\r\n    }\r\n  }, [data, resetStatesAfterLoading]);\r\n\r\n  useEffect(() => {\r\n    if (loading) {\r\n      dispatch(ACTION_LOADING_SPINNER_ACTIVE());\r\n    }\r\n  }, [loading, data, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        isOpen={deleteClientClicked}\r\n        className=\"cancel_appointment_modal\"\r\n        style={{\r\n          content: {\r\n            position: \"fixed\",\r\n            zIndex: 10000,\r\n            opacity: 0.99,\r\n            height: \"100%\",\r\n            backdropFilter: \"blur(5px)\",\r\n            WebkitBackdropFilter: \"blur(5px)\",\r\n            paddingBottom: \"10%\",\r\n            borderRadius: \"none\",\r\n            width: \"100vw\",\r\n            top: \"0\",\r\n            left: \"0\",\r\n            right: \"0\",\r\n            bottom: \"0\",\r\n            border: \"none\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            background: \"rgba(0, 0, 0, 0.5)\",\r\n          },\r\n        }}\r\n      >\r\n        <BounceLoader\r\n          size={100}\r\n          css={override}\r\n          color={\"rgb(44, 44, 52)\"}\r\n          loading={loadingSpinnerActive}\r\n        />\r\n        <Transition\r\n          items={deleteClientClicked && !loadingSpinnerActive}\r\n          from={{ transform: \"translate3d(0, -65%, 0)\" }}\r\n          enter={{ transform: \"translate3d(0, 0, 0)\" }}\r\n          leave={{ display: \"none\" }}\r\n        >\r\n          {(deleteClientClicked) =>\r\n            deleteClientClicked &&\r\n            ((styleprops) => (\r\n              <div\r\n                className=\"cancel_appointment_modal_content_container\"\r\n                style={styleprops}\r\n              >\r\n                <div className=\"log_out_modal_contents admin_cancel_appointment\">\r\n                  <FontAwesomeIcon\r\n                    className=\"modal_x\"\r\n                    icon={faTimes}\r\n                    onClick={() => changeDeleteClientClicked(false)}\r\n                  />\r\n                  <h2>\r\n                    Are you sure you want to remove{\" \"}\r\n                    {props.item.firstName[0].toUpperCase() +\r\n                      props.item.firstName.slice(1).toLowerCase() +\r\n                      \" \" +\r\n                      props.item.lastName[0].toUpperCase() +\r\n                      props.item.lastName.slice(1).toLowerCase()}{\" \"}\r\n                    as a client?\r\n                  </h2>\r\n                  <span className=\"logout_buttons_container\">\r\n                    <div\r\n                      className=\"logout_button yes_cancel_appointment_button\"\r\n                      onClick={() => handleDeleteClient(props.clientToggled)}\r\n                    >\r\n                      <p>YES, REMOVE</p>\r\n                    </div>\r\n                    <div\r\n                      className=\"cancel_logout_button no_dont_cancel_appointment_button\"\r\n                      onClick={() => changeDeleteClientClicked(false)}\r\n                    >\r\n                      <p>NO, GO BACK</p>\r\n                    </div>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))\r\n          }\r\n        </Transition>\r\n      </Modal>\r\n      <div className=\"admin_client_profile_top_section\">\r\n        <div className=\"admin_client_profile_client_avatar_container\">\r\n          {props.getClientsData ? (\r\n            props.getClientsData.clients.filter(\r\n              (x) => x._id === props.clientToggled\r\n            )[0].profilePicture ? (\r\n              <img\r\n                className=\"admin_individual_client_picture_profile_avatar\"\r\n                // Uses Encoded URI Component instead of any other compression to support cross-browser compatability\r\n                src={LZString.decompressFromEncodedURIComponent(\r\n                  props.getClientsData.clients.filter(\r\n                    (x) => x._id === props.clientToggled\r\n                  )[0].profilePicture\r\n                )}\r\n                alt={\r\n                  props.item.firstName[0].toUpperCase() +\r\n                  props.item.firstName.slice(1).toLowerCase() +\r\n                  \" \" +\r\n                  props.item.lastName[0].toUpperCase() +\r\n                  props.item.lastName.slice(1).toLowerCase() +\r\n                  \" Profile Picture\"\r\n                }\r\n              />\r\n            ) : (\r\n              props.handleProfilePictureRender(props.item)\r\n            )\r\n          ) : (\r\n            props.handleProfilePictureRender(props.item)\r\n          )}\r\n          <div\r\n            className=\"admin_individual_selected_client_camera_icon_container\"\r\n            onClick={() => dispatch(ACTION_ADD_PROFILE_PHOTO_CLICKED())}\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faCamera}\r\n              className=\"admin_individual_selected_client_camera_icon\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"admin_individual_selected_client_full_name_container\">\r\n          <h2>\r\n            {props.item.firstName[0].toUpperCase() +\r\n              props.item.firstName.slice(1).toLowerCase() +\r\n              \" \" +\r\n              props.item.lastName[0].toUpperCase() +\r\n              props.item.lastName.slice(1).toLowerCase()}\r\n          </h2>\r\n        </div>\r\n        <div className=\"admin_individual_selected_client_contact_info_container\">\r\n          <p>{props.item.email}</p>\r\n          {props.renderBarInContactInfo()}\r\n          <p>{props.item.phoneNumber}</p>\r\n        </div>\r\n        <div className=\"admin_individual_selected_client_contact_info_container admin_individual_selected_membership_type_container\">\r\n          <p>Membership Type: Default</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin_client_profile_bottom_buttons_container\">\r\n        <div\r\n          className=\"profile_button_container\"\r\n          onClick={() =>\r\n            dispatch(ACTION_ADMIN_CLIENT_UPCOMING_APPOINTMENTS_SELECTED())\r\n          }\r\n        >\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_icon\"\r\n            icon={faCalendarAlt}\r\n          />\r\n          <h2>Upcoming Appointments</h2>\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_expand\"\r\n            icon={faChevronRight}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"profile_button_container\"\r\n          onClick={() =>\r\n            dispatch(ACTION_ADMIN_CLIENT_PAST_APPOINTMENTS_SELECTED())\r\n          }\r\n        >\r\n          <FontAwesomeIcon className=\"profile_button_icon\" icon={faHistory} />\r\n          <h2>Past Appointments</h2>\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_expand\"\r\n            icon={faChevronRight}\r\n          />\r\n        </div>\r\n        {/* <div className=\"profile_button_container\">\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_icon\"\r\n            icon={faCommentDots}\r\n          />\r\n          <h2>Recommended Routine</h2>\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_expand\"\r\n            icon={faChevronRight}\r\n          />\r\n        </div>\r\n        <div className=\"profile_button_container\">\r\n          <FontAwesomeIcon className=\"profile_button_icon\" icon={faSpa} />\r\n          <h2>\r\n            {props.item.firstName[0].toUpperCase() +\r\n              props.item.firstName.slice(1).toLowerCase()}\r\n            's Skin Care Routine\r\n          </h2>\r\n          <FontAwesomeIcon\r\n            className=\"profile_button_expand\"\r\n            icon={faChevronRight}\r\n          />\r\n        </div> */}\r\n        {props.renderDownloadConsentFormButton(props.item)}\r\n        {props.getEmployeeData ? (\r\n          props.getEmployeeData.employee ? (\r\n            props.getEmployeeData.employee.employeeRole.includes(\"Admin\") ? (\r\n              <div\r\n                className=\"profile_button_container\"\r\n                onClick={() => changeDeleteClientClicked(true)}\r\n              >\r\n                <FontAwesomeIcon\r\n                  className=\"profile_button_icon\"\r\n                  icon={faTrashAlt}\r\n                  style={{ color: \"rgb(177, 48, 0)\" }}\r\n                />\r\n                <h2 style={{ color: \"rgb(177, 48, 0)\" }}>Delete Client</h2>\r\n              </div>\r\n            ) : null\r\n          ) : null\r\n        ) : null}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminClientIndividualProfile;\r\n"]},"metadata":{},"sourceType":"module"}