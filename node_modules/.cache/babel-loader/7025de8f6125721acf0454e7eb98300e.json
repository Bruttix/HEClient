{"ast":null,"code":"import _slicedToArray from \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\backup-July4\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\WebProjects\\\\Barbershops\\\\MERN-barberShops\\\\backup-July4\\\\Client\\\\src\\\\components\\\\account\\\\clientprofile\\\\ClientProfile.js\";\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHome, faFileSignature, faCalendarCheck, faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport moment from \"moment\";\nimport ACTION_CONSENT_FORM_LAST_UPDATED from \"../../../actions/ConsentForm/LastUpdated/ACTION_CONSENT_FORM_LAST_UPDATED\";\nimport ACTION_SPLASH_SCREEN_COMPLETE from \"../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";\nimport ACTION_SPLASH_SCREEN_HALFWAY from \"../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";\nimport ACTION_BODY_SCROLL_ALLOW from \"../../../actions/Body_Scroll/ACTION_BODY_SCROLL_ALLOW\";\nimport ACTION_LOGIN_IS_NOT_ACTIVE from \"../../../actions/Login/ACTION_LOGIN_IS_NOT_ACTIVE\";\nimport \"./ClientProfile.css\";\nimport \"../../../components/treatments/card_styling.css\";\n\nconst ClientProfile = props => {\n  const dispatch = useDispatch();\n  const splashScreenHalfway = useSelector(state => state.splashScreenHalfway.splashScreenHalfway);\n  const splashScreenComplete = useSelector(state => state.splashScreenComplete.splashScreenComplete);\n  const userAuthenticated = useSelector(state => state.userAuthenticated.user_authenticated);\n  const consentFormLastPageOpened = useSelector(state => state.consentFormLastPageOpened.consent_form_active_page);\n  const consentFormLastUpdated = useSelector(state => state.consentFormLastUpdated.consent_form_last_updated);\n  const loginIsActive = useSelector(state => state.loginIsActive.login_is_active);\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        pdfLoading = _useState2[0],\n        changePDFLoading = _useState2[1];\n\n  useMemo(() => {\n    if (!props.called) {\n      props.getOwnAppointments();\n    }\n  }, [props]);\n  useMemo(() => {\n    if (!props.pastAppointmentsCalled) {\n      props.getOwnPastAppointments();\n    }\n  }, [props]);\n  useEffect(() => {\n    if (!splashScreenComplete) {\n      dispatch(ACTION_SPLASH_SCREEN_COMPLETE());\n    }\n\n    if (!splashScreenHalfway) {\n      dispatch(ACTION_SPLASH_SCREEN_HALFWAY());\n    }\n  }, [dispatch, splashScreenComplete, splashScreenHalfway]);\n  useMemo(() => {\n    if (props.getClientData && props.getClientData.client && props.getClientData.client.consentForm.date) {\n      if (consentFormLastUpdated !== moment.unix(props.getClientData.client.consentForm.createdAt / 1000).format(\"l\")) {\n        dispatch(ACTION_CONSENT_FORM_LAST_UPDATED(moment.unix(props.getClientData.client.consentForm.createdAt / 1000).format(\"l\")));\n      }\n    }\n  }, [props.getClientData, consentFormLastUpdated, dispatch]);\n  useEffect(() => {\n    if (loginIsActive) {\n      dispatch(ACTION_LOGIN_IS_NOT_ACTIVE());\n    }\n  }, [dispatch, loginIsActive]);\n\n  const redirectToLogInPage = () => {\n    if (!userAuthenticated) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/account/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 14\n        }\n      });\n    }\n  };\n\n  const redirectToUpcomingAppointments = () => {\n    if (userAuthenticated) {\n      if (!props.currentScreenSize) {\n        if (props.initialScreenSize >= 1200) {\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/account/clientprofile/upcomingappointments\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 18\n            }\n          });\n        }\n      } else {\n        if (props.currentScreenSize >= 1200) {\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/account/clientprofile/upcomingappointments\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 18\n            }\n          });\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      if (pdfLoading) {\n        changePDFLoading(false);\n      }\n    };\n  }, [pdfLoading]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"client_profile_page_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, redirectToLogInPage(), redirectToUpcomingAppointments(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"client_profile_page_header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, \"MENU\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"client_profile_page_content_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile_home_box_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"profile_box_container_link\",\n    to: \"/\",\n    onClick: () => dispatch(ACTION_BODY_SCROLL_ALLOW()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faHome,\n    className: \"profile_box_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, \"HOME\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile_consent_form_box_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"profile_box_container_link\",\n    to: \"/account/clientprofile/consentform/\".concat(consentFormLastPageOpened),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faFileSignature,\n    className: \"profile_box_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, \"CONSENT FORM\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile_my_appointments_box_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"profile_box_container_link\",\n    to: \"/account/clientprofile/upcomingappointments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCalendarCheck,\n    className: \"profile_box_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, \"MY APPOINTMENTS\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile_my_profile_box_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"profile_box_container_link\",\n    to: \"/account/clientprofile/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faUser,\n    className: \"profile_box_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, \"MY PROFILE\")))));\n};\n\nexport default ClientProfile;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/MERN-barberShops/backup-July4/Client/src/components/account/clientprofile/ClientProfile.js"],"names":["React","useEffect","useState","useMemo","Redirect","Link","useSelector","useDispatch","FontAwesomeIcon","faHome","faFileSignature","faCalendarCheck","faUser","moment","ACTION_CONSENT_FORM_LAST_UPDATED","ACTION_SPLASH_SCREEN_COMPLETE","ACTION_SPLASH_SCREEN_HALFWAY","ACTION_BODY_SCROLL_ALLOW","ACTION_LOGIN_IS_NOT_ACTIVE","ClientProfile","props","dispatch","splashScreenHalfway","state","splashScreenComplete","userAuthenticated","user_authenticated","consentFormLastPageOpened","consent_form_active_page","consentFormLastUpdated","consent_form_last_updated","loginIsActive","login_is_active","pdfLoading","changePDFLoading","called","getOwnAppointments","pastAppointmentsCalled","getOwnPastAppointments","getClientData","client","consentForm","date","unix","createdAt","format","redirectToLogInPage","redirectToUpcomingAppointments","currentScreenSize","initialScreenSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faHome,\r\n  faFileSignature,\r\n  faCalendarCheck,\r\n  faUser,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport moment from \"moment\";\r\nimport ACTION_CONSENT_FORM_LAST_UPDATED from \"../../../actions/ConsentForm/LastUpdated/ACTION_CONSENT_FORM_LAST_UPDATED\";\r\nimport ACTION_SPLASH_SCREEN_COMPLETE from \"../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";\r\nimport ACTION_SPLASH_SCREEN_HALFWAY from \"../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";\r\nimport ACTION_BODY_SCROLL_ALLOW from \"../../../actions/Body_Scroll/ACTION_BODY_SCROLL_ALLOW\";\r\nimport ACTION_LOGIN_IS_NOT_ACTIVE from \"../../../actions/Login/ACTION_LOGIN_IS_NOT_ACTIVE\";\r\nimport \"./ClientProfile.css\";\r\nimport \"../../../components/treatments/card_styling.css\";\r\n\r\nconst ClientProfile = (props) => {\r\n  const dispatch = useDispatch();\r\n  const splashScreenHalfway = useSelector(\r\n    (state) => state.splashScreenHalfway.splashScreenHalfway\r\n  );\r\n  const splashScreenComplete = useSelector(\r\n    (state) => state.splashScreenComplete.splashScreenComplete\r\n  );\r\n  const userAuthenticated = useSelector(\r\n    (state) => state.userAuthenticated.user_authenticated\r\n  );\r\n  const consentFormLastPageOpened = useSelector(\r\n    (state) => state.consentFormLastPageOpened.consent_form_active_page\r\n  );\r\n  const consentFormLastUpdated = useSelector(\r\n    (state) => state.consentFormLastUpdated.consent_form_last_updated\r\n  );\r\n  const loginIsActive = useSelector(\r\n    (state) => state.loginIsActive.login_is_active\r\n  );\r\n  const [pdfLoading, changePDFLoading] = useState(false);\r\n\r\n  useMemo(() => {\r\n    if (!props.called) {\r\n      props.getOwnAppointments();\r\n    }\r\n  }, [props]);\r\n\r\n  useMemo(() => {\r\n    if (!props.pastAppointmentsCalled) {\r\n      props.getOwnPastAppointments();\r\n    }\r\n  }, [props]);\r\n\r\n  useEffect(() => {\r\n    if (!splashScreenComplete) {\r\n      dispatch(ACTION_SPLASH_SCREEN_COMPLETE());\r\n    }\r\n    if (!splashScreenHalfway) {\r\n      dispatch(ACTION_SPLASH_SCREEN_HALFWAY());\r\n    }\r\n  }, [dispatch, splashScreenComplete, splashScreenHalfway]);\r\n\r\n  useMemo(() => {\r\n    if (\r\n      props.getClientData &&\r\n      props.getClientData.client &&\r\n      props.getClientData.client.consentForm.date\r\n    ) {\r\n      if (\r\n        consentFormLastUpdated !==\r\n        moment\r\n          .unix(props.getClientData.client.consentForm.createdAt / 1000)\r\n          .format(\"l\")\r\n      ) {\r\n        dispatch(\r\n          ACTION_CONSENT_FORM_LAST_UPDATED(\r\n            moment\r\n              .unix(props.getClientData.client.consentForm.createdAt / 1000)\r\n              .format(\"l\")\r\n          )\r\n        );\r\n      }\r\n    }\r\n  }, [props.getClientData, consentFormLastUpdated, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (loginIsActive) {\r\n      dispatch(ACTION_LOGIN_IS_NOT_ACTIVE());\r\n    }\r\n  }, [dispatch, loginIsActive]);\r\n\r\n  const redirectToLogInPage = () => {\r\n    if (!userAuthenticated) {\r\n      return <Redirect to=\"/account/login\" />;\r\n    }\r\n  };\r\n\r\n  const redirectToUpcomingAppointments = () => {\r\n    if (userAuthenticated) {\r\n      if (!props.currentScreenSize) {\r\n        if (props.initialScreenSize >= 1200) {\r\n          return <Redirect to=\"/account/clientprofile/upcomingappointments\" />;\r\n        }\r\n      } else {\r\n        if (props.currentScreenSize >= 1200) {\r\n          return <Redirect to=\"/account/clientprofile/upcomingappointments\" />;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (pdfLoading) {\r\n        changePDFLoading(false);\r\n      }\r\n    };\r\n  }, [pdfLoading]);\r\n\r\n  return (\r\n    <div className=\"client_profile_page_container\">\r\n      {redirectToLogInPage()}\r\n      {redirectToUpcomingAppointments()}\r\n      <div className=\"client_profile_page_header\">\r\n        <h1>MENU</h1>\r\n      </div>\r\n      <div className=\"client_profile_page_content_container\">\r\n        <div className=\"profile_home_box_container\">\r\n          <Link\r\n            className=\"profile_box_container_link\"\r\n            to=\"/\"\r\n            onClick={() => dispatch(ACTION_BODY_SCROLL_ALLOW())}\r\n          >\r\n            <FontAwesomeIcon icon={faHome} className=\"profile_box_icon\" />\r\n            <h2>HOME</h2>\r\n          </Link>\r\n        </div>\r\n        <div className=\"profile_consent_form_box_container\">\r\n          <Link\r\n            className=\"profile_box_container_link\"\r\n            to={`/account/clientprofile/consentform/${consentFormLastPageOpened}`}\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faFileSignature}\r\n              className=\"profile_box_icon\"\r\n            />\r\n            <h2>CONSENT FORM</h2>\r\n          </Link>\r\n        </div>\r\n        <div className=\"profile_my_appointments_box_container\">\r\n          <Link\r\n            className=\"profile_box_container_link\"\r\n            to={\"/account/clientprofile/upcomingappointments\"}\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faCalendarCheck}\r\n              className=\"profile_box_icon\"\r\n            />\r\n            <h2>MY APPOINTMENTS</h2>\r\n          </Link>\r\n        </div>\r\n        <div className=\"profile_my_profile_box_container\">\r\n          <Link\r\n            className=\"profile_box_container_link\"\r\n            to={\"/account/clientprofile/profile\"}\r\n          >\r\n            <FontAwesomeIcon icon={faUser} className=\"profile_box_icon\" />\r\n            <h2>MY PROFILE</h2>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientProfile;\r\n"]},"metadata":{},"sourceType":"module"}