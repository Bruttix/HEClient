{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\WebProjects\\\\Barbershops\\\\HighEnd\\\\Client\\\\src\\\\components\\\\account\\\\clientprofile\\\\MyAppointments\\\\Upcoming\\\\UpcomingAppointments.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n    display: block;\\n    position: absolute;\\n    left: 25%;\\n    right: 25%;\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useState, useRef, useCallback, useMemo } from \"react\";\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport CalmSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/CalmSummaryCard\";\nimport BacialSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/BacialSummaryCard\";\nimport ClarifySummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/ClarifySummaryCard\";\nimport DermaplaningSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/DermaplaningSummaryCard\";\nimport GlowSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/GlowSummaryCard\";\nimport QuenchSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/QuenchSummaryCard\";\nimport QuickieSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/QuickieSummaryCard\";\nimport ChemicalPeelSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/ChemicalPeelSummaryCard\";\nimport CBDSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/CBDSummaryCard\";\nimport MicroneedleSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/MicroneedleSummaryCard\";\nimport RejuvenateSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/RejuvenateSummaryCard\";\nimport ExtraExtractionsSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/ExtraExtractionsCard\";\nimport HydroJellyMaskSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/HydroJellyMaskSummaryCard\";\nimport LEDTherapySummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/LEDTherapySummaryCard\";\nimport MicrocurrentSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/MicrocurrentSummaryCard\";\nimport MicrodermabrasionSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/MicrodermabrasionSummaryCard\";\nimport DermarollingSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/DermarollingSummaryCard\";\nimport NanoNeedlingSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/NanoNeedlingSummaryCard\";\nimport GuaShaSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/GuaShaSummaryCard\";\nimport BeardSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/BeardSummaryCard\";\nimport { css } from \"@emotion/css\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport deleteAppointmentMutation from \"../../../../../graphql/mutations/deleteAppointmentMutation\";\nimport UnsureSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/UnsureSummaryCard\";\nimport ClientRenderUpcomingAppointments from \"./ClientRenderUpcomingAppointments\";\nimport SaltCaveSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/SaltCaveSummaryCard\";\nimport ACTION_SPLASH_SCREEN_COMPLETE from \"../../../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";\nimport ACTION_SPLASH_SCREEN_HALFWAY from \"../../../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";\nimport ACTION_CANCEL_APPOINTMENT_CLICKED_RESET from \"../../../../../actions/CancelAppointmentClicked/ACTION_CANCEL_APPOINTMENT_CLICKED_RESET\";\nimport \"../MyAppointments.css\";\n\nconst UpcomingAppointments = props => {\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const refetch = props.refetch,\n        initialScreenSize = props.initialScreenSize,\n        currentScreenSize = props.currentScreenSize,\n        loadingAppointments = props.loadingAppointments,\n        upcomingAppointmentsData = props.upcomingAppointmentsData,\n        upcomingAppointmentsCalled = props.upcomingAppointmentsCalled,\n        getOwnAppointments = props.getOwnAppointments;\n  const individualAppointmentRef = useRef(null);\n  const selectedAppointmentBackRef = useRef(null);\n  const backToAppointmentsRef = useRef(null);\n  const splashScreenComplete = useSelector(state => state.splashScreenComplete.splashScreenComplete);\n  const splashScreenHalfway = useSelector(state => state.splashScreenHalfway.splashScreenHalfway);\n  const userAuthenticated = useSelector(state => state.userAuthenticated.user_authenticated);\n  const logoutClicked = useSelector(state => state.logoutClicked.log_out_clicked);\n  const adminAuthenticated = useSelector(state => state.adminAuthenticated.admin_authenticated);\n  const cancelAppointmentClicked = useSelector(state => state.cancelAppointmentClicked.cancelAppointmentClicked);\n  const pdfLoading = useSelector(state => state.pdfLoading.pdf_loading);\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        appointmentToggled = _useState2[0],\n        changeAppointmentToggled = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        loadingSpinnerActive = _useState4[0],\n        changeLoadingSpinnerActive = _useState4[1];\n\n  const _useMutation = useMutation(deleteAppointmentMutation),\n        _useMutation2 = _slicedToArray(_useMutation, 2),\n        deleteAppointment = _useMutation2[0],\n        _useMutation2$ = _useMutation2[1],\n        loading = _useMutation2$.loading,\n        deleteAppointmentData = _useMutation2$.data;\n\n  const override = css(_templateObject());\n\n  const handleCancelAppointment = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(item) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return deleteAppointment({\n              variables: {\n                _id: item.id\n              }\n            }).then(() => {\n              setTimeout(() => refetch(), 1000);\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function handleCancelAppointment(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const resetStatesAfterLoading = useCallback(() => {\n    refetch();\n    changeLoadingSpinnerActive(false);\n    dispatch(ACTION_CANCEL_APPOINTMENT_CLICKED_RESET());\n    changeAppointmentToggled(false);\n  }, [dispatch, refetch]);\n  useEffect(() => {\n    if (deleteAppointmentData) {\n      const loadingFunction = setTimeout(() => resetStatesAfterLoading(), 2000);\n      return () => {\n        clearTimeout(loadingFunction);\n      };\n    }\n  }, [deleteAppointmentData, resetStatesAfterLoading]);\n  useEffect(() => {\n    if (loading) {\n      changeLoadingSpinnerActive(true);\n    }\n  }, [loading, deleteAppointmentData]);\n  useEffect(() => {\n    if (!splashScreenComplete) {\n      dispatch(ACTION_SPLASH_SCREEN_COMPLETE());\n    }\n\n    if (!splashScreenHalfway) {\n      dispatch(ACTION_SPLASH_SCREEN_HALFWAY());\n    }\n  }, [dispatch, splashScreenComplete, splashScreenHalfway]);\n\n  const redirectToLogInPage = () => {\n    if (!userAuthenticated && !adminAuthenticated) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/account/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 14\n        }\n      });\n    }\n  };\n\n  useMemo(() => {\n    if (!upcomingAppointmentsCalled) {\n      getOwnAppointments();\n    }\n  }, [getOwnAppointments, upcomingAppointmentsCalled]);\n  useEffect(() => {\n    if (location.pathname) {\n      window.scrollTo(0, 0);\n    }\n  }, [location.pathname]);\n  const treatmentsSummaryCardComponentsArr = [{\n    name: \"Calm\",\n    component: /*#__PURE__*/React.createElement(CalmSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 32\n      }\n    })\n  }, {\n    name: \"Bacial\",\n    component: /*#__PURE__*/React.createElement(BacialSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 34\n      }\n    })\n  }, {\n    name: \"Clarify\",\n    component: /*#__PURE__*/React.createElement(ClarifySummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 35\n      }\n    })\n  }, {\n    name: \"Dermaplaning\",\n    component: /*#__PURE__*/React.createElement(DermaplaningSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 40\n      }\n    })\n  }, {\n    name: \"Glow\",\n    component: /*#__PURE__*/React.createElement(GlowSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 32\n      }\n    })\n  }, {\n    name: \"Quench\",\n    component: /*#__PURE__*/React.createElement(QuenchSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 34\n      }\n    })\n  }, {\n    name: \"Quickie\",\n    component: /*#__PURE__*/React.createElement(QuickieSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 35\n      }\n    })\n  }, {\n    name: \"ChemicalPeel\",\n    component: /*#__PURE__*/React.createElement(ChemicalPeelSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 40\n      }\n    })\n  }, {\n    name: \"CBD\",\n    component: /*#__PURE__*/React.createElement(CBDSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 31\n      }\n    })\n  }, {\n    name: \"Microneedling\",\n    component: /*#__PURE__*/React.createElement(MicroneedleSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 41\n      }\n    })\n  }, {\n    name: \"Rejuvenate\",\n    component: /*#__PURE__*/React.createElement(RejuvenateSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 38\n      }\n    })\n  }, {\n    name: \"Not Sure\",\n    component: /*#__PURE__*/React.createElement(UnsureSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 36\n      }\n    })\n  }, {\n    name: \"Salt Cave\",\n    component: /*#__PURE__*/React.createElement(SaltCaveSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 37\n      }\n    })\n  }];\n  const addOnsSummaryCardComponentsArr = [{\n    name: \"ExtraExtractions\",\n    component: /*#__PURE__*/React.createElement(ExtraExtractionsSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 44\n      }\n    })\n  }, {\n    name: \"HydroJelly\",\n    component: /*#__PURE__*/React.createElement(HydroJellyMaskSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 38\n      }\n    })\n  }, {\n    name: \"LED\",\n    component: /*#__PURE__*/React.createElement(LEDTherapySummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 31\n      }\n    })\n  }, {\n    name: \"Microcurrent\",\n    component: /*#__PURE__*/React.createElement(MicrocurrentSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 40\n      }\n    })\n  }, {\n    name: \"Microdermabrasion\",\n    component: /*#__PURE__*/React.createElement(MicrodermabrasionSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 45\n      }\n    })\n  }, {\n    name: \"Dermarolling\",\n    component: /*#__PURE__*/React.createElement(DermarollingSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 40\n      }\n    })\n  }, {\n    name: \"NanoNeedling\",\n    component: /*#__PURE__*/React.createElement(NanoNeedlingSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 40\n      }\n    })\n  }, {\n    name: \"GuaSha\",\n    component: /*#__PURE__*/React.createElement(GuaShaSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 34\n      }\n    })\n  }, {\n    name: \"Beard\",\n    component: /*#__PURE__*/React.createElement(BeardSummaryCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 33\n      }\n    })\n  }];\n\n  const renderSummaryCardTreatments = dataIndex => {\n    let componentsArr = [];\n\n    for (let i = 0; i < treatmentsSummaryCardComponentsArr.length; i++) {\n      if (upcomingAppointmentsData) {\n        if (upcomingAppointmentsData.own_appointments) {\n          if (upcomingAppointmentsData.own_appointments[dataIndex].treatments) {\n            if (upcomingAppointmentsData.own_appointments[dataIndex].treatments[0].name) {\n              if (upcomingAppointmentsData.own_appointments[dataIndex].treatments[0].name === treatmentsSummaryCardComponentsArr[i].name) {\n                componentsArr.push(treatmentsSummaryCardComponentsArr[i].component);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return componentsArr.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"my_selected_appointment_treatment_container\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 7\n      }\n    }, item));\n  };\n\n  const renderSummaryCardAddOns = dataIndex => {\n    let componentsArr = [];\n\n    for (let i = 0; i < addOnsSummaryCardComponentsArr.length; i++) {\n      for (let j = 0; j < upcomingAppointmentsData.own_appointments[dataIndex].addOns.length; j++) {\n        if (upcomingAppointmentsData) {\n          if (upcomingAppointmentsData.own_appointments) {\n            if (upcomingAppointmentsData.own_appointments[dataIndex].addOns !== []) {\n              if (upcomingAppointmentsData.own_appointments[dataIndex].addOns[j].name) {\n                if (upcomingAppointmentsData.own_appointments[dataIndex].addOns[j].name === addOnsSummaryCardComponentsArr[i].name) {\n                  componentsArr.push(addOnsSummaryCardComponentsArr[i].component);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return componentsArr.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"my_selected_appointment_treatment_container\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 7\n      }\n    }, item));\n  }; // Allows click only if selected appointment modal is not active\n\n\n  const handleAppointmentToggled = (e, item) => {\n    if (e.currentTarget && individualAppointmentRef) {\n      if (individualAppointmentRef.current) {\n        if (individualAppointmentRef.current.className === e.currentTarget.className) {\n          if (selectedAppointmentBackRef) {\n            if (!selectedAppointmentBackRef.current) {\n              if (item) {\n                if (item.id) {\n                  changeAppointmentToggled(item.id);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }; // Function for back arrow click to reset selected toggled appointment\n\n\n  const handleAppointmentUntoggled = e => {\n    if (e.currentTarget && selectedAppointmentBackRef || e.currentTarget && backToAppointmentsRef) {\n      if (selectedAppointmentBackRef.current || backToAppointmentsRef.current) {\n        if (selectedAppointmentBackRef.current.className === e.currentTarget.className || backToAppointmentsRef.current.className === e.currentTarget.className) {\n          changeAppointmentToggled(\"\");\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my_appointments_container\",\n    style: {\n      height: upcomingAppointmentsData ? upcomingAppointmentsData.own_appointments.length > 4 ? \"100%\" : \"100vh\" : \"100vh\",\n      zIndex: logoutClicked || pdfLoading ? -1 : \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 5\n    }\n  }, redirectToLogInPage(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my_appointments_header\",\n    style: {\n      zIndex: cancelAppointmentClicked ? 0 : 3,\n      filter: cancelAppointmentClicked ? \"blur(5px)\" : \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }\n  }, adminAuthenticated ? null : /*#__PURE__*/React.createElement(Link, {\n    to: \"/account/clientprofile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"my_appointments_header_back_arrow\",\n    icon: faChevronLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }\n  }, adminAuthenticated ? \"CLIENT\" : \"MY\", \" \", !currentScreenSize ? initialScreenSize >= 1200 ? \"UPCOMING \" : null : currentScreenSize >= 1200 ? \"UPCOMING \" : null, \"APPOINTMENTS\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my_appointments_sub_header\",\n    style: {\n      zIndex: logoutClicked ? -1 : 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upcoming_appointments_upcoming_title_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 13\n    }\n  }, \"UPCOMING\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/account/clientprofile/pastappointments\",\n    className: \"sub_header_container_link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upcoming_appointments_past_title_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 15\n    }\n  }, \"PAST\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my_appointments_content_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ClientRenderUpcomingAppointments, {\n    upcomingAppointmentsData: upcomingAppointmentsData,\n    loadingAppointments: loadingAppointments,\n    handleAppointmentToggled: handleAppointmentToggled,\n    handleAppointmentUntoggled: handleAppointmentUntoggled,\n    handleCancelAppointment: handleCancelAppointment,\n    individualAppointmentRef: individualAppointmentRef,\n    appointmentToggled: appointmentToggled,\n    override: override,\n    renderSummaryCardAddOns: renderSummaryCardAddOns,\n    renderSummaryCardTreatments: renderSummaryCardTreatments,\n    cancelAppointmentClicked: cancelAppointmentClicked,\n    changeLoadingSpinnerActive: changeLoadingSpinnerActive,\n    loadingSpinnerActive: loadingSpinnerActive,\n    ref: {\n      individualAppointmentRef: individualAppointmentRef,\n      selectedAppointmentBackRef: selectedAppointmentBackRef,\n      backToAppointmentsRef: backToAppointmentsRef\n    },\n    currentScreenSize: currentScreenSize,\n    initialScreenSize: initialScreenSize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default UpcomingAppointments;","map":{"version":3,"sources":["D:/WebProjects/Barbershops/HighEnd/Client/src/components/account/clientprofile/MyAppointments/Upcoming/UpcomingAppointments.js"],"names":["React","useEffect","useState","useRef","useCallback","useMemo","Redirect","Link","useLocation","FontAwesomeIcon","faChevronLeft","useSelector","useDispatch","CalmSummaryCard","BacialSummaryCard","ClarifySummaryCard","DermaplaningSummaryCard","GlowSummaryCard","QuenchSummaryCard","QuickieSummaryCard","ChemicalPeelSummaryCard","CBDSummaryCard","MicroneedleSummaryCard","RejuvenateSummaryCard","ExtraExtractionsSummaryCard","HydroJellyMaskSummaryCard","LEDTherapySummaryCard","MicrocurrentSummaryCard","MicrodermabrasionSummaryCard","DermarollingSummaryCard","NanoNeedlingSummaryCard","GuaShaSummaryCard","BeardSummaryCard","css","useMutation","deleteAppointmentMutation","UnsureSummaryCard","ClientRenderUpcomingAppointments","SaltCaveSummaryCard","ACTION_SPLASH_SCREEN_COMPLETE","ACTION_SPLASH_SCREEN_HALFWAY","ACTION_CANCEL_APPOINTMENT_CLICKED_RESET","UpcomingAppointments","props","location","dispatch","refetch","initialScreenSize","currentScreenSize","loadingAppointments","upcomingAppointmentsData","upcomingAppointmentsCalled","getOwnAppointments","individualAppointmentRef","selectedAppointmentBackRef","backToAppointmentsRef","splashScreenComplete","state","splashScreenHalfway","userAuthenticated","user_authenticated","logoutClicked","log_out_clicked","adminAuthenticated","admin_authenticated","cancelAppointmentClicked","pdfLoading","pdf_loading","appointmentToggled","changeAppointmentToggled","loadingSpinnerActive","changeLoadingSpinnerActive","deleteAppointment","loading","deleteAppointmentData","data","override","handleCancelAppointment","item","variables","_id","id","then","setTimeout","resetStatesAfterLoading","loadingFunction","clearTimeout","redirectToLogInPage","pathname","window","scrollTo","treatmentsSummaryCardComponentsArr","name","component","addOnsSummaryCardComponentsArr","renderSummaryCardTreatments","dataIndex","componentsArr","i","length","own_appointments","treatments","push","map","index","renderSummaryCardAddOns","j","addOns","handleAppointmentToggled","e","currentTarget","current","className","handleAppointmentUntoggled","height","zIndex","filter"],"mappings":"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","sourcesContent":["import React, {\r\n  useEffect,\r\n  useState,\r\n  useRef,\r\n  useCallback,\r\n  useMemo,\r\n} from \"react\";\r\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faChevronLeft } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport CalmSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/CalmSummaryCard\";\r\nimport BacialSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/BacialSummaryCard\";\r\nimport ClarifySummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/ClarifySummaryCard\";\r\nimport DermaplaningSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/DermaplaningSummaryCard\";\r\nimport GlowSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/GlowSummaryCard\";\r\nimport QuenchSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/QuenchSummaryCard\";\r\nimport QuickieSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/QuickieSummaryCard\";\r\nimport ChemicalPeelSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/ChemicalPeelSummaryCard\";\r\nimport CBDSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/CBDSummaryCard\";\r\nimport MicroneedleSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/MicroneedleSummaryCard\";\r\nimport RejuvenateSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/RejuvenateSummaryCard\";\r\nimport ExtraExtractionsSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/ExtraExtractionsCard\";\r\nimport HydroJellyMaskSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/HydroJellyMaskSummaryCard\";\r\nimport LEDTherapySummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/LEDTherapySummaryCard\";\r\nimport MicrocurrentSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/MicrocurrentSummaryCard\";\r\nimport MicrodermabrasionSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/MicrodermabrasionSummaryCard\";\r\nimport DermarollingSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/DermarollingSummaryCard\";\r\nimport NanoNeedlingSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/NanoNeedlingSummaryCard\";\r\nimport GuaShaSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/GuaShaSummaryCard\";\r\nimport BeardSummaryCard from \"../../../../checkout/SummaryReviewCards/AddOns/BeardSummaryCard\";\r\nimport { css } from \"@emotion/css\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport deleteAppointmentMutation from \"../../../../../graphql/mutations/deleteAppointmentMutation\";\r\nimport UnsureSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/UnsureSummaryCard\";\r\nimport ClientRenderUpcomingAppointments from \"./ClientRenderUpcomingAppointments\";\r\nimport SaltCaveSummaryCard from \"../../../../checkout/SummaryReviewCards/Treatments/SaltCaveSummaryCard\";\r\nimport ACTION_SPLASH_SCREEN_COMPLETE from \"../../../../../actions/SplashScreenComplete/ACTION_SPLASH_SCREEN_COMPLETE\";\r\nimport ACTION_SPLASH_SCREEN_HALFWAY from \"../../../../../actions/SplashScreenHalfway/ACTION_SPLASH_SCREEN_HALFWAY\";\r\nimport ACTION_CANCEL_APPOINTMENT_CLICKED_RESET from \"../../../../../actions/CancelAppointmentClicked/ACTION_CANCEL_APPOINTMENT_CLICKED_RESET\";\r\nimport \"../MyAppointments.css\";\r\n\r\nconst UpcomingAppointments = (props) => {\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const {\r\n    refetch,\r\n    initialScreenSize,\r\n    currentScreenSize,\r\n    loadingAppointments,\r\n    upcomingAppointmentsData,\r\n    upcomingAppointmentsCalled,\r\n    getOwnAppointments,\r\n  } = props;\r\n\r\n  const individualAppointmentRef = useRef(null);\r\n  const selectedAppointmentBackRef = useRef(null);\r\n  const backToAppointmentsRef = useRef(null);\r\n\r\n  const splashScreenComplete = useSelector(\r\n    (state) => state.splashScreenComplete.splashScreenComplete\r\n  );\r\n  const splashScreenHalfway = useSelector(\r\n    (state) => state.splashScreenHalfway.splashScreenHalfway\r\n  );\r\n  const userAuthenticated = useSelector(\r\n    (state) => state.userAuthenticated.user_authenticated\r\n  );\r\n  const logoutClicked = useSelector(\r\n    (state) => state.logoutClicked.log_out_clicked\r\n  );\r\n  const adminAuthenticated = useSelector(\r\n    (state) => state.adminAuthenticated.admin_authenticated\r\n  );\r\n  const cancelAppointmentClicked = useSelector(\r\n    (state) => state.cancelAppointmentClicked.cancelAppointmentClicked\r\n  );\r\n  const pdfLoading = useSelector((state) => state.pdfLoading.pdf_loading);\r\n  const [appointmentToggled, changeAppointmentToggled] = useState(\"\");\r\n  const [loadingSpinnerActive, changeLoadingSpinnerActive] = useState(false);\r\n  const [\r\n    deleteAppointment,\r\n    { loading, data: deleteAppointmentData },\r\n  ] = useMutation(deleteAppointmentMutation);\r\n\r\n  const override = css`\r\n    display: block;\r\n    position: absolute;\r\n    left: 25%;\r\n    right: 25%;\r\n  `;\r\n\r\n  const handleCancelAppointment = async (item) => {\r\n    await deleteAppointment({\r\n      variables: { _id: item.id },\r\n    }).then(() => {\r\n      setTimeout(() => refetch(), 1000);\r\n    });\r\n  };\r\n\r\n  const resetStatesAfterLoading = useCallback(() => {\r\n    refetch();\r\n    changeLoadingSpinnerActive(false);\r\n    dispatch(ACTION_CANCEL_APPOINTMENT_CLICKED_RESET());\r\n    changeAppointmentToggled(false);\r\n  }, [dispatch, refetch]);\r\n\r\n  useEffect(() => {\r\n    if (deleteAppointmentData) {\r\n      const loadingFunction = setTimeout(() => resetStatesAfterLoading(), 2000);\r\n      return () => {\r\n        clearTimeout(loadingFunction);\r\n      };\r\n    }\r\n  }, [deleteAppointmentData, resetStatesAfterLoading]);\r\n\r\n  useEffect(() => {\r\n    if (loading) {\r\n      changeLoadingSpinnerActive(true);\r\n    }\r\n  }, [loading, deleteAppointmentData]);\r\n\r\n  useEffect(() => {\r\n    if (!splashScreenComplete) {\r\n      dispatch(ACTION_SPLASH_SCREEN_COMPLETE());\r\n    }\r\n    if (!splashScreenHalfway) {\r\n      dispatch(ACTION_SPLASH_SCREEN_HALFWAY());\r\n    }\r\n  }, [dispatch, splashScreenComplete, splashScreenHalfway]);\r\n\r\n  const redirectToLogInPage = () => {\r\n    if (!userAuthenticated && !adminAuthenticated) {\r\n      return <Redirect to=\"/account/login\" />;\r\n    }\r\n  };\r\n\r\n  useMemo(() => {\r\n    if (!upcomingAppointmentsCalled) {\r\n      getOwnAppointments();\r\n    }\r\n  }, [getOwnAppointments, upcomingAppointmentsCalled]);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  const treatmentsSummaryCardComponentsArr = [\r\n    { name: \"Calm\", component: <CalmSummaryCard /> },\r\n    { name: \"Bacial\", component: <BacialSummaryCard /> },\r\n    { name: \"Clarify\", component: <ClarifySummaryCard /> },\r\n    { name: \"Dermaplaning\", component: <DermaplaningSummaryCard /> },\r\n    { name: \"Glow\", component: <GlowSummaryCard /> },\r\n    { name: \"Quench\", component: <QuenchSummaryCard /> },\r\n    { name: \"Quickie\", component: <QuickieSummaryCard /> },\r\n    { name: \"ChemicalPeel\", component: <ChemicalPeelSummaryCard /> },\r\n    { name: \"CBD\", component: <CBDSummaryCard /> },\r\n    { name: \"Microneedling\", component: <MicroneedleSummaryCard /> },\r\n    { name: \"Rejuvenate\", component: <RejuvenateSummaryCard /> },\r\n    { name: \"Not Sure\", component: <UnsureSummaryCard /> },\r\n    { name: \"Salt Cave\", component: <SaltCaveSummaryCard /> },\r\n  ];\r\n\r\n  const addOnsSummaryCardComponentsArr = [\r\n    { name: \"ExtraExtractions\", component: <ExtraExtractionsSummaryCard /> },\r\n    { name: \"HydroJelly\", component: <HydroJellyMaskSummaryCard /> },\r\n    { name: \"LED\", component: <LEDTherapySummaryCard /> },\r\n    { name: \"Microcurrent\", component: <MicrocurrentSummaryCard /> },\r\n    { name: \"Microdermabrasion\", component: <MicrodermabrasionSummaryCard /> },\r\n    { name: \"Dermarolling\", component: <DermarollingSummaryCard /> },\r\n    { name: \"NanoNeedling\", component: <NanoNeedlingSummaryCard /> },\r\n    { name: \"GuaSha\", component: <GuaShaSummaryCard /> },\r\n    { name: \"Beard\", component: <BeardSummaryCard /> },\r\n  ];\r\n\r\n  const renderSummaryCardTreatments = (dataIndex) => {\r\n    let componentsArr = [];\r\n\r\n    for (let i = 0; i < treatmentsSummaryCardComponentsArr.length; i++) {\r\n      if (upcomingAppointmentsData) {\r\n        if (upcomingAppointmentsData.own_appointments) {\r\n          if (upcomingAppointmentsData.own_appointments[dataIndex].treatments) {\r\n            if (\r\n              upcomingAppointmentsData.own_appointments[dataIndex].treatments[0]\r\n                .name\r\n            ) {\r\n              if (\r\n                upcomingAppointmentsData.own_appointments[dataIndex]\r\n                  .treatments[0].name ===\r\n                treatmentsSummaryCardComponentsArr[i].name\r\n              ) {\r\n                componentsArr.push(\r\n                  treatmentsSummaryCardComponentsArr[i].component\r\n                );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return componentsArr.map((item, index) => (\r\n      <div className=\"my_selected_appointment_treatment_container\" key={index}>\r\n        {item}\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  const renderSummaryCardAddOns = (dataIndex) => {\r\n    let componentsArr = [];\r\n\r\n    for (let i = 0; i < addOnsSummaryCardComponentsArr.length; i++) {\r\n      for (\r\n        let j = 0;\r\n        j < upcomingAppointmentsData.own_appointments[dataIndex].addOns.length;\r\n        j++\r\n      ) {\r\n        if (upcomingAppointmentsData) {\r\n          if (upcomingAppointmentsData.own_appointments) {\r\n            if (\r\n              upcomingAppointmentsData.own_appointments[dataIndex].addOns !== []\r\n            ) {\r\n              if (\r\n                upcomingAppointmentsData.own_appointments[dataIndex].addOns[j]\r\n                  .name\r\n              ) {\r\n                if (\r\n                  upcomingAppointmentsData.own_appointments[dataIndex].addOns[j]\r\n                    .name === addOnsSummaryCardComponentsArr[i].name\r\n                ) {\r\n                  componentsArr.push(\r\n                    addOnsSummaryCardComponentsArr[i].component\r\n                  );\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return componentsArr.map((item, index) => (\r\n      <div className=\"my_selected_appointment_treatment_container\" key={index}>\r\n        {item}\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  // Allows click only if selected appointment modal is not active\r\n\r\n  const handleAppointmentToggled = (e, item) => {\r\n    if (e.currentTarget && individualAppointmentRef) {\r\n      if (individualAppointmentRef.current) {\r\n        if (\r\n          individualAppointmentRef.current.className ===\r\n          e.currentTarget.className\r\n        ) {\r\n          if (selectedAppointmentBackRef) {\r\n            if (!selectedAppointmentBackRef.current) {\r\n              if (item) {\r\n                if (item.id) {\r\n                  changeAppointmentToggled(item.id);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Function for back arrow click to reset selected toggled appointment\r\n\r\n  const handleAppointmentUntoggled = (e) => {\r\n    if (\r\n      (e.currentTarget && selectedAppointmentBackRef) ||\r\n      (e.currentTarget && backToAppointmentsRef)\r\n    ) {\r\n      if (selectedAppointmentBackRef.current || backToAppointmentsRef.current) {\r\n        if (\r\n          selectedAppointmentBackRef.current.className ===\r\n            e.currentTarget.className ||\r\n          backToAppointmentsRef.current.className === e.currentTarget.className\r\n        ) {\r\n          changeAppointmentToggled(\"\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"my_appointments_container\"\r\n      style={{\r\n        height: upcomingAppointmentsData\r\n          ? upcomingAppointmentsData.own_appointments.length > 4\r\n            ? \"100%\"\r\n            : \"100vh\"\r\n          : \"100vh\",\r\n        zIndex: logoutClicked || pdfLoading ? -1 : \"auto\",\r\n      }}\r\n    >\r\n      {redirectToLogInPage()}\r\n      <div\r\n        className=\"my_appointments_header\"\r\n        style={{\r\n          zIndex: cancelAppointmentClicked ? 0 : 3,\r\n          filter: cancelAppointmentClicked ? \"blur(5px)\" : \"none\",\r\n        }}\r\n      >\r\n        {adminAuthenticated ? null : (\r\n          <Link to=\"/account/clientprofile\">\r\n            <FontAwesomeIcon\r\n              className=\"my_appointments_header_back_arrow\"\r\n              icon={faChevronLeft}\r\n            />\r\n          </Link>\r\n        )}\r\n        <h1>\r\n          {adminAuthenticated ? \"CLIENT\" : \"MY\"}{\" \"}\r\n          {!currentScreenSize\r\n            ? initialScreenSize >= 1200\r\n              ? \"UPCOMING \"\r\n              : null\r\n            : currentScreenSize >= 1200\r\n            ? \"UPCOMING \"\r\n            : null}\r\n          APPOINTMENTS\r\n        </h1>\r\n      </div>\r\n      {\r\n        <div\r\n          className=\"my_appointments_sub_header\"\r\n          style={{ zIndex: logoutClicked ? -1 : 2 }}\r\n        >\r\n          <div className=\"upcoming_appointments_upcoming_title_container\">\r\n            <h2>UPCOMING</h2>\r\n          </div>\r\n          <Link\r\n            to=\"/account/clientprofile/pastappointments\"\r\n            className=\"sub_header_container_link\"\r\n          >\r\n            <div className=\"upcoming_appointments_past_title_container\">\r\n              <h2>PAST</h2>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      }\r\n      <div className=\"my_appointments_content_container\">\r\n        <ClientRenderUpcomingAppointments\r\n          upcomingAppointmentsData={upcomingAppointmentsData}\r\n          loadingAppointments={loadingAppointments}\r\n          handleAppointmentToggled={handleAppointmentToggled}\r\n          handleAppointmentUntoggled={handleAppointmentUntoggled}\r\n          handleCancelAppointment={handleCancelAppointment}\r\n          individualAppointmentRef={individualAppointmentRef}\r\n          appointmentToggled={appointmentToggled}\r\n          override={override}\r\n          renderSummaryCardAddOns={renderSummaryCardAddOns}\r\n          renderSummaryCardTreatments={renderSummaryCardTreatments}\r\n          cancelAppointmentClicked={cancelAppointmentClicked}\r\n          changeLoadingSpinnerActive={changeLoadingSpinnerActive}\r\n          loadingSpinnerActive={loadingSpinnerActive}\r\n          ref={{\r\n            individualAppointmentRef: individualAppointmentRef,\r\n            selectedAppointmentBackRef: selectedAppointmentBackRef,\r\n            backToAppointmentsRef: backToAppointmentsRef,\r\n          }}\r\n          currentScreenSize={currentScreenSize}\r\n          initialScreenSize={initialScreenSize}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpcomingAppointments;\r\n"]},"metadata":{},"sourceType":"module"}