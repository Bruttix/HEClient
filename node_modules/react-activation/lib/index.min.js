!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("szfe-tools/lib/flatten"),require("szfe-tools/lib/get"),require("react"),require("create-react-context"),require("szfe-tools/lib/run"),require("szfe-tools/lib/nextTick"),require("szfe-tools/lib/isFunction"),require("szfe-tools/lib/isUndefined"),require("szfe-tools/lib/isObject"),require("hoist-non-react-statics"),require("szfe-tools/lib/value"),require("szfe-tools/lib/debounce"),require("szfe-tools/lib/isArray"),require("szfe-tools/lib/globalThis"),require("react-node-key"),require("szfe-tools/lib/isExist")):"function"==typeof define&&define.amd?define(["exports","szfe-tools/lib/flatten","szfe-tools/lib/get","react","create-react-context","szfe-tools/lib/run","szfe-tools/lib/nextTick","szfe-tools/lib/isFunction","szfe-tools/lib/isUndefined","szfe-tools/lib/isObject","hoist-non-react-statics","szfe-tools/lib/value","szfe-tools/lib/debounce","szfe-tools/lib/isArray","szfe-tools/lib/globalThis","react-node-key","szfe-tools/lib/isExist"],t):t((e=e||self).ReactActivation={},e._flatten,e._get,e.React,e.createContext$1,e._run,e._nextTick,e._isFunction,e._isUndefined,e._isObject,e.hoistStatics,e._value,e._debounce,e._isArray,e._globalThis,e.NodeKey,e._isExist)}(this,function(e,i,l,c,t,f,s,u,d,a,p,h,n,v,y,m,r){"use strict";i=i&&i.hasOwnProperty("default")?i.default:i,l=l&&l.hasOwnProperty("default")?l.default:l;var g="default"in c?c.default:c;function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(n,!0).forEach(function(e){k(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?j(e):t}function A(e,t){return z(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||U()}function I(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function z(e){if(Array.isArray(e))return e}function T(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function U(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t=t&&t.hasOwnProperty("default")?t.default:t,f=f&&f.hasOwnProperty("default")?f.default:f,s=s&&s.hasOwnProperty("default")?s.default:s,u=u&&u.hasOwnProperty("default")?u.default:u,d=d&&d.hasOwnProperty("default")?d.default:d,a=a&&a.hasOwnProperty("default")?a.default:a,p=p&&p.hasOwnProperty("default")?p.default:p,h=h&&h.hasOwnProperty("default")?h.default:h,n=n&&n.hasOwnProperty("default")?n.default:n,v=v&&v.hasOwnProperty("default")?v.default:v,y=y&&y.hasOwnProperty("default")?y.default:y,m=m&&m.hasOwnProperty("default")?m.default:m,r=r&&r.hasOwnProperty("default")?r.default:r;var $=t(),B=$.Provider,R=$.Consumer,D=t(),q=D.Provider,M=D.Consumer,W="jUqy",K=[],V=new Map;function L(e){K.push(e)}var F=function(){function l(e){var t,n;b(this,l);for(var r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];k(j(n=N(this,(t=O(l)).call.apply(t,[this,e].concat(o)))),"unmount",null);var u=e.value;if(0===u.length)return n.state={ctxValue:null},N(n);var c=A(u,1)[0],a=(c.ctx,c.value),s=c.onUpdate;return n.state={ctxValue:a},n.unmount=s(function(e){n.setState({ctxValue:e})}),n}return _(l,c.PureComponent),w(l,[{key:"componentWillUnmount",value:function(){f(this.unmount)}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.children;if(0===t.length)return n;var r=this.state.ctxValue,o=function(e){return z(e)||T(e)||U()}(t),i=o[0].ctx,u=o.slice(1),c=i.Provider,a=d(r)?n:g.createElement(c,{value:r,_nk:"".concat(W,"11")},n);return 0<u.length?g.createElement(l,{value:u,_nk:"".concat(W,"21")},a):a}}]),l}(),H=function(){function s(e){var t,n;b(this,s);for(var r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];k(j(n=N(this,(t=O(s)).call.apply(t,[this,e].concat(o)))),"updateListener",null),k(j(n),"ctxInfo",null);var u=e.value,c=e.ctx,a=e.id;return d(u)?N(n):(n.updateListener=l(V.get(c),a,new Map),n.ctxInfo={ctx:c,value:u,onUpdate:function(e){return n.updateListener.set(e,e),function(){return n.updateListener.delete(e)}}},n)}return _(s,c.PureComponent),w(s,[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.value,n=e.ctx,r=e.id;d(t)||V.set(n,P({},l(V.get(n),void 0,{}),k({},r,this.updateListener)))}},{key:"shouldComponentUpdate",value:function(e){var t=e.value,n=this.props.prevValue!==t;return n&&f(this.updateListener,"forEach",function(e){return e(t)}),n}},{key:"render",value:function(){var t=this,e=this.props,n=e.value,r=e.renderWrapper,o=e.renderContent;e.id;return r(function(e){return o(d(n)?e:[].concat(I(e),[t.ctxInfo]))})}}]),s}();function X(e){var t=e.children;return f(t)}var G=[c.useContext,c.useRef,c.useEffect].every(u)?function(e){var t=e.children,o=e.id;return t(K.map(function(e){var t=c.useContext(e),n=c.useRef(t),r=c.useRef(l(V.get(e),o,new Map)).current;return n.current!==t&&s(function(){return f(r,"forEach",function(e){return e(t)})}),n.current=t,c.useEffect(function(){return function(){d(t)||V.set(e,P({},l(V.get(e),void 0,{}),k({},o,r)))}},[]),{ctx:e,value:t,onUpdate:function(e){return r.set(e,e),function(){return r.delete(e)}}}}).filter(function(e){var t=e.value;return!d(t)}))}:function(e){var t=e.children,o=e.id;return K.reduce(function(n,r){var e=r.Consumer;return function(t){return g.createElement(e,{_nk:"".concat(W,"31")},function(e){return g.createElement(H,S({value:e,ctx:r,renderWrapper:n,renderContent:t,id:o},{_nk:"".concat(W,"41")}))})}},function(e){return e([])})(t)},Y="46lG",J=u(c.lazy)&&!d(c.Suspense),Q=J?c.lazy(function(){return new Promise(function(){return null})}):function(){return null},Z=function(){function e(){return b(this,e),N(this,O(e).apply(this,arguments))}return _(e,c.Component),w(e,[{key:"componentDidMount",value:function(){f(this.props,"onStart")}},{key:"componentWillUnmount",value:function(){f(this.props,"onEnd")}},{key:"render",value:function(){return null}}]),e}();var ee=J?function(){function i(){var e,t;b(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return k(j(t=N(this,(e=O(i)).call.apply(e,[this].concat(r)))),"state",{suspense:!1}),k(j(t),"onSuspenseStart",function(){t.setState({suspense:!0})}),k(j(t),"onSuspenseEnd",function(){t.setState({suspense:!1})}),k(j(t),"sus$$",{onSuspenseStart:t.onSuspenseStart,onSuspenseEnd:t.onSuspenseEnd}),t}return _(i,c.Component),w(i,[{key:"render",value:function(){var e=this.props.children;return g.createElement(c.Fragment,null,f(e,void 0,this.sus$$),this.state.suspense&&g.createElement(Q,{_nk:"".concat(Y,"31")}))}}]),i}():X,te=J?function(e){var t=e.children,n=e.sus$$;return g.createElement(c.Suspense,{fallback:g.createElement(Z,{onStart:n.onSuspenseStart,onEnd:n.onSuspenseEnd,_nk:"".concat(Y,"21")}),_nk:"".concat(Y,"11")},t)}:X,ne=function(){function e(){return b(this,e),N(this,O(e).apply(this,arguments))}return _(e,c.Component),w(e,[{key:"componentDidCatch",value:function(e){var t=this.props.error$$;f(t,void 0,e,function(){f(t,void 0,null)})}},{key:"render",value:function(){return this.props.children}}]),e}();k(ne,"getDerivedStateFromError",function(){return null});var re=function(){function i(){var e,n;b(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return k(j(n=N(this,(e=O(i)).call.apply(e,[this].concat(r)))),"state",{error:null}),k(j(n),"throwError",function(e,t){return n.setState({error:e},t)}),n}return _(i,c.Component),w(i,[{key:"render",value:function(){if(this.state.error)throw this.state.error;return f(this.props.children,void 0,this.throwError)}}]),i}(),oe="lajT";function ie(e){var t=e.id,n=e.children,r=e.bridgeProps,o=r.sus$$,i=r.ctx$$,u=r.error$$;return g.createElement(ne,{error$$:u,_nk:"".concat(oe,"11")},g.createElement(te,{sus$$:o,_nk:"".concat(oe,"21")},g.createElement(F,{id:t,value:i,_nk:"".concat(oe,"31")},n)))}function ue(e){var r=e.id,o=e.children;return g.createElement(re,{_nk:"".concat(oe,"41")},function(n){return g.createElement(ee,{_nk:"".concat(oe,"51")},function(t){return g.createElement(G,{id:r,_nk:"".concat(oe,"61")},function(e){return f(o,void 0,{bridgeProps:{sus$$:t,ctx$$:e,error$$:n}})})})})}function ce(o){var n=function(){function i(){var e,t;b(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return k(j(t=N(this,(e=O(i)).call.apply(e,[this].concat(r)))),"drop",null),t}return _(i,c.Component),w(i,[{key:"componentWillUnmount",value:function(){f(this.drop)}},{key:"render",value:function(){var n=this,e=this.props,r=e.forwardedRef,t=x(e,["forwardedRef"]);return g.createElement(M,{_nk:"".concat(se,"11")},function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).attach;return g.createElement(o,S({ref:function(t){[le,fe].every(function(e){return!u(l(t,e))})||(n.drop=f(e,void 0,t),d(r)||(a(r)&&"current"in r?r.current=t:f(r,void 0,t)))}},t,{_nk:"".concat(se,"21")}))})}}]),i}();if(u(o.prototype.componentDidMount)&&(o.prototype._componentDidMount=o.prototype.componentDidMount,o.prototype.componentDidMount=function(){var e=this;s(function(){return o.prototype._componentDidMount.call(e)})}),u(c.forwardRef)){var e=c.forwardRef(function(e,t){return g.createElement(n,S({},e,{forwardedRef:t,_nk:"".concat(se,"31")}))});return p(e,o)}return p(n,o)}function ae(e,t){if(![c.useRef,c.useContext,c.useEffect].some(function(e){return!u(e)})){var n=c.useContext(D);if(n){var r=c.useRef({}).current,o=n.attach;r[e]=t,r.drop=o(r),c.useEffect(function(){return function(){return f(r.drop)}},[])}}}var se="XKTv",le="componentDidActivate",fe="componentWillUnactivate",de=ae.bind(null,le),pe=ae.bind(null,fe),he="bNyU",ve=function(){function u(e){var t,o;b(this,u);for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return k(j(o=N(this,(t=O(u)).call.apply(t,[this,e].concat(r)))),"listeners",new Map),k(j(o),"wrapper",null),k(j(o),"attach",function(r){var e,t=o.listeners;return r?(r.isKeepAlive&&s(function(){var e=o.props,t=e.id,n=e.store.get(t);n.aliveNodesId=new Set([].concat(I(n.aliveNodesId),[r.id]))}),t.set(r,(k(e={},le,function(){return f(r,le)}),k(e,fe,function(){return f(r,fe)}),e)),function(){t.delete(r)}):function(){return null}}),k(j(o),"contextValue",{id:o.props.id,attach:o.attach}),k(j(o),"refresh",function(e){return o.setState({key:Math.random()},e)}),o.state={children:e.children,bridgeProps:e.bridgeProps,key:Math.random()},o}return _(u,c.PureComponent),w(u,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.store,o=n.id,i=this.listeners,u=this.wrapper;r.has(o)||r.set(o,(k(e={listeners:i,aliveNodesId:[],inited:!1,cached:!1,wrapper:u,nodes:I(u.children)},le,function(){return t[le]()}),k(e,fe,function(){return t[fe]()}),e))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.store,n=e.keepers,r=e.id;try{var o=t.get(r);o.nodes.forEach(function(e){o.wrapper.appendChild(e)})}catch(e){}t.delete(r),n.delete(r)}},{key:le,value:function(){this.listeners.forEach(function(e){return f(e,[le])})}},{key:fe,value:function(){I(this.listeners).reverse().forEach(function(e){var t=A(e,2)[1];return f(t,[fe])})}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,r=(x(e,["id"]),this.state),o=r.children,i=r.bridgeProps,u=r.key;return g.createElement("div",{ref:function(e){t.wrapper=e},_nk:"".concat(he,"11")},g.createElement("div",{key:"keeper-container",className:"ka-content"},g.createElement(ie,{id:n,bridgeProps:i,_nk:"".concat(he,"21")},g.createElement(q,{value:this.contextValue,_nk:"".concat(he,"31")},g.cloneElement(o,{key:"".concat(o.key,":").concat(u)})))))}}]),u}(),ye="UVSV",me="drop",ge="refresh",be=function(){function o(){var e,s;b(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(j(s=N(this,(e=O(o)).call.apply(e,[this].concat(n)))),"store",new Map),k(j(s),"nodes",new Map),k(j(s),"keepers",new Map),k(j(s),"update",function(c,a){return new Promise(function(e){var t=s.keepers.get(c),n=!t,r=Date.now(),o=s.nodes.get(c)||null;if(s.nodes.set(c,P({id:c,createTime:r,updateTime:r},o,{},a)),n)s.helpers=P({},s.helpers),s.forceUpdate(e);else{var i=a.children,u=a.bridgeProps;t.setState({children:i,bridgeProps:u},e)}})}),k(j(s),"keep",function(t,n){return new Promise(function(e){s.update(t,P({id:t},n)).then(function(){e(s.store.get(t))})})}),k(j(s),"getCachingNodesByName",function(t){return s.getCachingNodes().filter(function(e){return function(e){return e instanceof RegExp}(t)?t.test(e.name):e.name===t})}),k(j(s),"getScopeIds",function(e){return i(e.map(function(e){return function e(t){var n=l(s.getCache(t),"aliveNodesId",[]);return 0<n.size?[t,I(n).map(e)]:[t].concat(I(n))}(e)}))}),k(j(s),"dropById",function(e){return s.handleNodes([e],me)}),k(j(s),"dropScopeByIds",function(e){return s.handleNodes(s.getScopeIds(e),me)}),k(j(s),"drop",function(e){return s.handleNodes(s.getCachingNodesByName(e).map(function(e){return e.id}),me)}),k(j(s),"dropScope",function(e){return s.dropScopeByIds(s.getCachingNodesByName(e).map(function(e){return e.id}))}),k(j(s),"refreshById",function(e){return s.handleNodes([e],ge)}),k(j(s),"refreshScopeByIds",function(e){return s.handleNodes(s.getScopeIds(e),ge)}),k(j(s),"refresh",function(e){return s.handleNodes(s.getCachingNodesByName(e).map(function(e){return e.id}),ge)}),k(j(s),"refreshScope",function(e){return s.refreshScopeByIds(s.getCachingNodesByName(e).map(function(e){return e.id}))}),k(j(s),"handleNodes",function(e){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:me;return new Promise(function(o){var i=[],u=[];e.forEach(function(e){var t=s.store.get(e);if(t){var n=c===ge&&!l(t,"cached");if((c===me&&l(t,"cached")||l(t,"willDrop"))&&(t.willDrop=!0,s.nodes.delete(e),u.push(e)),n){var r=s.keepers.get(e);i.push(r)}}}),Promise.all([0===u.length?Promise.resolve(!1):new Promise(function(e){s.helpers=P({},s.helpers),s.forceUpdate(function(){return e(!0)})}),0===i.length?Promise.resolve(!1):Promise.all(i.map(function(t){return new Promise(function(e){return t.refresh(e)})}))]).then(function(e){var t=A(e,2),n=t[0],r=t[1];return o(Boolean(n||r))})})}),k(j(s),"clear",function(){return s.handleNodes(s.getCachingNodes().map(function(e){return e.id}))}),k(j(s),"getCache",function(e){return s.store.get(e)}),k(j(s),"getNode",function(e){return s.nodes.get(e)}),k(j(s),"getCachingNodes",function(){return I(s.nodes.values())}),k(j(s),"helpers",{keep:s.keep,update:s.update,drop:s.drop,dropScope:s.dropScope,dropById:s.dropById,dropScopeByIds:s.dropScopeByIds,refresh:s.refresh,refreshScope:s.refreshScope,refreshById:s.refreshById,refreshScopeByIds:s.refreshScopeByIds,getScopeIds:s.getScopeIds,clear:s.clear,getCache:s.getCache,getNode:s.getNode,getCachingNodes:s.getCachingNodes}),s}return _(o,c.Component),w(o,[{key:"render",value:function(){var r=this,e=this.props.children;return g.createElement(B,{value:this.helpers,_nk:"".concat(ye,"11")},e,g.createElement("div",{style:{display:"none"},_nk:"".concat(ye,"21")},I(this.nodes.values()).map(function(e){var t=e.children,n=x(e,["children"]);return g.createElement(ve,S({key:n.id},n,{store:r.store,keepers:r.keepers,ref:function(e){r.keepers.set(n.id,e)},_nk:"iAr".concat(ye,"31")}),t)})))}}]),o}(),we="X7Aa";function ke(e){return{drop:e.drop,dropScope:e.dropScope,refresh:e.refresh,refreshScope:e.refreshScope,clear:e.clear,getCachingNodes:e.getCachingNodes}}function Se(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return!!r(e)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)}function Ee(e){return u(l(y,"document.querySelectorAll"))?[].concat(I(h(f(e,"querySelectorAll","*"),[])),[e]).filter(Se):[]}var Pe=l(y,"document.body"),_e=l(y,"document.scrollingElement",l(y,"document.documentElement",{})),Oe=function(){function t(e){var c;return b(this,t),k(j(c=N(this,O(t).call(this,e))),"updateTimes",0),k(j(c),"errorTips",n(function(){var e=c.props.name;console.error(function(e){return"<KeepAlive ".concat(e?'name="'.concat(e,'" '):"","/> Too many transient updates, may have encountered an infinite loop of updates, forced to pause the update\nThere are serious performance issues with the update results you are currently seeing\nMay encounter an implied bug, please don't use KeepAlive and contact the author to solve")}(e))},100)),k(j(c),"releaseUpdateTimes",n(function(){c.updateTimes=0},16)),k(j(c),"needForceStopUpdate",function(){var e=64<c.updateTimes;return e&&c.errorTips(),c.updateTimes++,c.releaseUpdateTimes(),e}),k(j(c),"id",null),k(j(c),"isKeepAlive",!0),k(j(c),"cached",!1),k(j(c),"inject",function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=c.props,n=t.id,r=t.saveScrollPosition,o=t._helpers.getCache(n);try{o.nodes.forEach(function(e){c.placeholder.appendChild(e)}),e&&r&&f(o.revertScrollPos)}catch(e){}}),k(j(c),"eject",function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=c.props,n=e.id,r=e._helpers.getCache(n),o=i(i([c.props.saveScrollPosition]).map(function(e){return!0===e?r.nodes:"screen"===e?[_e,Pe]:I(h(f(y,"document.querySelectorAll",e),[]))})).filter(Boolean);try{t&&0<o.length&&(r.revertScrollPos=function(e){var t=I(new Set(I(i(e.map(Ee))))).map(function(e){return[e,{x:e.scrollLeft,y:e.scrollTop}]});return function(){t.forEach(function(e){var t=A(e,2),n=t[0],r=t[1],o=r.x,i=r.y;n.scrollLeft=o,n.scrollTop=i})}}(o)),r.nodes.forEach(function(e){t?c.placeholder.removeChild(e):r.wrapper.appendChild(e)})}catch(e){}}),k(j(c),"init",function(){var e=c.props,t=e._helpers,n=e.id,r=e.children,o=x(e,["_helpers","id","children"]);t.keep(n,P({children:r,getInstance:function(){return j(c)}},o)).then(function(e){e&&(c.inject(),e.inited?f(j(c),le):e.inited=!0,c.cached=!1)})}),k(j(c),"update",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e._helpers,n=e.id,r=e.name,o=x(e,["_helpers","id","name"]);!t||c.cached||c.needForceStopUpdate(r)||t.update(n,P({name:r,getInstance:function(){return j(c)}},o))}),c.id=e.id,c.init(),[le,fe].forEach(function(u){c[u]=function(){var e=c.props,t=e.id,n=e._helpers,r=n.getCache(t),o=n.getNode(t);o&&u==le&&(o.updateTime=Date.now());var i=u===fe;r&&!r.willDrop?(f(r,u),r.cached=i,c.cached=i):c.cached&&!i&&c.init()}}),c}return _(t,c.Component),w(t,[{key:"shouldComponentUpdate",value:function(e){return this.update(e),!1}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.id,n=e._helpers,r=e.when,o=void 0===r||r,i=n.getCache(t),u=A(function(e){return v(e)?e:[e]}(f(o)),2),c=u[0],a=u[1];if(i){if(this.eject(),delete i.getInstance,!c)if(a)[i].concat(I(n.getScopeIds([t]).map(function(e){return n.getCache(e)}))).forEach(function(e){e.willDrop=!0}),s(function(){return n.dropScopeByIds([t])});else i.willDrop=!0,s(function(){return n.dropById(t)});f(this,fe)}}},{key:"render",value:function(){var t=this;return g.createElement("div",{key:"keep-alive-placeholder",className:"ka-wrapper",ref:function(e){t.placeholder=e}})}}]),t}();k(Oe,"defaultProps",{saveScrollPosition:!0});var Ce,xe=u(l(y,"document.getElementById"))?(Ce=ce(Oe),u(c.useContext)?function(e){var t=e.id,n=x(e,["id"]);return je({idPrefix:t,helpers:c.useContext($),props:n})}:function(e){var t=e.id,n=x(e,["id"]);return g.createElement(R,{_nk:"".concat(we,"41")},function(e){return je({idPrefix:t,helpers:e,props:n})})}):function(e){var t=e.children;return g.createElement("div",{key:"keep-alive-placeholder",className:"ka-wrapper"},g.createElement("div",{key:"keeper-container",className:"ka-content"},t))};function je(e){var t=e.idPrefix,n=e.helpers,r=e.props,o=d(n);return o&&console.error("You should not use <KeepAlive /> outside a <AliveScope>"),o?l(r,"children",null):g.createElement(m,{prefix:t,key:r._nk,_nk:"".concat(we,"11")},function(t){return g.createElement(ue,{id:t,_nk:"".concat(we,"21")},function(e){return g.createElement(Ce,S({key:t},r,e,{id:t,_helpers:n,_nk:"".concat(we,"31")}))})})}e.AliveScope=be,e.KeepAlive=xe,e.NodeKey=m,e.createContext=function(){var e=t.apply(void 0,arguments);return L(e),e},e.default=xe,e.fixContext=L,e.useActivate=de,e.useAliveController=function(){if(!u(c.useContext))return{};var e=c.useContext($);return e?ke(e):{}},e.useUnactivate=pe,e.withActivation=ce,e.withAliveScope=function(o){function r(e){var t=e.helpers,n=e.props,r=e.forwardedRef;return g.createElement(o,S({},n,t,{ref:r,_nk:"".concat(we,"51")}))}var n=u(c.useContext)?function(e){var t=e.forwardedRef,n=x(e,["forwardedRef"]);return r({helpers:ke(c.useContext($)||{}),props:n,forwardedRef:t})}:function(e){var t=e.forwardedRef,n=x(e,["forwardedRef"]);return g.createElement(R,{_nk:"".concat(we,"42")},function(){return r({helpers:ke(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),props:n,forwardedRef:t})})};if(u(c.forwardRef)){var e=c.forwardRef(function(e,t){return g.createElement(n,S({},e,{forwardedRef:t,_nk:"".concat(we,"61")}))});return p(e,o)}return p(n,o)},Object.defineProperty(e,"__esModule",{value:!0})});
